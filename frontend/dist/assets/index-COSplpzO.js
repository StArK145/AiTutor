function _mergeNamespaces(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var s=!1;try{s=this instanceof i}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var m in s)m!=="key"&&(o[m]=s[m])}else o=s;return s=o.ref,{$$typeof:t,type:i,key:c,ref:s!==void 0?s:null,props:o}}return reactJsxRuntime_production.Fragment=e,reactJsxRuntime_production.jsx=n,reactJsxRuntime_production.jsxs=n,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function b(S){return S===null||typeof S!="object"?null:(S=f&&S[f]||S["@@iterator"],typeof S=="function"?S:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,v={};function A(S,J,ae){this.props=S,this.context=J,this.refs=v,this.updater=ae||y}A.prototype.isReactComponent={},A.prototype.setState=function(S,J){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,J,"setState")},A.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function w(){}w.prototype=A.prototype;function P(S,J,ae){this.props=S,this.context=J,this.refs=v,this.updater=ae||y}var Z=P.prototype=new w;Z.constructor=P,p(Z,A.prototype),Z.isPureReactComponent=!0;var Q=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function j(S,J,ae,D,de,ce){return ae=ce.ref,{$$typeof:t,type:S,key:J,ref:ae!==void 0?ae:null,props:ce}}function T(S,J){return j(S.type,J,void 0,void 0,void 0,S.props)}function I(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function Y(S){var J={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(ae){return J[ae]})}var R=/\/+/g;function U(S,J){return typeof S=="object"&&S!==null&&S.key!=null?Y(""+S.key):J.toString(36)}function G(){}function ue(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(G,G):(S.status="pending",S.then(function(J){S.status==="pending"&&(S.status="fulfilled",S.value=J)},function(J){S.status==="pending"&&(S.status="rejected",S.reason=J)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function he(S,J,ae,D,de){var ce=typeof S;(ce==="undefined"||ce==="boolean")&&(S=null);var H=!1;if(S===null)H=!0;else switch(ce){case"bigint":case"string":case"number":H=!0;break;case"object":switch(S.$$typeof){case t:case e:H=!0;break;case d:return H=S._init,he(H(S._payload),J,ae,D,de)}}if(H)return de=de(S),H=D===""?"."+U(S,0):D,Q(de)?(ae="",H!=null&&(ae=H.replace(R,"$&/")+"/"),he(de,J,ae,"",function(me){return me})):de!=null&&(I(de)&&(de=T(de,ae+(de.key==null||S&&S.key===de.key?"":(""+de.key).replace(R,"$&/")+"/")+H)),J.push(de)),1;H=0;var ne=D===""?".":D+":";if(Q(S))for(var oe=0;oe<S.length;oe++)D=S[oe],ce=ne+U(D,oe),H+=he(D,J,ae,ce,de);else if(oe=b(S),typeof oe=="function")for(S=oe.call(S),oe=0;!(D=S.next()).done;)D=D.value,ce=ne+U(D,oe++),H+=he(D,J,ae,ce,de);else if(ce==="object"){if(typeof S.then=="function")return he(ue(S),J,ae,D,de);throw J=String(S),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return H}function se(S,J,ae){if(S==null)return S;var D=[],de=0;return he(S,D,"","",function(ce){return J.call(ae,ce,de++)}),D}function ee(S){if(S._status===-1){var J=S._result;J=J(),J.then(function(ae){(S._status===0||S._status===-1)&&(S._status=1,S._result=ae)},function(ae){(S._status===0||S._status===-1)&&(S._status=2,S._result=ae)}),S._status===-1&&(S._status=0,S._result=J)}if(S._status===1)return S._result.default;throw S._result}var W=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function $(){}return react_production.Children={map:se,forEach:function(S,J,ae){se(S,function(){J.apply(this,arguments)},ae)},count:function(S){var J=0;return se(S,function(){J++}),J},toArray:function(S){return se(S,function(J){return J})||[]},only:function(S){if(!I(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},react_production.Component=A,react_production.Fragment=n,react_production.Profiler=s,react_production.PureComponent=P,react_production.StrictMode=i,react_production.Suspense=_,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(S){return z.H.useMemoCache(S)}},react_production.cache=function(S){return function(){return S.apply(null,arguments)}},react_production.cloneElement=function(S,J,ae){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var D=p({},S.props),de=S.key,ce=void 0;if(J!=null)for(H in J.ref!==void 0&&(ce=void 0),J.key!==void 0&&(de=""+J.key),J)!K.call(J,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&J.ref===void 0||(D[H]=J[H]);var H=arguments.length-2;if(H===1)D.children=ae;else if(1<H){for(var ne=Array(H),oe=0;oe<H;oe++)ne[oe]=arguments[oe+2];D.children=ne}return j(S.type,de,void 0,void 0,ce,D)},react_production.createContext=function(S){return S={$$typeof:c,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:o,_context:S},S},react_production.createElement=function(S,J,ae){var D,de={},ce=null;if(J!=null)for(D in J.key!==void 0&&(ce=""+J.key),J)K.call(J,D)&&D!=="key"&&D!=="__self"&&D!=="__source"&&(de[D]=J[D]);var H=arguments.length-2;if(H===1)de.children=ae;else if(1<H){for(var ne=Array(H),oe=0;oe<H;oe++)ne[oe]=arguments[oe+2];de.children=ne}if(S&&S.defaultProps)for(D in H=S.defaultProps,H)de[D]===void 0&&(de[D]=H[D]);return j(S,ce,void 0,void 0,null,de)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(S){return{$$typeof:m,render:S}},react_production.isValidElement=I,react_production.lazy=function(S){return{$$typeof:d,_payload:{_status:-1,_result:S},_init:ee}},react_production.memo=function(S,J){return{$$typeof:h,type:S,compare:J===void 0?null:J}},react_production.startTransition=function(S){var J=z.T,ae={};z.T=ae;try{var D=S(),de=z.S;de!==null&&de(ae,D),typeof D=="object"&&D!==null&&typeof D.then=="function"&&D.then($,W)}catch(ce){W(ce)}finally{z.T=J}},react_production.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},react_production.use=function(S){return z.H.use(S)},react_production.useActionState=function(S,J,ae){return z.H.useActionState(S,J,ae)},react_production.useCallback=function(S,J){return z.H.useCallback(S,J)},react_production.useContext=function(S){return z.H.useContext(S)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(S,J){return z.H.useDeferredValue(S,J)},react_production.useEffect=function(S,J,ae){var D=z.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return D.useEffect(S,J)},react_production.useId=function(){return z.H.useId()},react_production.useImperativeHandle=function(S,J,ae){return z.H.useImperativeHandle(S,J,ae)},react_production.useInsertionEffect=function(S,J){return z.H.useInsertionEffect(S,J)},react_production.useLayoutEffect=function(S,J){return z.H.useLayoutEffect(S,J)},react_production.useMemo=function(S,J){return z.H.useMemo(S,J)},react_production.useOptimistic=function(S,J){return z.H.useOptimistic(S,J)},react_production.useReducer=function(S,J,ae){return z.H.useReducer(S,J,ae)},react_production.useRef=function(S){return z.H.useRef(S)},react_production.useState=function(S){return z.H.useState(S)},react_production.useSyncExternalStore=function(S,J,ae){return z.H.useSyncExternalStore(S,J,ae)},react_production.useTransition=function(){return z.H.useTransition()},react_production.version="19.1.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(t){function e(se,ee){var W=se.length;se.push(ee);e:for(;0<W;){var $=W-1>>>1,S=se[$];if(0<s(S,ee))se[$]=ee,se[W]=S,W=$;else break e}}function n(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var ee=se[0],W=se.pop();if(W!==ee){se[0]=W;e:for(var $=0,S=se.length,J=S>>>1;$<J;){var ae=2*($+1)-1,D=se[ae],de=ae+1,ce=se[de];if(0>s(D,W))de<S&&0>s(ce,D)?(se[$]=ce,se[de]=W,$=de):(se[$]=D,se[ae]=W,$=ae);else if(de<S&&0>s(ce,W))se[$]=ce,se[de]=W,$=de;else break e}}return ee}function s(se,ee){var W=se.sortIndex-ee.sortIndex;return W!==0?W:se.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,m=c.now();t.unstable_now=function(){return c.now()-m}}var _=[],h=[],d=1,f=null,b=3,y=!1,p=!1,v=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function Q(se){for(var ee=n(h);ee!==null;){if(ee.callback===null)i(h);else if(ee.startTime<=se)i(h),ee.sortIndex=ee.expirationTime,e(_,ee);else break;ee=n(h)}}function z(se){if(v=!1,Q(se),!p)if(n(_)!==null)p=!0,K||(K=!0,U());else{var ee=n(h);ee!==null&&he(z,ee.startTime-se)}}var K=!1,j=-1,T=5,I=-1;function Y(){return A?!0:!(t.unstable_now()-I<T)}function R(){if(A=!1,K){var se=t.unstable_now();I=se;var ee=!0;try{e:{p=!1,v&&(v=!1,P(j),j=-1),y=!0;var W=b;try{t:{for(Q(se),f=n(_);f!==null&&!(f.expirationTime>se&&Y());){var $=f.callback;if(typeof $=="function"){f.callback=null,b=f.priorityLevel;var S=$(f.expirationTime<=se);if(se=t.unstable_now(),typeof S=="function"){f.callback=S,Q(se),ee=!0;break t}f===n(_)&&i(_),Q(se)}else i(_);f=n(_)}if(f!==null)ee=!0;else{var J=n(h);J!==null&&he(z,J.startTime-se),ee=!1}}break e}finally{f=null,b=W,y=!1}ee=void 0}}finally{ee?U():K=!1}}}var U;if(typeof Z=="function")U=function(){Z(R)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ue=G.port2;G.port1.onmessage=R,U=function(){ue.postMessage(null)}}else U=function(){w(R,0)};function he(se,ee){j=w(function(){se(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(se){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var W=b;b=ee;try{return se()}finally{b=W}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(se,ee){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var W=b;b=se;try{return ee()}finally{b=W}},t.unstable_scheduleCallback=function(se,ee,W){var $=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$+W:$):W=$,se){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=W+S,se={id:d++,callback:ee,priorityLevel:se,startTime:W,expirationTime:S,sortIndex:-1},W>$?(se.sortIndex=W,e(h,se),n(_)===null&&se===n(h)&&(v?(P(j),j=-1):v=!0,he(z,W-$))):(se.sortIndex=S,e(_,se),p||y||(p=!0,K||(K=!0,U()))),se},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(se){var ee=b;return function(){var W=b;b=ee;try{return se.apply(this,arguments)}finally{b=W}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var t=requireReact();function e(_){var h="https://react.dev/errors/"+_;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+_+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(_,h,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:f==null?null:""+f,children:_,containerInfo:h,implementation:d}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(_,h){if(_==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,reactDom_production.createPortal=function(_,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(_,h,null,d)},reactDom_production.flushSync=function(_){var h=c.T,d=i.p;try{if(c.T=null,i.p=2,_)return _()}finally{c.T=h,i.p=d,i.d.f()}},reactDom_production.preconnect=function(_,h){typeof _=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(_,h))},reactDom_production.prefetchDNS=function(_){typeof _=="string"&&i.d.D(_)},reactDom_production.preinit=function(_,h){if(typeof _=="string"&&h&&typeof h.as=="string"){var d=h.as,f=m(d,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?i.d.S(_,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:f,integrity:b,fetchPriority:y}):d==="script"&&i.d.X(_,{crossOrigin:f,integrity:b,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},reactDom_production.preinitModule=function(_,h){if(typeof _=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=m(h.as,h.crossOrigin);i.d.M(_,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(_)},reactDom_production.preload=function(_,h){if(typeof _=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,f=m(d,h.crossOrigin);i.d.L(_,d,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},reactDom_production.preloadModule=function(_,h){if(typeof _=="string")if(h){var d=m(h.as,h.crossOrigin);i.d.m(_,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(_)},reactDom_production.requestFormReset=function(_){i.d.r(_)},reactDom_production.unstable_batchedUpdates=function(_,h){return _(h)},reactDom_production.useFormState=function(_,h,d){return c.H.useFormState(_,h,d)},reactDom_production.useFormStatus=function(){return c.H.useHostTransitionStatus()},reactDom_production.version="19.1.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var t=requireScheduler(),e=requireReact(),n=requireReactDom();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function m(r){if(o(r)!==r)throw Error(i(188))}function _(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,u=a;;){var E=l.return;if(E===null)break;var C=E.alternate;if(C===null){if(u=E.return,u!==null){l=u;continue}break}if(E.child===C.child){for(C=E.child;C;){if(C===l)return m(E),r;if(C===u)return m(E),a;C=C.sibling}throw Error(i(188))}if(l.return!==u.return)l=E,u=C;else{for(var le=!1,ge=E.child;ge;){if(ge===l){le=!0,l=E,u=C;break}if(ge===u){le=!0,u=E,l=C;break}ge=ge.sibling}if(!le){for(ge=C.child;ge;){if(ge===l){le=!0,l=C,u=E;break}if(ge===u){le=!0,u=C,l=E;break}ge=ge.sibling}if(!le)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function h(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=h(r),a!==null)return a;r=r.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=R&&r[R]||r["@@iterator"],typeof r=="function"?r:null)}var G=Symbol.for("react.client.reference");function ue(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===G?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case p:return"Fragment";case A:return"Profiler";case v:return"StrictMode";case z:return"Suspense";case K:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case y:return"Portal";case Z:return(r.displayName||"Context")+".Provider";case P:return(r._context.displayName||"Context")+".Consumer";case Q:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case j:return a=r.displayName||null,a!==null?a:ue(r.type)||"Memo";case T:a=r._payload,r=r._init;try{return ue(r(a))}catch{}}return null}var he=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},$=[],S=-1;function J(r){return{current:r}}function ae(r){0>S||(r.current=$[S],$[S]=null,S--)}function D(r,a){S++,$[S]=r.current,r.current=a}var de=J(null),ce=J(null),H=J(null),ne=J(null);function oe(r,a){switch(D(H,a),D(ce,r),D(de,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?qh(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=qh(a),r=Hh(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ae(de),D(de,r)}function me(){ae(de),ae(ce),ae(H)}function ve(r){r.memoizedState!==null&&D(ne,r);var a=de.current,l=Hh(a,r.type);a!==l&&(D(ce,r),D(de,l))}function ye(r){ce.current===r&&(ae(de),ae(ce)),ne.current===r&&(ae(ne),Po._currentValue=W)}var xe=Object.prototype.hasOwnProperty,je=t.unstable_scheduleCallback,Je=t.unstable_cancelCallback,Le=t.unstable_shouldYield,qe=t.unstable_requestPaint,ze=t.unstable_now,ke=t.unstable_getCurrentPriorityLevel,De=t.unstable_ImmediatePriority,tt=t.unstable_UserBlockingPriority,Xe=t.unstable_NormalPriority,rt=t.unstable_LowPriority,pt=t.unstable_IdlePriority,vt=t.log,Pt=t.unstable_setDisableYieldValue,Be=null,Ve=null;function mt(r){if(typeof vt=="function"&&Pt(r),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode(Be,r)}catch{}}var ht=Math.clz32?Math.clz32:gn,wt=Math.log,Ut=Math.LN2;function gn(r){return r>>>=0,r===0?32:31-(wt(r)/Ut|0)|0}var Gt=256,et=4194304;function Pe(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Te(r,a,l){var u=r.pendingLanes;if(u===0)return 0;var E=0,C=r.suspendedLanes,le=r.pingedLanes;r=r.warmLanes;var ge=u&134217727;return ge!==0?(u=ge&~C,u!==0?E=Pe(u):(le&=ge,le!==0?E=Pe(le):l||(l=ge&~r,l!==0&&(E=Pe(l))))):(ge=u&~C,ge!==0?E=Pe(ge):le!==0?E=Pe(le):l||(l=u&~r,l!==0&&(E=Pe(l)))),E===0?0:a!==0&&a!==E&&(a&C)===0&&(C=E&-E,l=a&-a,C>=l||C===32&&(l&4194048)!==0)?a:E}function ct(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function zt(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function It(){var r=Gt;return Gt<<=1,(Gt&4194048)===0&&(Gt=256),r}function Wt(){var r=et;return et<<=1,(et&62914560)===0&&(et=4194304),r}function Wn(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function Vn(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function cr(r,a,l,u,E,C){var le=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var ge=r.entanglements,Ae=r.expirationTimes,$e=r.hiddenUpdates;for(l=le&~l;0<l;){var nt=31-ht(l),ot=1<<nt;ge[nt]=0,Ae[nt]=-1;var Ge=$e[nt];if(Ge!==null)for($e[nt]=null,nt=0;nt<Ge.length;nt++){var We=Ge[nt];We!==null&&(We.lane&=-536870913)}l&=~ot}u!==0&&Cn(r,u,0),C!==0&&E===0&&r.tag!==0&&(r.suspendedLanes|=C&~(le&~a))}function Cn(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-ht(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|l&4194090}function fr(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var u=31-ht(l),E=1<<u;E&a|r[u]&a&&(r[u]|=a),l&=~E}}function Qn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function yr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function yn(){var r=ee.p;return r!==0?r:(r=window.event,r===void 0?32:cf(r.type))}function Mr(r,a){var l=ee.p;try{return ee.p=r,a()}finally{ee.p=l}}var vn=Math.random().toString(36).slice(2),zn="__reactFiber$"+vn,jn="__reactProps$"+vn,rr="__reactContainer$"+vn,Jn="__reactEvents$"+vn,ui="__reactListeners$"+vn,Dr="__reactHandles$"+vn,ls="__reactResources$"+vn,Oi="__reactMarker$"+vn;function ji(r){delete r[zn],delete r[jn],delete r[Jn],delete r[ui],delete r[Dr]}function _i(r){var a=r[zn];if(a)return a;for(var l=r.parentNode;l;){if(a=l[rr]||l[zn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=Wh(r);r!==null;){if(l=r[zn])return l;r=Wh(r)}return a}r=l,l=r.parentNode}return null}function ni(r){if(r=r[zn]||r[rr]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function ri(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Er(r){var a=r[ls];return a||(a=r[ls]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Zn(r){r[Oi]=!0}var Ua=new Set,oa={};function Hr(r,a){di(r,a),di(r+"Capture",a)}function di(r,a){for(oa[r]=a,r=0;r<a.length;r++)Ua.add(a[r])}var cs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),us={},Di={};function Li(r){return xe.call(Di,r)?!0:xe.call(us,r)?!1:cs.test(r)?Di[r]=!0:(us[r]=!0,!1)}function Ei(r,a,l){if(Li(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function ii(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function pr(r,a,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+u)}}var Fi,ds;function hi(r){if(Fi===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Fi=a&&a[1]||"",ds=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fi+r+ds}var fi=!1;function Bi(r,a){if(!r||fi)return"";fi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(We){var Ge=We}Reflect.construct(r,[],ot)}else{try{ot.call()}catch(We){Ge=We}r.call(ot.prototype)}}else{try{throw Error()}catch(We){Ge=We}(ot=r())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(We){if(We&&Ge&&typeof We.stack=="string")return[We.stack,Ge.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=u.DetermineComponentFrameRoot(),le=C[0],ge=C[1];if(le&&ge){var Ae=le.split(`
`),$e=ge.split(`
`);for(E=u=0;u<Ae.length&&!Ae[u].includes("DetermineComponentFrameRoot");)u++;for(;E<$e.length&&!$e[E].includes("DetermineComponentFrameRoot");)E++;if(u===Ae.length||E===$e.length)for(u=Ae.length-1,E=$e.length-1;1<=u&&0<=E&&Ae[u]!==$e[E];)E--;for(;1<=u&&0<=E;u--,E--)if(Ae[u]!==$e[E]){if(u!==1||E!==1)do if(u--,E--,0>E||Ae[u]!==$e[E]){var nt=`
`+Ae[u].replace(" at new "," at ");return r.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",r.displayName)),nt}while(1<=u&&0<=E);break}}}finally{fi=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?hi(l):""}function la(r){switch(r.tag){case 26:case 27:case 5:return hi(r.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Bi(r.type,!1);case 11:return Bi(r.type.render,!1);case 1:return Bi(r.type,!0);case 31:return hi("Activity");default:return""}}function ca(r){try{var a="";do a+=la(r),r=r.return;while(r);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function sr(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function za(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Us(r){var a=za(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var E=l.get,C=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return E.call(this)},set:function(le){u=""+le,C.call(this,le)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(le){u=""+le},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function ua(r){r._valueTracker||(r._valueTracker=Us(r))}function Ui(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return r&&(u=za(r)?r.checked?"true":"false":r.value),r=u,r!==l?(a.setValue(r),!0):!1}function zi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var zs=/[\n"\\]/g;function er(r){return r.replace(zs,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Tr(r,a,l,u,E,C,le,ge){r.name="",le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?r.type=le:r.removeAttribute("type"),a!=null?le==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+sr(a)):r.value!==""+sr(a)&&(r.value=""+sr(a)):le!=="submit"&&le!=="reset"||r.removeAttribute("value"),a!=null?Si(r,le,sr(a)):l!=null?Si(r,le,sr(l)):u!=null&&r.removeAttribute("value"),E==null&&C!=null&&(r.defaultChecked=!!C),E!=null&&(r.checked=E&&typeof E!="function"&&typeof E!="symbol"),ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"?r.name=""+sr(ge):r.removeAttribute("name")}function qi(r,a,l,u,E,C,le,ge){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.type=C),a!=null||l!=null){if(!(C!=="submit"&&C!=="reset"||a!=null))return;l=l!=null?""+sr(l):"",a=a!=null?""+sr(a):l,ge||a===r.value||(r.value=a),r.defaultValue=a}u=u??E,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=ge?r.checked:!!u,r.defaultChecked=!!u,le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"&&(r.name=le)}function Si(r,a,l){a==="number"&&zi(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function $r(r,a,l,u){if(r=r.options,a){a={};for(var E=0;E<l.length;E++)a["$"+l[E]]=!0;for(l=0;l<r.length;l++)E=a.hasOwnProperty("$"+r[l].value),r[l].selected!==E&&(r[l].selected=E),E&&u&&(r[l].defaultSelected=!0)}else{for(l=""+sr(l),a=null,E=0;E<r.length;E++){if(r[E].value===l){r[E].selected=!0,u&&(r[E].defaultSelected=!0);return}a!==null||r[E].disabled||(a=r[E])}a!==null&&(a.selected=!0)}}function kn(r,a,l){if(a!=null&&(a=""+sr(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+sr(l):""}function wi(r,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(he(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=sr(a),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u)}function Ir(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var Hi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function da(r,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,l):typeof l!="number"||l===0||Hi.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function qa(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var E in a)u=a[E],a.hasOwnProperty(E)&&l[E]!==u&&da(r,E,u)}else for(var C in a)a.hasOwnProperty(C)&&da(r,C,a[C])}function Ha(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ai=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $i(r){return qs.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var pi=null;function Sr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Vr=null,mi=null;function ha(r){var a=ni(r);if(a&&(r=a.stateNode)){var l=r[jn]||null;e:switch(r=a.stateNode,a.type){case"input":if(Tr(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+er(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==r&&u.form===r.form){var E=u[jn]||null;if(!E)throw Error(i(90));Tr(u,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===r.form&&Ui(u)}break e;case"textarea":kn(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&$r(r,!!l.multiple,a,!1)}}}var Gr=!1;function fa(r,a,l){if(Gr)return r(a,l);Gr=!0;try{var u=r(a);return u}finally{if(Gr=!1,(Vr!==null||mi!==null)&&(ml(),Vr&&(a=Vr,r=mi,mi=Vr=null,ha(a),r)))for(a=0;a<r.length;a++)ha(r[a])}}function Vi(r,a){var l=r.stateNode;if(l===null)return null;var u=l[jn]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(Wr)try{var te={};Object.defineProperty(te,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Lr=!1}var fe=null,be=null,Ee=null;function we(){if(Ee)return Ee;var r,a=be,l=a.length,u,E="value"in fe?fe.value:fe.textContent,C=E.length;for(r=0;r<l&&a[r]===E[r];r++);var le=l-r;for(u=1;u<=le&&a[l-u]===E[C-u];u++);return Ee=E.slice(r,1<u?1-u:void 0)}function Re(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Oe(){return!0}function Me(){return!1}function _e(r){function a(l,u,E,C,le){this._reactName=l,this._targetInst=E,this.type=u,this.nativeEvent=C,this.target=le,this.currentTarget=null;for(var ge in r)r.hasOwnProperty(ge)&&(l=r[ge],this[ge]=l?l(C):C[ge]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Oe:Me,this.isPropagationStopped=Me,this}return d(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Oe)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Oe)},persist:function(){},isPersistent:Oe}),a}var Ce={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ie=_e(Ce),Ke=d({},Ce,{view:0,detail:0}),Qe=_e(Ke),Ye,dt,st,at=d({},Ke,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==st&&(st&&r.type==="mousemove"?(Ye=r.screenX-st.screenX,dt=r.screenY-st.screenY):dt=Ye=0,st=r),Ye)},movementY:function(r){return"movementY"in r?r.movementY:dt}}),jt=_e(at),Et=d({},at,{dataTransfer:0}),At=_e(Et),Tt=d({},Ke,{relatedTarget:0}),yt=_e(Tt),Dt=d({},Ce,{animationName:0,elapsedTime:0,pseudoElement:0}),Ct=_e(Dt),rn=d({},Ce,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Qt=_e(rn),un=d({},Ce,{data:0}),cn=_e(un),nn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hn(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=En[r])?!!a[r]:!1}function Sn(){return Hn}var Dn=d({},Ke,{key:function(r){if(r.key){var a=nn[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Re(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?qn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(r){return r.type==="keypress"?Re(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Re(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Pn=_e(Dn),In=d({},at,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tr=_e(In),ur=d({},Ke,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn}),Cr=_e(ur),Yn=d({},Ce,{propertyName:0,elapsedTime:0,pseudoElement:0}),mr=_e(Yn),Fr=d({},at,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),_t=_e(Fr),Rt=d({},Ce,{newState:0,oldState:0}),bt=_e(Rt),xt=[9,13,27,32],g=Wr&&"CompositionEvent"in window,V=null;Wr&&"documentMode"in document&&(V=document.documentMode);var ie=Wr&&"TextEvent"in window&&!V,pe=Wr&&(!g||V&&8<V&&11>=V),Se=" ",Fe=!1;function Ze(r,a){switch(r){case"keyup":return xt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Bt=!1;function qt(r,a){switch(r){case"compositionend":return Lt(a);case"keypress":return a.which!==32?null:(Fe=!0,Se);case"textInput":return r=a.data,r===Se&&Fe?null:r;default:return null}}function wn(r,a){if(Bt)return r==="compositionend"||!g&&Ze(r,a)?(r=we(),Ee=be=fe=null,Bt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return pe&&a.locale!=="ko"?null:a.data;default:return null}}var St={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!St[r.type]:a==="textarea"}function Jt(r,a,l,u){Vr?mi?mi.push(u):mi=[u]:Vr=u,a=_l(a,"onChange"),0<a.length&&(l=new Ie("onChange","change",null,l,u),r.push({event:l,listeners:a}))}var hn=null,Mn=null;function xn(r){Lh(r,0)}function Yr(r){var a=ri(r);if(Ui(a))return r}function Gi(r,a){if(r==="change")return a}var $a=!1;if(Wr){var gi;if(Wr){var Wi="oninput"in document;if(!Wi){var jo=document.createElement("div");jo.setAttribute("oninput","return;"),Wi=typeof jo.oninput=="function"}gi=Wi}else gi=!1;$a=gi&&(!document.documentMode||9<document.documentMode)}function kr(){hn&&(hn.detachEvent("onpropertychange",Hs),Mn=hn=null)}function Hs(r){if(r.propertyName==="value"&&Yr(Mn)){var a=[];Jt(a,Mn,r,Sr(r)),fa(xn,a)}}function Dl(r,a,l){r==="focusin"?(kr(),hn=a,Mn=l,hn.attachEvent("onpropertychange",Hs)):r==="focusout"&&kr()}function Rn(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Yr(Mn)}function Ll(r,a){if(r==="click")return Yr(a)}function Ri(r,a){if(r==="input"||r==="change")return Yr(a)}function Fl(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Nr=typeof Object.is=="function"?Object.is:Fl;function Va(r,a){if(Nr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var E=l[u];if(!xe.call(a,E)||!Nr(r[E],a[E]))return!1}return!0}function hs(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function $s(r,a){var l=hs(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=a&&u>=a)return{node:l,offset:a-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=hs(l)}}function Do(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Do(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Lo(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=zi(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=zi(r.document)}return a}function Vs(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var Ti=Wr&&"documentMode"in document&&11>=document.documentMode,pa=null,fs=null,ma=null,Ga=!1;function Gs(r,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ga||pa==null||pa!==zi(u)||(u=pa,"selectionStart"in u&&Vs(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ma&&Va(ma,u)||(ma=u,u=_l(fs,"onSelect"),0<u.length&&(a=new Ie("onSelect","select",null,a,l),r.push({event:a,listeners:u}),a.target=pa)))}function Ci(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var Br={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionrun:Ci("Transition","TransitionRun"),transitionstart:Ci("Transition","TransitionStart"),transitioncancel:Ci("Transition","TransitionCancel"),transitionend:Ci("Transition","TransitionEnd")},Ws={},Fo={};Wr&&(Fo=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function vi(r){if(Ws[r])return Ws[r];if(!Br[r])return r;var a=Br[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in Fo)return Ws[r]=a[l];return r}var ps=vi("animationend"),gs=vi("animationiteration"),Ys=vi("animationstart"),Bl=vi("transitionrun"),Xs=vi("transitionstart"),Ul=vi("transitioncancel"),Bo=vi("transitionend"),Ks=new Map,lt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lt.push("scrollEnd");function Nt(r,a){Ks.set(r,a),Hr(a,[r])}var Zt=new WeakMap;function Kt(r,a){if(typeof r=="object"&&r!==null){var l=Zt.get(r);return l!==void 0?l:(a={value:r,source:a,stack:ca(a)},Zt.set(r,a),a)}return{value:r,source:a,stack:ca(a)}}var Yt=[],Xt=0,Xn=0;function Xr(){for(var r=Xt,a=Xn=Xt=0;a<r;){var l=Yt[a];Yt[a++]=null;var u=Yt[a];Yt[a++]=null;var E=Yt[a];Yt[a++]=null;var C=Yt[a];if(Yt[a++]=null,u!==null&&E!==null){var le=u.pending;le===null?E.next=E:(E.next=le.next,le.next=E),u.pending=E}C!==0&&Wa(l,E,C)}}function ga(r,a,l,u){Yt[Xt++]=r,Yt[Xt++]=a,Yt[Xt++]=l,Yt[Xt++]=u,Xn|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function va(r,a,l,u){return ga(r,a,l,u),Ya(r)}function Or(r,a){return ga(r,null,null,a),Ya(r)}function Wa(r,a,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var E=!1,C=r.return;C!==null;)C.childLanes|=l,u=C.alternate,u!==null&&(u.childLanes|=l),C.tag===22&&(r=C.stateNode,r===null||r._visibility&1||(E=!0)),r=C,C=C.return;return r.tag===3?(C=r.stateNode,E&&a!==null&&(E=31-ht(l),r=C.hiddenUpdates,u=r[E],u===null?r[E]=[a]:u.push(a),a.lane=l|536870912),C):null}function Ya(r){if(50<Eo)throw Eo=0,Gc=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var yi={};function ya(r,a,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(r,a,l,u){return new ya(r,a,l,u)}function zl(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Yi(r,a){var l=r.alternate;return l===null?(l=Kr(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Eu(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Uo(r,a,l,u,E,C){var le=0;if(u=r,typeof r=="function")zl(r)&&(le=1);else if(typeof r=="string")le=vp(r,l,de.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=Kr(31,l,a,E),r.elementType=I,r.lanes=C,r;case p:return Xa(l.children,E,C,a);case v:le=8,E|=24;break;case A:return r=Kr(12,l,a,E|2),r.elementType=A,r.lanes=C,r;case z:return r=Kr(13,l,a,E),r.elementType=z,r.lanes=C,r;case K:return r=Kr(19,l,a,E),r.elementType=K,r.lanes=C,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case w:case Z:le=10;break e;case P:le=9;break e;case Q:le=11;break e;case j:le=14;break e;case T:le=16,u=null;break e}le=29,l=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=Kr(le,l,a,E),a.elementType=r,a.type=u,a.lanes=C,a}function Xa(r,a,l,u){return r=Kr(7,r,u,a),r.lanes=l,r}function ql(r,a,l){return r=Kr(6,r,null,a),r.lanes=l,r}function Hl(r,a,l){return a=Kr(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var vs=[],ys=0,zo=null,qo=0,ai=[],si=0,Ka=null,Xi=1,Ki="";function Qa(r,a){vs[ys++]=qo,vs[ys++]=zo,zo=r,qo=a}function Su(r,a,l){ai[si++]=Xi,ai[si++]=Ki,ai[si++]=Ka,Ka=r;var u=Xi;r=Ki;var E=32-ht(u)-1;u&=~(1<<E),l+=1;var C=32-ht(a)+E;if(30<C){var le=E-E%5;C=(u&(1<<le)-1).toString(32),u>>=le,E-=le,Xi=1<<32-ht(a)+E|l<<E|u,Ki=C+r}else Xi=1<<C|l<<E|u,Ki=r}function $l(r){r.return!==null&&(Qa(r,1),Su(r,1,0))}function Vl(r){for(;r===zo;)zo=vs[--ys],vs[ys]=null,qo=vs[--ys],vs[ys]=null;for(;r===Ka;)Ka=ai[--si],ai[si]=null,Ki=ai[--si],ai[si]=null,Xi=ai[--si],ai[si]=null}var jr=null,ir=null,Tn=!1,Ja=null,ki=!1,Gl=Error(i(519));function Za(r){var a=Error(i(418,""));throw Zs(Kt(a,r)),Gl}function wu(r){var a=r.stateNode,l=r.type,u=r.memoizedProps;switch(a[zn]=r,a[jn]=u,l){case"dialog":mn("cancel",a),mn("close",a);break;case"iframe":case"object":case"embed":mn("load",a);break;case"video":case"audio":for(l=0;l<wo.length;l++)mn(wo[l],a);break;case"source":mn("error",a);break;case"img":case"image":case"link":mn("error",a),mn("load",a);break;case"details":mn("toggle",a);break;case"input":mn("invalid",a),qi(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ua(a);break;case"select":mn("invalid",a);break;case"textarea":mn("invalid",a),wi(a,u.value,u.defaultValue,u.children),ua(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||zh(a.textContent,l)?(u.popover!=null&&(mn("beforetoggle",a),mn("toggle",a)),u.onScroll!=null&&mn("scroll",a),u.onScrollEnd!=null&&mn("scrollend",a),u.onClick!=null&&(a.onclick=El),a=!0):a=!1,a||Za(r)}function Au(r){for(jr=r.return;jr;)switch(jr.tag){case 5:case 13:ki=!1;return;case 27:case 3:ki=!0;return;default:jr=jr.return}}function Qs(r){if(r!==jr)return!1;if(!Tn)return Au(r),Tn=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||lu(r.type,r.memoizedProps)),l=!l),l&&ir&&Za(r),Au(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(a===0){ir=xi(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;r=r.nextSibling}ir=null}}else a===27?(a=ir,Oa(r.type)?(r=hu,hu=null,ir=r):ir=a):ir=jr?xi(r.stateNode.nextSibling):null;return!0}function Js(){ir=jr=null,Tn=!1}function Ru(){var r=Ja;return r!==null&&(qr===null?qr=r:qr.push.apply(qr,r),Ja=null),r}function Zs(r){Ja===null?Ja=[r]:Ja.push(r)}var Wl=J(null),es=null,Qi=null;function ba(r,a,l){D(Wl,a._currentValue),a._currentValue=l}function Ji(r){r._currentValue=Wl.current,ae(Wl)}function Yl(r,a,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===l)break;r=r.return}}function Xl(r,a,l,u){var E=r.child;for(E!==null&&(E.return=r);E!==null;){var C=E.dependencies;if(C!==null){var le=E.child;C=C.firstContext;e:for(;C!==null;){var ge=C;C=E;for(var Ae=0;Ae<a.length;Ae++)if(ge.context===a[Ae]){C.lanes|=l,ge=C.alternate,ge!==null&&(ge.lanes|=l),Yl(C.return,l,r),u||(le=null);break e}C=ge.next}}else if(E.tag===18){if(le=E.return,le===null)throw Error(i(341));le.lanes|=l,C=le.alternate,C!==null&&(C.lanes|=l),Yl(le,l,r),le=null}else le=E.child;if(le!==null)le.return=E;else for(le=E;le!==null;){if(le===r){le=null;break}if(E=le.sibling,E!==null){E.return=le.return,le=E;break}le=le.return}E=le}}function eo(r,a,l,u){r=null;for(var E=a,C=!1;E!==null;){if(!C){if((E.flags&524288)!==0)C=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var le=E.alternate;if(le===null)throw Error(i(387));if(le=le.memoizedProps,le!==null){var ge=E.type;Nr(E.pendingProps.value,le.value)||(r!==null?r.push(ge):r=[ge])}}else if(E===ne.current){if(le=E.alternate,le===null)throw Error(i(387));le.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(r!==null?r.push(Po):r=[Po])}E=E.return}r!==null&&Xl(a,r,l,u),a.flags|=262144}function Ho(r){for(r=r.firstContext;r!==null;){if(!Nr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ts(r){es=r,Qi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Pr(r){return Tu(es,r)}function $o(r,a){return es===null&&ts(r),Tu(r,a)}function Tu(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Qi===null){if(r===null)throw Error(i(308));Qi=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Qi=Qi.next=a;return l}var gf=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},vf=t.unstable_scheduleCallback,yf=t.unstable_NormalPriority,gr={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kl(){return{controller:new gf,data:new Map,refCount:0}}function to(r){r.refCount--,r.refCount===0&&vf(yf,function(){r.controller.abort()})}var no=null,Ql=0,bs=0,xs=null;function bf(r,a){if(no===null){var l=no=[];Ql=0,bs=Zc(),xs={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Ql++,a.then(Cu,Cu),a}function Cu(){if(--Ql===0&&no!==null){xs!==null&&(xs.status="fulfilled");var r=no;no=null,bs=0,xs=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function xf(r,a){var l=[],u={status:"pending",value:null,reason:null,then:function(E){l.push(E)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var E=0;E<l.length;E++)(0,l[E])(a)},function(E){for(u.status="rejected",u.reason=E,E=0;E<l.length;E++)(0,l[E])(void 0)}),u}var ku=se.S;se.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&bf(r,a),ku!==null&&ku(r,a)};var ns=J(null);function Jl(){var r=ns.current;return r!==null?r:Gn.pooledCache}function Vo(r,a){a===null?D(ns,ns.current):D(ns,a.pool)}function Pu(){var r=Jl();return r===null?null:{parent:gr._currentValue,pool:r}}var ro=Error(i(460)),Mu=Error(i(474)),Go=Error(i(542)),Zl={then:function(){}};function Iu(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Wo(){}function Nu(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(Wo,Wo),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,ju(r),r;default:if(typeof a.status=="string")a.then(Wo,Wo);else{if(r=Gn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var E=a;E.status="fulfilled",E.value=u}},function(u){if(a.status==="pending"){var E=a;E.status="rejected",E.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,ju(r),r}throw io=a,ro}}var io=null;function Ou(){if(io===null)throw Error(i(459));var r=io;return io=null,r}function ju(r){if(r===ro||r===Go)throw Error(i(483))}var xa=!1;function ec(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tc(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function _a(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ea(r,a,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Nn&2)!==0){var E=u.pending;return E===null?a.next=a:(a.next=E.next,E.next=a),u.pending=a,a=Ya(r),Wa(r,null,l),a}return ga(r,u,a,l),Ya(r)}function ao(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,l|=u,a.lanes=l,fr(r,l)}}function nc(r,a){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var E=null,C=null;if(l=l.firstBaseUpdate,l!==null){do{var le={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};C===null?E=C=le:C=C.next=le,l=l.next}while(l!==null);C===null?E=C=a:C=C.next=a}else E=C=a;l={baseState:u.baseState,firstBaseUpdate:E,lastBaseUpdate:C,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var rc=!1;function so(){if(rc){var r=xs;if(r!==null)throw r}}function oo(r,a,l,u){rc=!1;var E=r.updateQueue;xa=!1;var C=E.firstBaseUpdate,le=E.lastBaseUpdate,ge=E.shared.pending;if(ge!==null){E.shared.pending=null;var Ae=ge,$e=Ae.next;Ae.next=null,le===null?C=$e:le.next=$e,le=Ae;var nt=r.alternate;nt!==null&&(nt=nt.updateQueue,ge=nt.lastBaseUpdate,ge!==le&&(ge===null?nt.firstBaseUpdate=$e:ge.next=$e,nt.lastBaseUpdate=Ae))}if(C!==null){var ot=E.baseState;le=0,nt=$e=Ae=null,ge=C;do{var Ge=ge.lane&-536870913,We=Ge!==ge.lane;if(We?(bn&Ge)===Ge:(u&Ge)===Ge){Ge!==0&&Ge===bs&&(rc=!0),nt!==null&&(nt=nt.next={lane:0,tag:ge.tag,payload:ge.payload,callback:null,next:null});e:{var Vt=r,Ht=ge;Ge=a;var Un=l;switch(Ht.tag){case 1:if(Vt=Ht.payload,typeof Vt=="function"){ot=Vt.call(Un,ot,Ge);break e}ot=Vt;break e;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=Ht.payload,Ge=typeof Vt=="function"?Vt.call(Un,ot,Ge):Vt,Ge==null)break e;ot=d({},ot,Ge);break e;case 2:xa=!0}}Ge=ge.callback,Ge!==null&&(r.flags|=64,We&&(r.flags|=8192),We=E.callbacks,We===null?E.callbacks=[Ge]:We.push(Ge))}else We={lane:Ge,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},nt===null?($e=nt=We,Ae=ot):nt=nt.next=We,le|=Ge;if(ge=ge.next,ge===null){if(ge=E.shared.pending,ge===null)break;We=ge,ge=We.next,We.next=null,E.lastBaseUpdate=We,E.shared.pending=null}}while(!0);nt===null&&(Ae=ot),E.baseState=Ae,E.firstBaseUpdate=$e,E.lastBaseUpdate=nt,C===null&&(E.shared.lanes=0),Pa|=le,r.lanes=le,r.memoizedState=ot}}function Du(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Lu(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)Du(l[r],a)}var _s=J(null),Yo=J(0);function Fu(r,a){r=aa,D(Yo,r),D(_s,a),aa=r|a.baseLanes}function ic(){D(Yo,aa),D(_s,_s.current)}function ac(){aa=Yo.current,ae(_s),ae(Yo)}var Sa=0,dn=null,Fn=null,dr=null,Xo=!1,Es=!1,rs=!1,Ko=0,lo=0,Ss=null,_f=0;function or(){throw Error(i(321))}function sc(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!Nr(r[l],a[l]))return!1;return!0}function oc(r,a,l,u,E,C){return Sa=C,dn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,se.H=r===null||r.memoizedState===null?_d:Ed,rs=!1,C=l(u,E),rs=!1,Es&&(C=Uu(a,l,u,E)),Bu(r),C}function Bu(r){se.H=nl;var a=Fn!==null&&Fn.next!==null;if(Sa=0,dr=Fn=dn=null,Xo=!1,lo=0,Ss=null,a)throw Error(i(300));r===null||br||(r=r.dependencies,r!==null&&Ho(r)&&(br=!0))}function Uu(r,a,l,u){dn=r;var E=0;do{if(Es&&(Ss=null),lo=0,Es=!1,25<=E)throw Error(i(301));if(E+=1,dr=Fn=null,r.updateQueue!=null){var C=r.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}se.H=Cf,C=a(l,u)}while(Es);return C}function Ef(){var r=se.H,a=r.useState()[0];return a=typeof a.then=="function"?co(a):a,r=r.useState()[0],(Fn!==null?Fn.memoizedState:null)!==r&&(dn.flags|=1024),a}function lc(){var r=Ko!==0;return Ko=0,r}function cc(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function uc(r){if(Xo){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Xo=!1}Sa=0,dr=Fn=dn=null,Es=!1,lo=Ko=0,Ss=null}function Ur(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?dn.memoizedState=dr=r:dr=dr.next=r,dr}function hr(){if(Fn===null){var r=dn.alternate;r=r!==null?r.memoizedState:null}else r=Fn.next;var a=dr===null?dn.memoizedState:dr.next;if(a!==null)dr=a,Fn=r;else{if(r===null)throw dn.alternate===null?Error(i(467)):Error(i(310));Fn=r,r={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},dr===null?dn.memoizedState=dr=r:dr=dr.next=r}return dr}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function co(r){var a=lo;return lo+=1,Ss===null&&(Ss=[]),r=Nu(Ss,r,a),a=dn,(dr===null?a.memoizedState:dr.next)===null&&(a=a.alternate,se.H=a===null||a.memoizedState===null?_d:Ed),r}function Qo(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return co(r);if(r.$$typeof===Z)return Pr(r)}throw Error(i(438,String(r)))}function hc(r){var a=null,l=dn.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=dn.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(E){return E.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=dc(),dn.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),u=0;u<r;u++)l[u]=Y;return a.index++,l}function Zi(r,a){return typeof a=="function"?a(r):a}function Jo(r){var a=hr();return fc(a,Fn,r)}function fc(r,a,l){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var E=r.baseQueue,C=u.pending;if(C!==null){if(E!==null){var le=E.next;E.next=C.next,C.next=le}a.baseQueue=E=C,u.pending=null}if(C=r.baseState,E===null)r.memoizedState=C;else{a=E.next;var ge=le=null,Ae=null,$e=a,nt=!1;do{var ot=$e.lane&-536870913;if(ot!==$e.lane?(bn&ot)===ot:(Sa&ot)===ot){var Ge=$e.revertLane;if(Ge===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),ot===bs&&(nt=!0);else if((Sa&Ge)===Ge){$e=$e.next,Ge===bs&&(nt=!0);continue}else ot={lane:0,revertLane:$e.revertLane,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ae===null?(ge=Ae=ot,le=C):Ae=Ae.next=ot,dn.lanes|=Ge,Pa|=Ge;ot=$e.action,rs&&l(C,ot),C=$e.hasEagerState?$e.eagerState:l(C,ot)}else Ge={lane:ot,revertLane:$e.revertLane,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},Ae===null?(ge=Ae=Ge,le=C):Ae=Ae.next=Ge,dn.lanes|=ot,Pa|=ot;$e=$e.next}while($e!==null&&$e!==a);if(Ae===null?le=C:Ae.next=ge,!Nr(C,r.memoizedState)&&(br=!0,nt&&(l=xs,l!==null)))throw l;r.memoizedState=C,r.baseState=le,r.baseQueue=Ae,u.lastRenderedState=C}return E===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function pc(r){var a=hr(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var u=l.dispatch,E=l.pending,C=a.memoizedState;if(E!==null){l.pending=null;var le=E=E.next;do C=r(C,le.action),le=le.next;while(le!==E);Nr(C,a.memoizedState)||(br=!0),a.memoizedState=C,a.baseQueue===null&&(a.baseState=C),l.lastRenderedState=C}return[C,u]}function zu(r,a,l){var u=dn,E=hr(),C=Tn;if(C){if(l===void 0)throw Error(i(407));l=l()}else l=a();var le=!Nr((Fn||E).memoizedState,l);le&&(E.memoizedState=l,br=!0),E=E.queue;var ge=$u.bind(null,u,E,r);if(uo(2048,8,ge,[r]),E.getSnapshot!==a||le||dr!==null&&dr.memoizedState.tag&1){if(u.flags|=2048,ws(9,Zo(),Hu.bind(null,u,E,l,a),null),Gn===null)throw Error(i(349));C||(Sa&124)!==0||qu(u,a,l)}return l}function qu(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=dn.updateQueue,a===null?(a=dc(),dn.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function Hu(r,a,l,u){a.value=l,a.getSnapshot=u,Vu(a)&&Gu(r)}function $u(r,a,l){return l(function(){Vu(a)&&Gu(r)})}function Vu(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!Nr(r,l)}catch{return!0}}function Gu(r){var a=Or(r,2);a!==null&&ti(a,r,2)}function mc(r){var a=Ur();if(typeof r=="function"){var l=r;if(r=l(),rs){mt(!0);try{l()}finally{mt(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:r},a}function Wu(r,a,l,u){return r.baseState=l,fc(r,Fn,typeof u=="function"?u:Zi)}function Sf(r,a,l,u,E){if(tl(r))throw Error(i(485));if(r=a.action,r!==null){var C={payload:E,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(le){C.listeners.push(le)}};se.T!==null?l(!0):C.isTransition=!1,u(C),l=a.pending,l===null?(C.next=a.pending=C,Yu(a,C)):(C.next=l.next,a.pending=l.next=C)}}function Yu(r,a){var l=a.action,u=a.payload,E=r.state;if(a.isTransition){var C=se.T,le={};se.T=le;try{var ge=l(E,u),Ae=se.S;Ae!==null&&Ae(le,ge),Xu(r,a,ge)}catch($e){gc(r,a,$e)}finally{se.T=C}}else try{C=l(E,u),Xu(r,a,C)}catch($e){gc(r,a,$e)}}function Xu(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Ku(r,a,u)},function(u){return gc(r,a,u)}):Ku(r,a,l)}function Ku(r,a,l){a.status="fulfilled",a.value=l,Qu(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,Yu(r,l)))}function gc(r,a,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Qu(a),a=a.next;while(a!==u)}r.action=null}function Qu(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Ju(r,a){return a}function Zu(r,a){if(Tn){var l=Gn.formState;if(l!==null){e:{var u=dn;if(Tn){if(ir){t:{for(var E=ir,C=ki;E.nodeType!==8;){if(!C){E=null;break t}if(E=xi(E.nextSibling),E===null){E=null;break t}}C=E.data,E=C==="F!"||C==="F"?E:null}if(E){ir=xi(E.nextSibling),u=E.data==="F!";break e}}Za(u)}u=!1}u&&(a=l[0])}}return l=Ur(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:a},l.queue=u,l=yd.bind(null,dn,u),u.dispatch=l,u=mc(!1),C=_c.bind(null,dn,!1,u.queue),u=Ur(),E={state:a,dispatch:null,action:r,pending:null},u.queue=E,l=Sf.bind(null,dn,E,C,l),E.dispatch=l,u.memoizedState=r,[a,l,!1]}function ed(r){var a=hr();return td(a,Fn,r)}function td(r,a,l){if(a=fc(r,a,Ju)[0],r=Jo(Zi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=co(a)}catch(le){throw le===ro?Go:le}else u=a;a=hr();var E=a.queue,C=E.dispatch;return l!==a.memoizedState&&(dn.flags|=2048,ws(9,Zo(),wf.bind(null,E,l),null)),[u,C,r]}function wf(r,a){r.action=a}function nd(r){var a=hr(),l=Fn;if(l!==null)return td(a,l,r);hr(),a=a.memoizedState,l=hr();var u=l.queue.dispatch;return l.memoizedState=r,[a,u,!1]}function ws(r,a,l,u){return r={tag:r,create:l,deps:u,inst:a,next:null},a=dn.updateQueue,a===null&&(a=dc(),dn.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,a.lastEffect=r),r}function Zo(){return{destroy:void 0,resource:void 0}}function rd(){return hr().memoizedState}function el(r,a,l,u){var E=Ur();u=u===void 0?null:u,dn.flags|=r,E.memoizedState=ws(1|a,Zo(),l,u)}function uo(r,a,l,u){var E=hr();u=u===void 0?null:u;var C=E.memoizedState.inst;Fn!==null&&u!==null&&sc(u,Fn.memoizedState.deps)?E.memoizedState=ws(a,C,l,u):(dn.flags|=r,E.memoizedState=ws(1|a,C,l,u))}function id(r,a){el(8390656,8,r,a)}function ad(r,a){uo(2048,8,r,a)}function sd(r,a){return uo(4,2,r,a)}function od(r,a){return uo(4,4,r,a)}function ld(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function cd(r,a,l){l=l!=null?l.concat([r]):null,uo(4,4,ld.bind(null,a,r),l)}function vc(){}function ud(r,a){var l=hr();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&sc(a,u[1])?u[0]:(l.memoizedState=[r,a],r)}function dd(r,a){var l=hr();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&sc(a,u[1]))return u[0];if(u=r(),rs){mt(!0);try{r()}finally{mt(!1)}}return l.memoizedState=[u,a],u}function yc(r,a,l){return l===void 0||(Sa&1073741824)!==0?r.memoizedState=a:(r.memoizedState=l,r=ph(),dn.lanes|=r,Pa|=r,l)}function hd(r,a,l,u){return Nr(l,a)?l:_s.current!==null?(r=yc(r,l,u),Nr(r,a)||(br=!0),r):(Sa&42)===0?(br=!0,r.memoizedState=l):(r=ph(),dn.lanes|=r,Pa|=r,a)}function fd(r,a,l,u,E){var C=ee.p;ee.p=C!==0&&8>C?C:8;var le=se.T,ge={};se.T=ge,_c(r,!1,a,l);try{var Ae=E(),$e=se.S;if($e!==null&&$e(ge,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var nt=xf(Ae,u);ho(r,a,nt,ei(r))}else ho(r,a,u,ei(r))}catch(ot){ho(r,a,{then:function(){},status:"rejected",reason:ot},ei())}finally{ee.p=C,se.T=le}}function Af(){}function bc(r,a,l,u){if(r.tag!==5)throw Error(i(476));var E=pd(r).queue;fd(r,E,a,W,l===null?Af:function(){return md(r),l(u)})}function pd(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:W},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function md(r){var a=pd(r).next.queue;ho(r,a,{},ei())}function xc(){return Pr(Po)}function gd(){return hr().memoizedState}function vd(){return hr().memoizedState}function Rf(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=ei();r=_a(l);var u=Ea(a,r,l);u!==null&&(ti(u,a,l),ao(u,a,l)),a={cache:Kl()},r.payload=a;return}a=a.return}}function Tf(r,a,l){var u=ei();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},tl(r)?bd(a,l):(l=va(r,a,l,u),l!==null&&(ti(l,r,u),xd(l,a,u)))}function yd(r,a,l){var u=ei();ho(r,a,l,u)}function ho(r,a,l,u){var E={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(tl(r))bd(a,E);else{var C=r.alternate;if(r.lanes===0&&(C===null||C.lanes===0)&&(C=a.lastRenderedReducer,C!==null))try{var le=a.lastRenderedState,ge=C(le,l);if(E.hasEagerState=!0,E.eagerState=ge,Nr(ge,le))return ga(r,a,E,0),Gn===null&&Xr(),!1}catch{}finally{}if(l=va(r,a,E,u),l!==null)return ti(l,r,u),xd(l,a,u),!0}return!1}function _c(r,a,l,u){if(u={lane:2,revertLane:Zc(),action:u,hasEagerState:!1,eagerState:null,next:null},tl(r)){if(a)throw Error(i(479))}else a=va(r,l,u,2),a!==null&&ti(a,r,2)}function tl(r){var a=r.alternate;return r===dn||a!==null&&a===dn}function bd(r,a){Es=Xo=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function xd(r,a,l){if((l&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,l|=u,a.lanes=l,fr(r,l)}}var nl={readContext:Pr,use:Qo,useCallback:or,useContext:or,useEffect:or,useImperativeHandle:or,useLayoutEffect:or,useInsertionEffect:or,useMemo:or,useReducer:or,useRef:or,useState:or,useDebugValue:or,useDeferredValue:or,useTransition:or,useSyncExternalStore:or,useId:or,useHostTransitionStatus:or,useFormState:or,useActionState:or,useOptimistic:or,useMemoCache:or,useCacheRefresh:or},_d={readContext:Pr,use:Qo,useCallback:function(r,a){return Ur().memoizedState=[r,a===void 0?null:a],r},useContext:Pr,useEffect:id,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,el(4194308,4,ld.bind(null,a,r),l)},useLayoutEffect:function(r,a){return el(4194308,4,r,a)},useInsertionEffect:function(r,a){el(4,2,r,a)},useMemo:function(r,a){var l=Ur();a=a===void 0?null:a;var u=r();if(rs){mt(!0);try{r()}finally{mt(!1)}}return l.memoizedState=[u,a],u},useReducer:function(r,a,l){var u=Ur();if(l!==void 0){var E=l(a);if(rs){mt(!0);try{l(a)}finally{mt(!1)}}}else E=a;return u.memoizedState=u.baseState=E,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:E},u.queue=r,r=r.dispatch=Tf.bind(null,dn,r),[u.memoizedState,r]},useRef:function(r){var a=Ur();return r={current:r},a.memoizedState=r},useState:function(r){r=mc(r);var a=r.queue,l=yd.bind(null,dn,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:vc,useDeferredValue:function(r,a){var l=Ur();return yc(l,r,a)},useTransition:function(){var r=mc(!1);return r=fd.bind(null,dn,r.queue,!0,!1),Ur().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var u=dn,E=Ur();if(Tn){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Gn===null)throw Error(i(349));(bn&124)!==0||qu(u,a,l)}E.memoizedState=l;var C={value:l,getSnapshot:a};return E.queue=C,id($u.bind(null,u,C,r),[r]),u.flags|=2048,ws(9,Zo(),Hu.bind(null,u,C,l,a),null),l},useId:function(){var r=Ur(),a=Gn.identifierPrefix;if(Tn){var l=Ki,u=Xi;l=(u&~(1<<32-ht(u)-1)).toString(32)+l,a=""+a+"R"+l,l=Ko++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=_f++,a=""+a+"r"+l.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:xc,useFormState:Zu,useActionState:Zu,useOptimistic:function(r){var a=Ur();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=_c.bind(null,dn,!0,l),l.dispatch=a,[r,a]},useMemoCache:hc,useCacheRefresh:function(){return Ur().memoizedState=Rf.bind(null,dn)}},Ed={readContext:Pr,use:Qo,useCallback:ud,useContext:Pr,useEffect:ad,useImperativeHandle:cd,useInsertionEffect:sd,useLayoutEffect:od,useMemo:dd,useReducer:Jo,useRef:rd,useState:function(){return Jo(Zi)},useDebugValue:vc,useDeferredValue:function(r,a){var l=hr();return hd(l,Fn.memoizedState,r,a)},useTransition:function(){var r=Jo(Zi)[0],a=hr().memoizedState;return[typeof r=="boolean"?r:co(r),a]},useSyncExternalStore:zu,useId:gd,useHostTransitionStatus:xc,useFormState:ed,useActionState:ed,useOptimistic:function(r,a){var l=hr();return Wu(l,Fn,r,a)},useMemoCache:hc,useCacheRefresh:vd},Cf={readContext:Pr,use:Qo,useCallback:ud,useContext:Pr,useEffect:ad,useImperativeHandle:cd,useInsertionEffect:sd,useLayoutEffect:od,useMemo:dd,useReducer:pc,useRef:rd,useState:function(){return pc(Zi)},useDebugValue:vc,useDeferredValue:function(r,a){var l=hr();return Fn===null?yc(l,r,a):hd(l,Fn.memoizedState,r,a)},useTransition:function(){var r=pc(Zi)[0],a=hr().memoizedState;return[typeof r=="boolean"?r:co(r),a]},useSyncExternalStore:zu,useId:gd,useHostTransitionStatus:xc,useFormState:nd,useActionState:nd,useOptimistic:function(r,a){var l=hr();return Fn!==null?Wu(l,Fn,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:hc,useCacheRefresh:vd},As=null,fo=0;function rl(r){var a=fo;return fo+=1,As===null&&(As=[]),Nu(As,r,a)}function po(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function il(r,a){throw a.$$typeof===f?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Sd(r){var a=r._init;return a(r._payload)}function wd(r){function a(Ue,Ne){if(r){var He=Ue.deletions;He===null?(Ue.deletions=[Ne],Ue.flags|=16):He.push(Ne)}}function l(Ue,Ne){if(!r)return null;for(;Ne!==null;)a(Ue,Ne),Ne=Ne.sibling;return null}function u(Ue){for(var Ne=new Map;Ue!==null;)Ue.key!==null?Ne.set(Ue.key,Ue):Ne.set(Ue.index,Ue),Ue=Ue.sibling;return Ne}function E(Ue,Ne){return Ue=Yi(Ue,Ne),Ue.index=0,Ue.sibling=null,Ue}function C(Ue,Ne,He){return Ue.index=He,r?(He=Ue.alternate,He!==null?(He=He.index,He<Ne?(Ue.flags|=67108866,Ne):He):(Ue.flags|=67108866,Ne)):(Ue.flags|=1048576,Ne)}function le(Ue){return r&&Ue.alternate===null&&(Ue.flags|=67108866),Ue}function ge(Ue,Ne,He,it){return Ne===null||Ne.tag!==6?(Ne=ql(He,Ue.mode,it),Ne.return=Ue,Ne):(Ne=E(Ne,He),Ne.return=Ue,Ne)}function Ae(Ue,Ne,He,it){var kt=He.type;return kt===p?nt(Ue,Ne,He.props.children,it,He.key):Ne!==null&&(Ne.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===T&&Sd(kt)===Ne.type)?(Ne=E(Ne,He.props),po(Ne,He),Ne.return=Ue,Ne):(Ne=Uo(He.type,He.key,He.props,null,Ue.mode,it),po(Ne,He),Ne.return=Ue,Ne)}function $e(Ue,Ne,He,it){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==He.containerInfo||Ne.stateNode.implementation!==He.implementation?(Ne=Hl(He,Ue.mode,it),Ne.return=Ue,Ne):(Ne=E(Ne,He.children||[]),Ne.return=Ue,Ne)}function nt(Ue,Ne,He,it,kt){return Ne===null||Ne.tag!==7?(Ne=Xa(He,Ue.mode,it,kt),Ne.return=Ue,Ne):(Ne=E(Ne,He),Ne.return=Ue,Ne)}function ot(Ue,Ne,He){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ne=ql(""+Ne,Ue.mode,He),Ne.return=Ue,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case b:return He=Uo(Ne.type,Ne.key,Ne.props,null,Ue.mode,He),po(He,Ne),He.return=Ue,He;case y:return Ne=Hl(Ne,Ue.mode,He),Ne.return=Ue,Ne;case T:var it=Ne._init;return Ne=it(Ne._payload),ot(Ue,Ne,He)}if(he(Ne)||U(Ne))return Ne=Xa(Ne,Ue.mode,He,null),Ne.return=Ue,Ne;if(typeof Ne.then=="function")return ot(Ue,rl(Ne),He);if(Ne.$$typeof===Z)return ot(Ue,$o(Ue,Ne),He);il(Ue,Ne)}return null}function Ge(Ue,Ne,He,it){var kt=Ne!==null?Ne.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return kt!==null?null:ge(Ue,Ne,""+He,it);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case b:return He.key===kt?Ae(Ue,Ne,He,it):null;case y:return He.key===kt?$e(Ue,Ne,He,it):null;case T:return kt=He._init,He=kt(He._payload),Ge(Ue,Ne,He,it)}if(he(He)||U(He))return kt!==null?null:nt(Ue,Ne,He,it,null);if(typeof He.then=="function")return Ge(Ue,Ne,rl(He),it);if(He.$$typeof===Z)return Ge(Ue,Ne,$o(Ue,He),it);il(Ue,He)}return null}function We(Ue,Ne,He,it,kt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return Ue=Ue.get(He)||null,ge(Ne,Ue,""+it,kt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case b:return Ue=Ue.get(it.key===null?He:it.key)||null,Ae(Ne,Ue,it,kt);case y:return Ue=Ue.get(it.key===null?He:it.key)||null,$e(Ne,Ue,it,kt);case T:var fn=it._init;return it=fn(it._payload),We(Ue,Ne,He,it,kt)}if(he(it)||U(it))return Ue=Ue.get(He)||null,nt(Ne,Ue,it,kt,null);if(typeof it.then=="function")return We(Ue,Ne,He,rl(it),kt);if(it.$$typeof===Z)return We(Ue,Ne,He,$o(Ne,it),kt);il(Ne,it)}return null}function Vt(Ue,Ne,He,it){for(var kt=null,fn=null,Ft=Ne,$t=Ne=0,_r=null;Ft!==null&&$t<He.length;$t++){Ft.index>$t?(_r=Ft,Ft=null):_r=Ft.sibling;var An=Ge(Ue,Ft,He[$t],it);if(An===null){Ft===null&&(Ft=_r);break}r&&Ft&&An.alternate===null&&a(Ue,Ft),Ne=C(An,Ne,$t),fn===null?kt=An:fn.sibling=An,fn=An,Ft=_r}if($t===He.length)return l(Ue,Ft),Tn&&Qa(Ue,$t),kt;if(Ft===null){for(;$t<He.length;$t++)Ft=ot(Ue,He[$t],it),Ft!==null&&(Ne=C(Ft,Ne,$t),fn===null?kt=Ft:fn.sibling=Ft,fn=Ft);return Tn&&Qa(Ue,$t),kt}for(Ft=u(Ft);$t<He.length;$t++)_r=We(Ft,Ue,$t,He[$t],it),_r!==null&&(r&&_r.alternate!==null&&Ft.delete(_r.key===null?$t:_r.key),Ne=C(_r,Ne,$t),fn===null?kt=_r:fn.sibling=_r,fn=_r);return r&&Ft.forEach(function(Ba){return a(Ue,Ba)}),Tn&&Qa(Ue,$t),kt}function Ht(Ue,Ne,He,it){if(He==null)throw Error(i(151));for(var kt=null,fn=null,Ft=Ne,$t=Ne=0,_r=null,An=He.next();Ft!==null&&!An.done;$t++,An=He.next()){Ft.index>$t?(_r=Ft,Ft=null):_r=Ft.sibling;var Ba=Ge(Ue,Ft,An.value,it);if(Ba===null){Ft===null&&(Ft=_r);break}r&&Ft&&Ba.alternate===null&&a(Ue,Ft),Ne=C(Ba,Ne,$t),fn===null?kt=Ba:fn.sibling=Ba,fn=Ba,Ft=_r}if(An.done)return l(Ue,Ft),Tn&&Qa(Ue,$t),kt;if(Ft===null){for(;!An.done;$t++,An=He.next())An=ot(Ue,An.value,it),An!==null&&(Ne=C(An,Ne,$t),fn===null?kt=An:fn.sibling=An,fn=An);return Tn&&Qa(Ue,$t),kt}for(Ft=u(Ft);!An.done;$t++,An=He.next())An=We(Ft,Ue,$t,An.value,it),An!==null&&(r&&An.alternate!==null&&Ft.delete(An.key===null?$t:An.key),Ne=C(An,Ne,$t),fn===null?kt=An:fn.sibling=An,fn=An);return r&&Ft.forEach(function(kp){return a(Ue,kp)}),Tn&&Qa(Ue,$t),kt}function Un(Ue,Ne,He,it){if(typeof He=="object"&&He!==null&&He.type===p&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case b:e:{for(var kt=He.key;Ne!==null;){if(Ne.key===kt){if(kt=He.type,kt===p){if(Ne.tag===7){l(Ue,Ne.sibling),it=E(Ne,He.props.children),it.return=Ue,Ue=it;break e}}else if(Ne.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===T&&Sd(kt)===Ne.type){l(Ue,Ne.sibling),it=E(Ne,He.props),po(it,He),it.return=Ue,Ue=it;break e}l(Ue,Ne);break}else a(Ue,Ne);Ne=Ne.sibling}He.type===p?(it=Xa(He.props.children,Ue.mode,it,He.key),it.return=Ue,Ue=it):(it=Uo(He.type,He.key,He.props,null,Ue.mode,it),po(it,He),it.return=Ue,Ue=it)}return le(Ue);case y:e:{for(kt=He.key;Ne!==null;){if(Ne.key===kt)if(Ne.tag===4&&Ne.stateNode.containerInfo===He.containerInfo&&Ne.stateNode.implementation===He.implementation){l(Ue,Ne.sibling),it=E(Ne,He.children||[]),it.return=Ue,Ue=it;break e}else{l(Ue,Ne);break}else a(Ue,Ne);Ne=Ne.sibling}it=Hl(He,Ue.mode,it),it.return=Ue,Ue=it}return le(Ue);case T:return kt=He._init,He=kt(He._payload),Un(Ue,Ne,He,it)}if(he(He))return Vt(Ue,Ne,He,it);if(U(He)){if(kt=U(He),typeof kt!="function")throw Error(i(150));return He=kt.call(He),Ht(Ue,Ne,He,it)}if(typeof He.then=="function")return Un(Ue,Ne,rl(He),it);if(He.$$typeof===Z)return Un(Ue,Ne,$o(Ue,He),it);il(Ue,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,Ne!==null&&Ne.tag===6?(l(Ue,Ne.sibling),it=E(Ne,He),it.return=Ue,Ue=it):(l(Ue,Ne),it=ql(He,Ue.mode,it),it.return=Ue,Ue=it),le(Ue)):l(Ue,Ne)}return function(Ue,Ne,He,it){try{fo=0;var kt=Un(Ue,Ne,He,it);return As=null,kt}catch(Ft){if(Ft===ro||Ft===Go)throw Ft;var fn=Kr(29,Ft,null,Ue.mode);return fn.lanes=it,fn.return=Ue,fn}finally{}}}var Rs=wd(!0),Ad=wd(!1),oi=J(null),Pi=null;function wa(r){var a=r.alternate;D(vr,vr.current&1),D(oi,r),Pi===null&&(a===null||_s.current!==null||a.memoizedState!==null)&&(Pi=r)}function Rd(r){if(r.tag===22){if(D(vr,vr.current),D(oi,r),Pi===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Pi=r)}}else Aa()}function Aa(){D(vr,vr.current),D(oi,oi.current)}function ea(r){ae(oi),Pi===r&&(Pi=null),ae(vr)}var vr=J(0);function al(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||du(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Ec(r,a,l,u){a=r.memoizedState,l=l(u,a),l=l==null?a:d({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Sc={enqueueSetState:function(r,a,l){r=r._reactInternals;var u=ei(),E=_a(u);E.payload=a,l!=null&&(E.callback=l),a=Ea(r,E,u),a!==null&&(ti(a,r,u),ao(a,r,u))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var u=ei(),E=_a(u);E.tag=1,E.payload=a,l!=null&&(E.callback=l),a=Ea(r,E,u),a!==null&&(ti(a,r,u),ao(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=ei(),u=_a(l);u.tag=2,a!=null&&(u.callback=a),a=Ea(r,u,l),a!==null&&(ti(a,r,l),ao(a,r,l))}};function Td(r,a,l,u,E,C,le){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,C,le):a.prototype&&a.prototype.isPureReactComponent?!Va(l,u)||!Va(E,C):!0}function Cd(r,a,l,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==r&&Sc.enqueueReplaceState(a,a.state,null)}function is(r,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(r=r.defaultProps){l===a&&(l=d({},l));for(var E in r)l[E]===void 0&&(l[E]=r[E])}return l}var sl=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function kd(r){sl(r)}function Pd(r){console.error(r)}function Md(r){sl(r)}function ol(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Id(r,a,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function wc(r,a,l){return l=_a(l),l.tag=3,l.payload={element:null},l.callback=function(){ol(r,a)},l}function Nd(r){return r=_a(r),r.tag=3,r}function Od(r,a,l,u){var E=l.type.getDerivedStateFromError;if(typeof E=="function"){var C=u.value;r.payload=function(){return E(C)},r.callback=function(){Id(a,l,u)}}var le=l.stateNode;le!==null&&typeof le.componentDidCatch=="function"&&(r.callback=function(){Id(a,l,u),typeof E!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var ge=u.stack;this.componentDidCatch(u.value,{componentStack:ge!==null?ge:""})})}function kf(r,a,l,u,E){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&eo(a,l,E,!0),l=oi.current,l!==null){switch(l.tag){case 13:return Pi===null?Yc():l.alternate===null&&ar===0&&(ar=3),l.flags&=-257,l.flags|=65536,l.lanes=E,u===Zl?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Kc(r,u,E)),!1;case 22:return l.flags|=65536,u===Zl?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Kc(r,u,E)),!1}throw Error(i(435,l.tag))}return Kc(r,u,E),Yc(),!1}if(Tn)return a=oi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=E,u!==Gl&&(r=Error(i(422),{cause:u}),Zs(Kt(r,l)))):(u!==Gl&&(a=Error(i(423),{cause:u}),Zs(Kt(a,l))),r=r.current.alternate,r.flags|=65536,E&=-E,r.lanes|=E,u=Kt(u,l),E=wc(r.stateNode,u,E),nc(r,E),ar!==4&&(ar=2)),!1;var C=Error(i(520),{cause:u});if(C=Kt(C,l),_o===null?_o=[C]:_o.push(C),ar!==4&&(ar=2),a===null)return!0;u=Kt(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=E&-E,l.lanes|=r,r=wc(l.stateNode,u,r),nc(l,r),!1;case 1:if(a=l.type,C=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ma===null||!Ma.has(C))))return l.flags|=65536,E&=-E,l.lanes|=E,E=Nd(E),Od(E,r,l,u),nc(l,E),!1}l=l.return}while(l!==null);return!1}var jd=Error(i(461)),br=!1;function wr(r,a,l,u){a.child=r===null?Ad(a,null,l,u):Rs(a,r.child,l,u)}function Dd(r,a,l,u,E){l=l.render;var C=a.ref;if("ref"in u){var le={};for(var ge in u)ge!=="ref"&&(le[ge]=u[ge])}else le=u;return ts(a),u=oc(r,a,l,le,C,E),ge=lc(),r!==null&&!br?(cc(r,a,E),ta(r,a,E)):(Tn&&ge&&$l(a),a.flags|=1,wr(r,a,u,E),a.child)}function Ld(r,a,l,u,E){if(r===null){var C=l.type;return typeof C=="function"&&!zl(C)&&C.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=C,Fd(r,a,C,u,E)):(r=Uo(l.type,null,u,a,a.mode,E),r.ref=a.ref,r.return=a,a.child=r)}if(C=r.child,!Ic(r,E)){var le=C.memoizedProps;if(l=l.compare,l=l!==null?l:Va,l(le,u)&&r.ref===a.ref)return ta(r,a,E)}return a.flags|=1,r=Yi(C,u),r.ref=a.ref,r.return=a,a.child=r}function Fd(r,a,l,u,E){if(r!==null){var C=r.memoizedProps;if(Va(C,u)&&r.ref===a.ref)if(br=!1,a.pendingProps=u=C,Ic(r,E))(r.flags&131072)!==0&&(br=!0);else return a.lanes=r.lanes,ta(r,a,E)}return Ac(r,a,l,u,E)}function Bd(r,a,l){var u=a.pendingProps,E=u.children,C=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=C!==null?C.baseLanes|l:l,r!==null){for(E=a.child=r.child,C=0;E!==null;)C=C|E.lanes|E.childLanes,E=E.sibling;a.childLanes=C&~u}else a.childLanes=0,a.child=null;return Ud(r,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Vo(a,C!==null?C.cachePool:null),C!==null?Fu(a,C):ic(),Rd(a);else return a.lanes=a.childLanes=536870912,Ud(r,a,C!==null?C.baseLanes|l:l,l)}else C!==null?(Vo(a,C.cachePool),Fu(a,C),Aa(),a.memoizedState=null):(r!==null&&Vo(a,null),ic(),Aa());return wr(r,a,E,l),a.child}function Ud(r,a,l,u){var E=Jl();return E=E===null?null:{parent:gr._currentValue,pool:E},a.memoizedState={baseLanes:l,cachePool:E},r!==null&&Vo(a,null),ic(),Rd(a),r!==null&&eo(r,a,u,!0),null}function ll(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function Ac(r,a,l,u,E){return ts(a),l=oc(r,a,l,u,void 0,E),u=lc(),r!==null&&!br?(cc(r,a,E),ta(r,a,E)):(Tn&&u&&$l(a),a.flags|=1,wr(r,a,l,E),a.child)}function zd(r,a,l,u,E,C){return ts(a),a.updateQueue=null,l=Uu(a,u,l,E),Bu(r),u=lc(),r!==null&&!br?(cc(r,a,C),ta(r,a,C)):(Tn&&u&&$l(a),a.flags|=1,wr(r,a,l,C),a.child)}function qd(r,a,l,u,E){if(ts(a),a.stateNode===null){var C=yi,le=l.contextType;typeof le=="object"&&le!==null&&(C=Pr(le)),C=new l(u,C),a.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Sc,a.stateNode=C,C._reactInternals=a,C=a.stateNode,C.props=u,C.state=a.memoizedState,C.refs={},ec(a),le=l.contextType,C.context=typeof le=="object"&&le!==null?Pr(le):yi,C.state=a.memoizedState,le=l.getDerivedStateFromProps,typeof le=="function"&&(Ec(a,l,le,u),C.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(le=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),le!==C.state&&Sc.enqueueReplaceState(C,C.state,null),oo(a,u,C,E),so(),C.state=a.memoizedState),typeof C.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){C=a.stateNode;var ge=a.memoizedProps,Ae=is(l,ge);C.props=Ae;var $e=C.context,nt=l.contextType;le=yi,typeof nt=="object"&&nt!==null&&(le=Pr(nt));var ot=l.getDerivedStateFromProps;nt=typeof ot=="function"||typeof C.getSnapshotBeforeUpdate=="function",ge=a.pendingProps!==ge,nt||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(ge||$e!==le)&&Cd(a,C,u,le),xa=!1;var Ge=a.memoizedState;C.state=Ge,oo(a,u,C,E),so(),$e=a.memoizedState,ge||Ge!==$e||xa?(typeof ot=="function"&&(Ec(a,l,ot,u),$e=a.memoizedState),(Ae=xa||Td(a,l,Ae,u,Ge,$e,le))?(nt||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=$e),C.props=u,C.state=$e,C.context=le,u=Ae):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{C=a.stateNode,tc(r,a),le=a.memoizedProps,nt=is(l,le),C.props=nt,ot=a.pendingProps,Ge=C.context,$e=l.contextType,Ae=yi,typeof $e=="object"&&$e!==null&&(Ae=Pr($e)),ge=l.getDerivedStateFromProps,($e=typeof ge=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(le!==ot||Ge!==Ae)&&Cd(a,C,u,Ae),xa=!1,Ge=a.memoizedState,C.state=Ge,oo(a,u,C,E),so();var We=a.memoizedState;le!==ot||Ge!==We||xa||r!==null&&r.dependencies!==null&&Ho(r.dependencies)?(typeof ge=="function"&&(Ec(a,l,ge,u),We=a.memoizedState),(nt=xa||Td(a,l,nt,u,Ge,We,Ae)||r!==null&&r.dependencies!==null&&Ho(r.dependencies))?($e||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(u,We,Ae),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(u,We,Ae)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||le===r.memoizedProps&&Ge===r.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||le===r.memoizedProps&&Ge===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=We),C.props=u,C.state=We,C.context=Ae,u=nt):(typeof C.componentDidUpdate!="function"||le===r.memoizedProps&&Ge===r.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||le===r.memoizedProps&&Ge===r.memoizedState||(a.flags|=1024),u=!1)}return C=u,ll(r,a),u=(a.flags&128)!==0,C||u?(C=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:C.render(),a.flags|=1,r!==null&&u?(a.child=Rs(a,r.child,null,E),a.child=Rs(a,null,l,E)):wr(r,a,l,E),a.memoizedState=C.state,r=a.child):r=ta(r,a,E),r}function Hd(r,a,l,u){return Js(),a.flags|=256,wr(r,a,l,u),a.child}var Rc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tc(r){return{baseLanes:r,cachePool:Pu()}}function Cc(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=li),r}function $d(r,a,l){var u=a.pendingProps,E=!1,C=(a.flags&128)!==0,le;if((le=C)||(le=r!==null&&r.memoizedState===null?!1:(vr.current&2)!==0),le&&(E=!0,a.flags&=-129),le=(a.flags&32)!==0,a.flags&=-33,r===null){if(Tn){if(E?wa(a):Aa(),Tn){var ge=ir,Ae;if(Ae=ge){e:{for(Ae=ge,ge=ki;Ae.nodeType!==8;){if(!ge){ge=null;break e}if(Ae=xi(Ae.nextSibling),Ae===null){ge=null;break e}}ge=Ae}ge!==null?(a.memoizedState={dehydrated:ge,treeContext:Ka!==null?{id:Xi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},Ae=Kr(18,null,null,0),Ae.stateNode=ge,Ae.return=a,a.child=Ae,jr=a,ir=null,Ae=!0):Ae=!1}Ae||Za(a)}if(ge=a.memoizedState,ge!==null&&(ge=ge.dehydrated,ge!==null))return du(ge)?a.lanes=32:a.lanes=536870912,null;ea(a)}return ge=u.children,u=u.fallback,E?(Aa(),E=a.mode,ge=cl({mode:"hidden",children:ge},E),u=Xa(u,E,l,null),ge.return=a,u.return=a,ge.sibling=u,a.child=ge,E=a.child,E.memoizedState=Tc(l),E.childLanes=Cc(r,le,l),a.memoizedState=Rc,u):(wa(a),kc(a,ge))}if(Ae=r.memoizedState,Ae!==null&&(ge=Ae.dehydrated,ge!==null)){if(C)a.flags&256?(wa(a),a.flags&=-257,a=Pc(r,a,l)):a.memoizedState!==null?(Aa(),a.child=r.child,a.flags|=128,a=null):(Aa(),E=u.fallback,ge=a.mode,u=cl({mode:"visible",children:u.children},ge),E=Xa(E,ge,l,null),E.flags|=2,u.return=a,E.return=a,u.sibling=E,a.child=u,Rs(a,r.child,null,l),u=a.child,u.memoizedState=Tc(l),u.childLanes=Cc(r,le,l),a.memoizedState=Rc,a=E);else if(wa(a),du(ge)){if(le=ge.nextSibling&&ge.nextSibling.dataset,le)var $e=le.dgst;le=$e,u=Error(i(419)),u.stack="",u.digest=le,Zs({value:u,source:null,stack:null}),a=Pc(r,a,l)}else if(br||eo(r,a,l,!1),le=(l&r.childLanes)!==0,br||le){if(le=Gn,le!==null&&(u=l&-l,u=(u&42)!==0?1:Qn(u),u=(u&(le.suspendedLanes|l))!==0?0:u,u!==0&&u!==Ae.retryLane))throw Ae.retryLane=u,Or(r,u),ti(le,r,u),jd;ge.data==="$?"||Yc(),a=Pc(r,a,l)}else ge.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=Ae.treeContext,ir=xi(ge.nextSibling),jr=a,Tn=!0,Ja=null,ki=!1,r!==null&&(ai[si++]=Xi,ai[si++]=Ki,ai[si++]=Ka,Xi=r.id,Ki=r.overflow,Ka=a),a=kc(a,u.children),a.flags|=4096);return a}return E?(Aa(),E=u.fallback,ge=a.mode,Ae=r.child,$e=Ae.sibling,u=Yi(Ae,{mode:"hidden",children:u.children}),u.subtreeFlags=Ae.subtreeFlags&65011712,$e!==null?E=Yi($e,E):(E=Xa(E,ge,l,null),E.flags|=2),E.return=a,u.return=a,u.sibling=E,a.child=u,u=E,E=a.child,ge=r.child.memoizedState,ge===null?ge=Tc(l):(Ae=ge.cachePool,Ae!==null?($e=gr._currentValue,Ae=Ae.parent!==$e?{parent:$e,pool:$e}:Ae):Ae=Pu(),ge={baseLanes:ge.baseLanes|l,cachePool:Ae}),E.memoizedState=ge,E.childLanes=Cc(r,le,l),a.memoizedState=Rc,u):(wa(a),l=r.child,r=l.sibling,l=Yi(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,r!==null&&(le=a.deletions,le===null?(a.deletions=[r],a.flags|=16):le.push(r)),a.child=l,a.memoizedState=null,l)}function kc(r,a){return a=cl({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function cl(r,a){return r=Kr(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Pc(r,a,l){return Rs(a,r.child,null,l),r=kc(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Vd(r,a,l){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),Yl(r.return,a,l)}function Mc(r,a,l,u,E){var C=r.memoizedState;C===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:E}:(C.isBackwards=a,C.rendering=null,C.renderingStartTime=0,C.last=u,C.tail=l,C.tailMode=E)}function Gd(r,a,l){var u=a.pendingProps,E=u.revealOrder,C=u.tail;if(wr(r,a,u.children,l),u=vr.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Vd(r,l,a);else if(r.tag===19)Vd(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(D(vr,u),E){case"forwards":for(l=a.child,E=null;l!==null;)r=l.alternate,r!==null&&al(r)===null&&(E=l),l=l.sibling;l=E,l===null?(E=a.child,a.child=null):(E=l.sibling,l.sibling=null),Mc(a,!1,E,l,C);break;case"backwards":for(l=null,E=a.child,a.child=null;E!==null;){if(r=E.alternate,r!==null&&al(r)===null){a.child=E;break}r=E.sibling,E.sibling=l,l=E,E=r}Mc(a,!0,l,null,C);break;case"together":Mc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ta(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),Pa|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(eo(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=Yi(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=Yi(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function Ic(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Ho(r)))}function Pf(r,a,l){switch(a.tag){case 3:oe(a,a.stateNode.containerInfo),ba(a,gr,r.memoizedState.cache),Js();break;case 27:case 5:ve(a);break;case 4:oe(a,a.stateNode.containerInfo);break;case 10:ba(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(wa(a),a.flags|=128,null):(l&a.child.childLanes)!==0?$d(r,a,l):(wa(a),r=ta(r,a,l),r!==null?r.sibling:null);wa(a);break;case 19:var E=(r.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(eo(r,a,l,!1),u=(l&a.childLanes)!==0),E){if(u)return Gd(r,a,l);a.flags|=128}if(E=a.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),D(vr,vr.current),u)break;return null;case 22:case 23:return a.lanes=0,Bd(r,a,l);case 24:ba(a,gr,r.memoizedState.cache)}return ta(r,a,l)}function Wd(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)br=!0;else{if(!Ic(r,l)&&(a.flags&128)===0)return br=!1,Pf(r,a,l);br=(r.flags&131072)!==0}else br=!1,Tn&&(a.flags&1048576)!==0&&Su(a,qo,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,E=u._init;if(u=E(u._payload),a.type=u,typeof u=="function")zl(u)?(r=is(u,r),a.tag=1,a=qd(null,a,u,r,l)):(a.tag=0,a=Ac(null,a,u,r,l));else{if(u!=null){if(E=u.$$typeof,E===Q){a.tag=11,a=Dd(null,a,u,r,l);break e}else if(E===j){a.tag=14,a=Ld(null,a,u,r,l);break e}}throw a=ue(u)||u,Error(i(306,a,""))}}return a;case 0:return Ac(r,a,a.type,a.pendingProps,l);case 1:return u=a.type,E=is(u,a.pendingProps),qd(r,a,u,E,l);case 3:e:{if(oe(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var C=a.memoizedState;E=C.element,tc(r,a),oo(a,u,null,l);var le=a.memoizedState;if(u=le.cache,ba(a,gr,u),u!==C.cache&&Xl(a,[gr],l,!0),so(),u=le.element,C.isDehydrated)if(C={element:u,isDehydrated:!1,cache:le.cache},a.updateQueue.baseState=C,a.memoizedState=C,a.flags&256){a=Hd(r,a,u,l);break e}else if(u!==E){E=Kt(Error(i(424)),a),Zs(E),a=Hd(r,a,u,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ir=xi(r.firstChild),jr=a,Tn=!0,Ja=null,ki=!0,l=Ad(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Js(),u===E){a=ta(r,a,l);break e}wr(r,a,u,l)}a=a.child}return a;case 26:return ll(r,a),r===null?(l=Qh(a.type,null,a.pendingProps,null))?a.memoizedState=l:Tn||(l=a.type,r=a.pendingProps,u=Sl(H.current).createElement(l),u[zn]=a,u[jn]=r,Rr(u,l,r),Zn(u),a.stateNode=u):a.memoizedState=Qh(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return ve(a),r===null&&Tn&&(u=a.stateNode=Yh(a.type,a.pendingProps,H.current),jr=a,ki=!0,E=ir,Oa(a.type)?(hu=E,ir=xi(u.firstChild)):ir=E),wr(r,a,a.pendingProps.children,l),ll(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Tn&&((E=u=ir)&&(u=ip(u,a.type,a.pendingProps,ki),u!==null?(a.stateNode=u,jr=a,ir=xi(u.firstChild),ki=!1,E=!0):E=!1),E||Za(a)),ve(a),E=a.type,C=a.pendingProps,le=r!==null?r.memoizedProps:null,u=C.children,lu(E,C)?u=null:le!==null&&lu(E,le)&&(a.flags|=32),a.memoizedState!==null&&(E=oc(r,a,Ef,null,null,l),Po._currentValue=E),ll(r,a),wr(r,a,u,l),a.child;case 6:return r===null&&Tn&&((r=l=ir)&&(l=ap(l,a.pendingProps,ki),l!==null?(a.stateNode=l,jr=a,ir=null,r=!0):r=!1),r||Za(a)),null;case 13:return $d(r,a,l);case 4:return oe(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=Rs(a,null,u,l):wr(r,a,u,l),a.child;case 11:return Dd(r,a,a.type,a.pendingProps,l);case 7:return wr(r,a,a.pendingProps,l),a.child;case 8:return wr(r,a,a.pendingProps.children,l),a.child;case 12:return wr(r,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,ba(a,a.type,u.value),wr(r,a,u.children,l),a.child;case 9:return E=a.type._context,u=a.pendingProps.children,ts(a),E=Pr(E),u=u(E),a.flags|=1,wr(r,a,u,l),a.child;case 14:return Ld(r,a,a.type,a.pendingProps,l);case 15:return Fd(r,a,a.type,a.pendingProps,l);case 19:return Gd(r,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},r===null?(l=cl(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Yi(r.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Bd(r,a,l);case 24:return ts(a),u=Pr(gr),r===null?(E=Jl(),E===null&&(E=Gn,C=Kl(),E.pooledCache=C,C.refCount++,C!==null&&(E.pooledCacheLanes|=l),E=C),a.memoizedState={parent:u,cache:E},ec(a),ba(a,gr,E)):((r.lanes&l)!==0&&(tc(r,a),oo(a,null,null,l),so()),E=r.memoizedState,C=a.memoizedState,E.parent!==u?(E={parent:u,cache:u},a.memoizedState=E,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=E),ba(a,gr,u)):(u=C.cache,ba(a,gr,u),u!==E.cache&&Xl(a,[gr],l,!0))),wr(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function na(r){r.flags|=4}function Yd(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!nf(a)){if(a=oi.current,a!==null&&((bn&4194048)===bn?Pi!==null:(bn&62914560)!==bn&&(bn&536870912)===0||a!==Pi))throw io=Zl,Mu;r.flags|=8192}}function ul(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Wt():536870912,r.lanes|=a,Ps|=a)}function mo(r,a){if(!Tn)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function nr(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(a)for(var E=r.child;E!==null;)l|=E.lanes|E.childLanes,u|=E.subtreeFlags&65011712,u|=E.flags&65011712,E.return=r,E=E.sibling;else for(E=r.child;E!==null;)l|=E.lanes|E.childLanes,u|=E.subtreeFlags,u|=E.flags,E.return=r,E=E.sibling;return r.subtreeFlags|=u,r.childLanes=l,a}function Mf(r,a,l){var u=a.pendingProps;switch(Vl(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(a),null;case 1:return nr(a),null;case 3:return l=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ji(gr),me(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Qs(a)?na(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ru())),nr(a),null;case 26:return l=a.memoizedState,r===null?(na(a),l!==null?(nr(a),Yd(a,l)):(nr(a),a.flags&=-16777217)):l?l!==r.memoizedState?(na(a),nr(a),Yd(a,l)):(nr(a),a.flags&=-16777217):(r.memoizedProps!==u&&na(a),nr(a),a.flags&=-16777217),null;case 27:ye(a),l=H.current;var E=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&na(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return nr(a),null}r=de.current,Qs(a)?wu(a):(r=Yh(E,u,l),a.stateNode=r,na(a))}return nr(a),null;case 5:if(ye(a),l=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&na(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return nr(a),null}if(r=de.current,Qs(a))wu(a);else{switch(E=Sl(H.current),r){case 1:r=E.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=E.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=E.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=E.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?E.createElement(l,{is:u.is}):E.createElement(l)}}r[zn]=a,r[jn]=u;e:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)r.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break e;for(;E.sibling===null;){if(E.return===null||E.return===a)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=r;e:switch(Rr(r,l,u),l){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&na(a)}}return nr(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&na(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=H.current,Qs(a)){if(r=a.stateNode,l=a.memoizedProps,u=null,E=jr,E!==null)switch(E.tag){case 27:case 5:u=E.memoizedProps}r[zn]=a,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||zh(r.nodeValue,l)),r||Za(a)}else r=Sl(r).createTextNode(u),r[zn]=a,a.stateNode=r}return nr(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(E=Qs(a),u!==null&&u.dehydrated!==null){if(r===null){if(!E)throw Error(i(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(i(317));E[zn]=a}else Js(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;nr(a),E=!1}else E=Ru(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=E),E=!0;if(!E)return a.flags&256?(ea(a),a):(ea(a),null)}if(ea(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,r=r!==null&&r.memoizedState!==null,l){u=a.child,E=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(E=u.alternate.memoizedState.cachePool.pool);var C=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(C=u.memoizedState.cachePool.pool),C!==E&&(u.flags|=2048)}return l!==r&&l&&(a.child.flags|=8192),ul(a,a.updateQueue),nr(a),null;case 4:return me(),r===null&&ru(a.stateNode.containerInfo),nr(a),null;case 10:return Ji(a.type),nr(a),null;case 19:if(ae(vr),E=a.memoizedState,E===null)return nr(a),null;if(u=(a.flags&128)!==0,C=E.rendering,C===null)if(u)mo(E,!1);else{if(ar!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(C=al(r),C!==null){for(a.flags|=128,mo(E,!1),r=C.updateQueue,a.updateQueue=r,ul(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)Eu(l,r),l=l.sibling;return D(vr,vr.current&1|2),a.child}r=r.sibling}E.tail!==null&&ze()>fl&&(a.flags|=128,u=!0,mo(E,!1),a.lanes=4194304)}else{if(!u)if(r=al(C),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,ul(a,r),mo(E,!0),E.tail===null&&E.tailMode==="hidden"&&!C.alternate&&!Tn)return nr(a),null}else 2*ze()-E.renderingStartTime>fl&&l!==536870912&&(a.flags|=128,u=!0,mo(E,!1),a.lanes=4194304);E.isBackwards?(C.sibling=a.child,a.child=C):(r=E.last,r!==null?r.sibling=C:a.child=C,E.last=C)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=ze(),a.sibling=null,r=vr.current,D(vr,u?r&1|2:r&1),a):(nr(a),null);case 22:case 23:return ea(a),ac(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(nr(a),a.subtreeFlags&6&&(a.flags|=8192)):nr(a),l=a.updateQueue,l!==null&&ul(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),r!==null&&ae(ns),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ji(gr),nr(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function If(r,a){switch(Vl(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Ji(gr),me(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return ye(a),null;case 13:if(ea(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Js()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ae(vr),null;case 4:return me(),null;case 10:return Ji(a.type),null;case 22:case 23:return ea(a),ac(),r!==null&&ae(ns),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Ji(gr),null;case 25:return null;default:return null}}function Xd(r,a){switch(Vl(a),a.tag){case 3:Ji(gr),me();break;case 26:case 27:case 5:ye(a);break;case 4:me();break;case 13:ea(a);break;case 19:ae(vr);break;case 10:Ji(a.type);break;case 22:case 23:ea(a),ac(),r!==null&&ae(ns);break;case 24:Ji(gr)}}function go(r,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var E=u.next;l=E;do{if((l.tag&r)===r){u=void 0;var C=l.create,le=l.inst;u=C(),le.destroy=u}l=l.next}while(l!==E)}}catch(ge){$n(a,a.return,ge)}}function Ra(r,a,l){try{var u=a.updateQueue,E=u!==null?u.lastEffect:null;if(E!==null){var C=E.next;u=C;do{if((u.tag&r)===r){var le=u.inst,ge=le.destroy;if(ge!==void 0){le.destroy=void 0,E=a;var Ae=l,$e=ge;try{$e()}catch(nt){$n(E,Ae,nt)}}}u=u.next}while(u!==C)}}catch(nt){$n(a,a.return,nt)}}function Kd(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{Lu(a,l)}catch(u){$n(r,r.return,u)}}}function Qd(r,a,l){l.props=is(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){$n(r,a,u)}}function vo(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(E){$n(r,a,E)}}function Mi(r,a){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(E){$n(r,a,E)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(E){$n(r,a,E)}else l.current=null}function Jd(r){var a=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(E){$n(r,r.return,E)}}function Nc(r,a,l){try{var u=r.stateNode;Zf(u,r.type,l,a),u[jn]=a}catch(E){$n(r,r.return,E)}}function Zd(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Oa(r.type)||r.tag===4}function Oc(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Zd(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Oa(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function jc(r,a,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=El));else if(u!==4&&(u===27&&Oa(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(jc(r,a,l),r=r.sibling;r!==null;)jc(r,a,l),r=r.sibling}function dl(r,a,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(u!==4&&(u===27&&Oa(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(dl(r,a,l),r=r.sibling;r!==null;)dl(r,a,l),r=r.sibling}function eh(r){var a=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,E=a.attributes;E.length;)a.removeAttributeNode(E[0]);Rr(a,u,l),a[zn]=r,a[jn]=l}catch(C){$n(r,r.return,C)}}var ra=!1,lr=!1,Dc=!1,th=typeof WeakSet=="function"?WeakSet:Set,xr=null;function Nf(r,a){if(r=r.containerInfo,su=kl,r=Lo(r),Vs(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var E=u.anchorOffset,C=u.focusNode;u=u.focusOffset;try{l.nodeType,C.nodeType}catch{l=null;break e}var le=0,ge=-1,Ae=-1,$e=0,nt=0,ot=r,Ge=null;t:for(;;){for(var We;ot!==l||E!==0&&ot.nodeType!==3||(ge=le+E),ot!==C||u!==0&&ot.nodeType!==3||(Ae=le+u),ot.nodeType===3&&(le+=ot.nodeValue.length),(We=ot.firstChild)!==null;)Ge=ot,ot=We;for(;;){if(ot===r)break t;if(Ge===l&&++$e===E&&(ge=le),Ge===C&&++nt===u&&(Ae=le),(We=ot.nextSibling)!==null)break;ot=Ge,Ge=ot.parentNode}ot=We}l=ge===-1||Ae===-1?null:{start:ge,end:Ae}}else l=null}l=l||{start:0,end:0}}else l=null;for(ou={focusedElem:r,selectionRange:l},kl=!1,xr=a;xr!==null;)if(a=xr,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,xr=r;else for(;xr!==null;){switch(a=xr,C=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&C!==null){r=void 0,l=a,E=C.memoizedProps,C=C.memoizedState,u=l.stateNode;try{var Vt=is(l.type,E,l.elementType===l.type);r=u.getSnapshotBeforeUpdate(Vt,C),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ht){$n(l,l.return,Ht)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)uu(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":uu(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,xr=r;break}xr=a.return}}function nh(r,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ta(r,l),u&4&&go(5,l);break;case 1:if(Ta(r,l),u&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(le){$n(l,l.return,le)}else{var E=is(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(E,a,r.__reactInternalSnapshotBeforeUpdate)}catch(le){$n(l,l.return,le)}}u&64&&Kd(l),u&512&&vo(l,l.return);break;case 3:if(Ta(r,l),u&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Lu(r,a)}catch(le){$n(l,l.return,le)}}break;case 27:a===null&&u&4&&eh(l);case 26:case 5:Ta(r,l),a===null&&u&4&&Jd(l),u&512&&vo(l,l.return);break;case 12:Ta(r,l);break;case 13:Ta(r,l),u&4&&ah(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=qf.bind(null,l),sp(r,l))));break;case 22:if(u=l.memoizedState!==null||ra,!u){a=a!==null&&a.memoizedState!==null||lr,E=ra;var C=lr;ra=u,(lr=a)&&!C?Ca(r,l,(l.subtreeFlags&8772)!==0):Ta(r,l),ra=E,lr=C}break;case 30:break;default:Ta(r,l)}}function rh(r){var a=r.alternate;a!==null&&(r.alternate=null,rh(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&ji(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Kn=null,zr=!1;function ia(r,a,l){for(l=l.child;l!==null;)ih(r,a,l),l=l.sibling}function ih(r,a,l){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(Be,l)}catch{}switch(l.tag){case 26:lr||Mi(l,a),ia(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:lr||Mi(l,a);var u=Kn,E=zr;Oa(l.type)&&(Kn=l.stateNode,zr=!1),ia(r,a,l),Ro(l.stateNode),Kn=u,zr=E;break;case 5:lr||Mi(l,a);case 6:if(u=Kn,E=zr,Kn=null,ia(r,a,l),Kn=u,zr=E,Kn!==null)if(zr)try{(Kn.nodeType===9?Kn.body:Kn.nodeName==="HTML"?Kn.ownerDocument.body:Kn).removeChild(l.stateNode)}catch(C){$n(l,a,C)}else try{Kn.removeChild(l.stateNode)}catch(C){$n(l,a,C)}break;case 18:Kn!==null&&(zr?(r=Kn,Gh(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Oo(r)):Gh(Kn,l.stateNode));break;case 4:u=Kn,E=zr,Kn=l.stateNode.containerInfo,zr=!0,ia(r,a,l),Kn=u,zr=E;break;case 0:case 11:case 14:case 15:lr||Ra(2,l,a),lr||Ra(4,l,a),ia(r,a,l);break;case 1:lr||(Mi(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Qd(l,a,u)),ia(r,a,l);break;case 21:ia(r,a,l);break;case 22:lr=(u=lr)||l.memoizedState!==null,ia(r,a,l),lr=u;break;default:ia(r,a,l)}}function ah(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Oo(r)}catch(l){$n(a,a.return,l)}}function Of(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new th),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new th),a;default:throw Error(i(435,r.tag))}}function Lc(r,a){var l=Of(r);a.forEach(function(u){var E=Hf.bind(null,r,u);l.has(u)||(l.add(u),u.then(E,E))})}function Qr(r,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var E=l[u],C=r,le=a,ge=le;e:for(;ge!==null;){switch(ge.tag){case 27:if(Oa(ge.type)){Kn=ge.stateNode,zr=!1;break e}break;case 5:Kn=ge.stateNode,zr=!1;break e;case 3:case 4:Kn=ge.stateNode.containerInfo,zr=!0;break e}ge=ge.return}if(Kn===null)throw Error(i(160));ih(C,le,E),Kn=null,zr=!1,C=E.alternate,C!==null&&(C.return=null),E.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)sh(a,r),a=a.sibling}var bi=null;function sh(r,a){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Qr(a,r),Jr(r),u&4&&(Ra(3,r,r.return),go(3,r),Ra(5,r,r.return));break;case 1:Qr(a,r),Jr(r),u&512&&(lr||l===null||Mi(l,l.return)),u&64&&ra&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var E=bi;if(Qr(a,r),Jr(r),u&512&&(lr||l===null||Mi(l,l.return)),u&4){var C=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,E=E.ownerDocument||E;t:switch(u){case"title":C=E.getElementsByTagName("title")[0],(!C||C[Oi]||C[zn]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=E.createElement(u),E.head.insertBefore(C,E.querySelector("head > title"))),Rr(C,u,l),C[zn]=r,Zn(C),u=C;break e;case"link":var le=ef("link","href",E).get(u+(l.href||""));if(le){for(var ge=0;ge<le.length;ge++)if(C=le[ge],C.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&C.getAttribute("rel")===(l.rel==null?null:l.rel)&&C.getAttribute("title")===(l.title==null?null:l.title)&&C.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){le.splice(ge,1);break t}}C=E.createElement(u),Rr(C,u,l),E.head.appendChild(C);break;case"meta":if(le=ef("meta","content",E).get(u+(l.content||""))){for(ge=0;ge<le.length;ge++)if(C=le[ge],C.getAttribute("content")===(l.content==null?null:""+l.content)&&C.getAttribute("name")===(l.name==null?null:l.name)&&C.getAttribute("property")===(l.property==null?null:l.property)&&C.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&C.getAttribute("charset")===(l.charSet==null?null:l.charSet)){le.splice(ge,1);break t}}C=E.createElement(u),Rr(C,u,l),E.head.appendChild(C);break;default:throw Error(i(468,u))}C[zn]=r,Zn(C),u=C}r.stateNode=u}else tf(E,r.type,r.stateNode);else r.stateNode=Zh(E,u,r.memoizedProps);else C!==u?(C===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):C.count--,u===null?tf(E,r.type,r.stateNode):Zh(E,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Nc(r,r.memoizedProps,l.memoizedProps)}break;case 27:Qr(a,r),Jr(r),u&512&&(lr||l===null||Mi(l,l.return)),l!==null&&u&4&&Nc(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Qr(a,r),Jr(r),u&512&&(lr||l===null||Mi(l,l.return)),r.flags&32){E=r.stateNode;try{Ir(E,"")}catch(We){$n(r,r.return,We)}}u&4&&r.stateNode!=null&&(E=r.memoizedProps,Nc(r,E,l!==null?l.memoizedProps:E)),u&1024&&(Dc=!0);break;case 6:if(Qr(a,r),Jr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(We){$n(r,r.return,We)}}break;case 3:if(Rl=null,E=bi,bi=wl(a.containerInfo),Qr(a,r),bi=E,Jr(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Oo(a.containerInfo)}catch(We){$n(r,r.return,We)}Dc&&(Dc=!1,oh(r));break;case 4:u=bi,bi=wl(r.stateNode.containerInfo),Qr(a,r),Jr(r),bi=u;break;case 12:Qr(a,r),Jr(r);break;case 13:Qr(a,r),Jr(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Hc=ze()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Lc(r,u)));break;case 22:E=r.memoizedState!==null;var Ae=l!==null&&l.memoizedState!==null,$e=ra,nt=lr;if(ra=$e||E,lr=nt||Ae,Qr(a,r),lr=nt,ra=$e,Jr(r),u&8192)e:for(a=r.stateNode,a._visibility=E?a._visibility&-2:a._visibility|1,E&&(l===null||Ae||ra||lr||as(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){Ae=l=a;try{if(C=Ae.stateNode,E)le=C.style,typeof le.setProperty=="function"?le.setProperty("display","none","important"):le.display="none";else{ge=Ae.stateNode;var ot=Ae.memoizedProps.style,Ge=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;ge.style.display=Ge==null||typeof Ge=="boolean"?"":(""+Ge).trim()}}catch(We){$n(Ae,Ae.return,We)}}}else if(a.tag===6){if(l===null){Ae=a;try{Ae.stateNode.nodeValue=E?"":Ae.memoizedProps}catch(We){$n(Ae,Ae.return,We)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Lc(r,l))));break;case 19:Qr(a,r),Jr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Lc(r,u)));break;case 30:break;case 21:break;default:Qr(a,r),Jr(r)}}function Jr(r){var a=r.flags;if(a&2){try{for(var l,u=r.return;u!==null;){if(Zd(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var E=l.stateNode,C=Oc(r);dl(r,C,E);break;case 5:var le=l.stateNode;l.flags&32&&(Ir(le,""),l.flags&=-33);var ge=Oc(r);dl(r,ge,le);break;case 3:case 4:var Ae=l.stateNode.containerInfo,$e=Oc(r);jc(r,$e,Ae);break;default:throw Error(i(161))}}catch(nt){$n(r,r.return,nt)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function oh(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;oh(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Ta(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)nh(r,a.alternate,a),a=a.sibling}function as(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Ra(4,a,a.return),as(a);break;case 1:Mi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Qd(a,a.return,l),as(a);break;case 27:Ro(a.stateNode);case 26:case 5:Mi(a,a.return),as(a);break;case 22:a.memoizedState===null&&as(a);break;case 30:as(a);break;default:as(a)}r=r.sibling}}function Ca(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,E=r,C=a,le=C.flags;switch(C.tag){case 0:case 11:case 15:Ca(E,C,l),go(4,C);break;case 1:if(Ca(E,C,l),u=C,E=u.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch($e){$n(u,u.return,$e)}if(u=C,E=u.updateQueue,E!==null){var ge=u.stateNode;try{var Ae=E.shared.hiddenCallbacks;if(Ae!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Ae.length;E++)Du(Ae[E],ge)}catch($e){$n(u,u.return,$e)}}l&&le&64&&Kd(C),vo(C,C.return);break;case 27:eh(C);case 26:case 5:Ca(E,C,l),l&&u===null&&le&4&&Jd(C),vo(C,C.return);break;case 12:Ca(E,C,l);break;case 13:Ca(E,C,l),l&&le&4&&ah(E,C);break;case 22:C.memoizedState===null&&Ca(E,C,l),vo(C,C.return);break;case 30:break;default:Ca(E,C,l)}a=a.sibling}}function Fc(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&to(l))}function Bc(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&to(r))}function Ii(r,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)lh(r,a,l,u),a=a.sibling}function lh(r,a,l,u){var E=a.flags;switch(a.tag){case 0:case 11:case 15:Ii(r,a,l,u),E&2048&&go(9,a);break;case 1:Ii(r,a,l,u);break;case 3:Ii(r,a,l,u),E&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&to(r)));break;case 12:if(E&2048){Ii(r,a,l,u),r=a.stateNode;try{var C=a.memoizedProps,le=C.id,ge=C.onPostCommit;typeof ge=="function"&&ge(le,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Ae){$n(a,a.return,Ae)}}else Ii(r,a,l,u);break;case 13:Ii(r,a,l,u);break;case 23:break;case 22:C=a.stateNode,le=a.alternate,a.memoizedState!==null?C._visibility&2?Ii(r,a,l,u):yo(r,a):C._visibility&2?Ii(r,a,l,u):(C._visibility|=2,Ts(r,a,l,u,(a.subtreeFlags&10256)!==0)),E&2048&&Fc(le,a);break;case 24:Ii(r,a,l,u),E&2048&&Bc(a.alternate,a);break;default:Ii(r,a,l,u)}}function Ts(r,a,l,u,E){for(E=E&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var C=r,le=a,ge=l,Ae=u,$e=le.flags;switch(le.tag){case 0:case 11:case 15:Ts(C,le,ge,Ae,E),go(8,le);break;case 23:break;case 22:var nt=le.stateNode;le.memoizedState!==null?nt._visibility&2?Ts(C,le,ge,Ae,E):yo(C,le):(nt._visibility|=2,Ts(C,le,ge,Ae,E)),E&&$e&2048&&Fc(le.alternate,le);break;case 24:Ts(C,le,ge,Ae,E),E&&$e&2048&&Bc(le.alternate,le);break;default:Ts(C,le,ge,Ae,E)}a=a.sibling}}function yo(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,u=a,E=u.flags;switch(u.tag){case 22:yo(l,u),E&2048&&Fc(u.alternate,u);break;case 24:yo(l,u),E&2048&&Bc(u.alternate,u);break;default:yo(l,u)}a=a.sibling}}var bo=8192;function Cs(r){if(r.subtreeFlags&bo)for(r=r.child;r!==null;)ch(r),r=r.sibling}function ch(r){switch(r.tag){case 26:Cs(r),r.flags&bo&&r.memoizedState!==null&&bp(bi,r.memoizedState,r.memoizedProps);break;case 5:Cs(r);break;case 3:case 4:var a=bi;bi=wl(r.stateNode.containerInfo),Cs(r),bi=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=bo,bo=16777216,Cs(r),bo=a):Cs(r));break;default:Cs(r)}}function uh(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function xo(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];xr=u,hh(u,r)}uh(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)dh(r),r=r.sibling}function dh(r){switch(r.tag){case 0:case 11:case 15:xo(r),r.flags&2048&&Ra(9,r,r.return);break;case 3:xo(r);break;case 12:xo(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,hl(r)):xo(r);break;default:xo(r)}}function hl(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];xr=u,hh(u,r)}uh(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Ra(8,a,a.return),hl(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,hl(a));break;default:hl(a)}r=r.sibling}}function hh(r,a){for(;xr!==null;){var l=xr;switch(l.tag){case 0:case 11:case 15:Ra(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:to(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,xr=u;else e:for(l=r;xr!==null;){u=xr;var E=u.sibling,C=u.return;if(rh(u),u===l){xr=null;break e}if(E!==null){E.return=C,xr=E;break e}xr=C}}}var jf={getCacheForType:function(r){var a=Pr(gr),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l}},Df=typeof WeakMap=="function"?WeakMap:Map,Nn=0,Gn=null,pn=null,bn=0,On=0,Zr=null,ka=!1,ks=!1,Uc=!1,aa=0,ar=0,Pa=0,ss=0,zc=0,li=0,Ps=0,_o=null,qr=null,qc=!1,Hc=0,fl=1/0,pl=null,Ma=null,Ar=0,Ia=null,Ms=null,Is=0,$c=0,Vc=null,fh=null,Eo=0,Gc=null;function ei(){if((Nn&2)!==0&&bn!==0)return bn&-bn;if(se.T!==null){var r=bs;return r!==0?r:Zc()}return yn()}function ph(){li===0&&(li=(bn&536870912)===0||Tn?It():536870912);var r=oi.current;return r!==null&&(r.flags|=32),li}function ti(r,a,l){(r===Gn&&(On===2||On===9)||r.cancelPendingCommit!==null)&&(Ns(r,0),Na(r,bn,li,!1)),Vn(r,l),((Nn&2)===0||r!==Gn)&&(r===Gn&&((Nn&2)===0&&(ss|=l),ar===4&&Na(r,bn,li,!1)),Ni(r))}function mh(r,a,l){if((Nn&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&r.expiredLanes)===0||ct(r,a),E=u?Bf(r,a):Xc(r,a,!0),C=u;do{if(E===0){ks&&!u&&Na(r,a,0,!1);break}else{if(l=r.current.alternate,C&&!Lf(l)){E=Xc(r,a,!1),C=!1;continue}if(E===2){if(C=a,r.errorRecoveryDisabledLanes&C)var le=0;else le=r.pendingLanes&-536870913,le=le!==0?le:le&536870912?536870912:0;if(le!==0){a=le;e:{var ge=r;E=_o;var Ae=ge.current.memoizedState.isDehydrated;if(Ae&&(Ns(ge,le).flags|=256),le=Xc(ge,le,!1),le!==2){if(Uc&&!Ae){ge.errorRecoveryDisabledLanes|=C,ss|=C,E=4;break e}C=qr,qr=E,C!==null&&(qr===null?qr=C:qr.push.apply(qr,C))}E=le}if(C=!1,E!==2)continue}}if(E===1){Ns(r,0),Na(r,a,0,!0);break}e:{switch(u=r,C=E,C){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Na(u,a,li,!ka);break e;case 2:qr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(E=Hc+300-ze(),10<E)){if(Na(u,a,li,!ka),Te(u,0,!0)!==0)break e;u.timeoutHandle=$h(gh.bind(null,u,l,qr,pl,qc,a,li,ss,Ps,ka,C,2,-0,0),E);break e}gh(u,l,qr,pl,qc,a,li,ss,Ps,ka,C,0,-0,0)}}break}while(!0);Ni(r)}function gh(r,a,l,u,E,C,le,ge,Ae,$e,nt,ot,Ge,We){if(r.timeoutHandle=-1,ot=a.subtreeFlags,(ot&8192||(ot&16785408)===16785408)&&(ko={stylesheets:null,count:0,unsuspend:yp},ch(a),ot=xp(),ot!==null)){r.cancelPendingCommit=ot(Sh.bind(null,r,a,C,l,u,E,le,ge,Ae,nt,1,Ge,We)),Na(r,C,le,!$e);return}Sh(r,a,C,l,u,E,le,ge,Ae)}function Lf(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var E=l[u],C=E.getSnapshot;E=E.value;try{if(!Nr(C(),E))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Na(r,a,l,u){a&=~zc,a&=~ss,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var E=a;0<E;){var C=31-ht(E),le=1<<C;u[C]=-1,E&=~le}l!==0&&Cn(r,l,a)}function ml(){return(Nn&6)===0?(So(0),!1):!0}function Wc(){if(pn!==null){if(On===0)var r=pn.return;else r=pn,Qi=es=null,uc(r),As=null,fo=0,r=pn;for(;r!==null;)Xd(r.alternate,r),r=r.return;pn=null}}function Ns(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,tp(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Wc(),Gn=r,pn=l=Yi(r.current,null),bn=a,On=0,Zr=null,ka=!1,ks=ct(r,a),Uc=!1,Ps=li=zc=ss=Pa=ar=0,qr=_o=null,qc=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var E=31-ht(u),C=1<<E;a|=r[E],u&=~C}return aa=a,Xr(),l}function vh(r,a){dn=null,se.H=nl,a===ro||a===Go?(a=Ou(),On=3):a===Mu?(a=Ou(),On=4):On=a===jd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Zr=a,pn===null&&(ar=1,ol(r,Kt(a,r.current)))}function yh(){var r=se.H;return se.H=nl,r===null?nl:r}function bh(){var r=se.A;return se.A=jf,r}function Yc(){ar=4,ka||(bn&4194048)!==bn&&oi.current!==null||(ks=!0),(Pa&134217727)===0&&(ss&134217727)===0||Gn===null||Na(Gn,bn,li,!1)}function Xc(r,a,l){var u=Nn;Nn|=2;var E=yh(),C=bh();(Gn!==r||bn!==a)&&(pl=null,Ns(r,a)),a=!1;var le=ar;e:do try{if(On!==0&&pn!==null){var ge=pn,Ae=Zr;switch(On){case 8:Wc(),le=6;break e;case 3:case 2:case 9:case 6:oi.current===null&&(a=!0);var $e=On;if(On=0,Zr=null,Os(r,ge,Ae,$e),l&&ks){le=0;break e}break;default:$e=On,On=0,Zr=null,Os(r,ge,Ae,$e)}}Ff(),le=ar;break}catch(nt){vh(r,nt)}while(!0);return a&&r.shellSuspendCounter++,Qi=es=null,Nn=u,se.H=E,se.A=C,pn===null&&(Gn=null,bn=0,Xr()),le}function Ff(){for(;pn!==null;)xh(pn)}function Bf(r,a){var l=Nn;Nn|=2;var u=yh(),E=bh();Gn!==r||bn!==a?(pl=null,fl=ze()+500,Ns(r,a)):ks=ct(r,a);e:do try{if(On!==0&&pn!==null){a=pn;var C=Zr;t:switch(On){case 1:On=0,Zr=null,Os(r,a,C,1);break;case 2:case 9:if(Iu(C)){On=0,Zr=null,_h(a);break}a=function(){On!==2&&On!==9||Gn!==r||(On=7),Ni(r)},C.then(a,a);break e;case 3:On=7;break e;case 4:On=5;break e;case 7:Iu(C)?(On=0,Zr=null,_h(a)):(On=0,Zr=null,Os(r,a,C,7));break;case 5:var le=null;switch(pn.tag){case 26:le=pn.memoizedState;case 5:case 27:var ge=pn;if(!le||nf(le)){On=0,Zr=null;var Ae=ge.sibling;if(Ae!==null)pn=Ae;else{var $e=ge.return;$e!==null?(pn=$e,gl($e)):pn=null}break t}}On=0,Zr=null,Os(r,a,C,5);break;case 6:On=0,Zr=null,Os(r,a,C,6);break;case 8:Wc(),ar=6;break e;default:throw Error(i(462))}}Uf();break}catch(nt){vh(r,nt)}while(!0);return Qi=es=null,se.H=u,se.A=E,Nn=l,pn!==null?0:(Gn=null,bn=0,Xr(),ar)}function Uf(){for(;pn!==null&&!Le();)xh(pn)}function xh(r){var a=Wd(r.alternate,r,aa);r.memoizedProps=r.pendingProps,a===null?gl(r):pn=a}function _h(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=zd(l,a,a.pendingProps,a.type,void 0,bn);break;case 11:a=zd(l,a,a.pendingProps,a.type.render,a.ref,bn);break;case 5:uc(a);default:Xd(l,a),a=pn=Eu(a,aa),a=Wd(l,a,aa)}r.memoizedProps=r.pendingProps,a===null?gl(r):pn=a}function Os(r,a,l,u){Qi=es=null,uc(a),As=null,fo=0;var E=a.return;try{if(kf(r,E,a,l,bn)){ar=1,ol(r,Kt(l,r.current)),pn=null;return}}catch(C){if(E!==null)throw pn=E,C;ar=1,ol(r,Kt(l,r.current)),pn=null;return}a.flags&32768?(Tn||u===1?r=!0:ks||(bn&536870912)!==0?r=!1:(ka=r=!0,(u===2||u===9||u===3||u===6)&&(u=oi.current,u!==null&&u.tag===13&&(u.flags|=16384))),Eh(a,r)):gl(a)}function gl(r){var a=r;do{if((a.flags&32768)!==0){Eh(a,ka);return}r=a.return;var l=Mf(a.alternate,a,aa);if(l!==null){pn=l;return}if(a=a.sibling,a!==null){pn=a;return}pn=a=r}while(a!==null);ar===0&&(ar=5)}function Eh(r,a){do{var l=If(r.alternate,r);if(l!==null){l.flags&=32767,pn=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){pn=r;return}pn=r=l}while(r!==null);ar=6,pn=null}function Sh(r,a,l,u,E,C,le,ge,Ae){r.cancelPendingCommit=null;do vl();while(Ar!==0);if((Nn&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(C=a.lanes|a.childLanes,C|=Xn,cr(r,l,C,le,ge,Ae),r===Gn&&(pn=Gn=null,bn=0),Ms=a,Ia=r,Is=l,$c=C,Vc=E,fh=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,$f(Xe,function(){return Ch(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=se.T,se.T=null,E=ee.p,ee.p=2,le=Nn,Nn|=4;try{Nf(r,a,l)}finally{Nn=le,ee.p=E,se.T=u}}Ar=1,wh(),Ah(),Rh()}}function wh(){if(Ar===1){Ar=0;var r=Ia,a=Ms,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=se.T,se.T=null;var u=ee.p;ee.p=2;var E=Nn;Nn|=4;try{sh(a,r);var C=ou,le=Lo(r.containerInfo),ge=C.focusedElem,Ae=C.selectionRange;if(le!==ge&&ge&&ge.ownerDocument&&Do(ge.ownerDocument.documentElement,ge)){if(Ae!==null&&Vs(ge)){var $e=Ae.start,nt=Ae.end;if(nt===void 0&&(nt=$e),"selectionStart"in ge)ge.selectionStart=$e,ge.selectionEnd=Math.min(nt,ge.value.length);else{var ot=ge.ownerDocument||document,Ge=ot&&ot.defaultView||window;if(Ge.getSelection){var We=Ge.getSelection(),Vt=ge.textContent.length,Ht=Math.min(Ae.start,Vt),Un=Ae.end===void 0?Ht:Math.min(Ae.end,Vt);!We.extend&&Ht>Un&&(le=Un,Un=Ht,Ht=le);var Ue=$s(ge,Ht),Ne=$s(ge,Un);if(Ue&&Ne&&(We.rangeCount!==1||We.anchorNode!==Ue.node||We.anchorOffset!==Ue.offset||We.focusNode!==Ne.node||We.focusOffset!==Ne.offset)){var He=ot.createRange();He.setStart(Ue.node,Ue.offset),We.removeAllRanges(),Ht>Un?(We.addRange(He),We.extend(Ne.node,Ne.offset)):(He.setEnd(Ne.node,Ne.offset),We.addRange(He))}}}}for(ot=[],We=ge;We=We.parentNode;)We.nodeType===1&&ot.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof ge.focus=="function"&&ge.focus(),ge=0;ge<ot.length;ge++){var it=ot[ge];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}kl=!!su,ou=su=null}finally{Nn=E,ee.p=u,se.T=l}}r.current=a,Ar=2}}function Ah(){if(Ar===2){Ar=0;var r=Ia,a=Ms,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=se.T,se.T=null;var u=ee.p;ee.p=2;var E=Nn;Nn|=4;try{nh(r,a.alternate,a)}finally{Nn=E,ee.p=u,se.T=l}}Ar=3}}function Rh(){if(Ar===4||Ar===3){Ar=0,qe();var r=Ia,a=Ms,l=Is,u=fh;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ar=5:(Ar=0,Ms=Ia=null,Th(r,r.pendingLanes));var E=r.pendingLanes;if(E===0&&(Ma=null),yr(l),a=a.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(Be,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=se.T,E=ee.p,ee.p=2,se.T=null;try{for(var C=r.onRecoverableError,le=0;le<u.length;le++){var ge=u[le];C(ge.value,{componentStack:ge.stack})}}finally{se.T=a,ee.p=E}}(Is&3)!==0&&vl(),Ni(r),E=r.pendingLanes,(l&4194090)!==0&&(E&42)!==0?r===Gc?Eo++:(Eo=0,Gc=r):Eo=0,So(0)}}function Th(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,to(a)))}function vl(r){return wh(),Ah(),Rh(),Ch()}function Ch(){if(Ar!==5)return!1;var r=Ia,a=$c;$c=0;var l=yr(Is),u=se.T,E=ee.p;try{ee.p=32>l?32:l,se.T=null,l=Vc,Vc=null;var C=Ia,le=Is;if(Ar=0,Ms=Ia=null,Is=0,(Nn&6)!==0)throw Error(i(331));var ge=Nn;if(Nn|=4,dh(C.current),lh(C,C.current,le,l),Nn=ge,So(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(Be,C)}catch{}return!0}finally{ee.p=E,se.T=u,Th(r,a)}}function kh(r,a,l){a=Kt(l,a),a=wc(r.stateNode,a,2),r=Ea(r,a,2),r!==null&&(Vn(r,2),Ni(r))}function $n(r,a,l){if(r.tag===3)kh(r,r,l);else for(;a!==null;){if(a.tag===3){kh(a,r,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ma===null||!Ma.has(u))){r=Kt(l,r),l=Nd(2),u=Ea(a,l,2),u!==null&&(Od(l,u,a,r),Vn(u,2),Ni(u));break}}a=a.return}}function Kc(r,a,l){var u=r.pingCache;if(u===null){u=r.pingCache=new Df;var E=new Set;u.set(a,E)}else E=u.get(a),E===void 0&&(E=new Set,u.set(a,E));E.has(l)||(Uc=!0,E.add(l),r=zf.bind(null,r,a,l),a.then(r,r))}function zf(r,a,l){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Gn===r&&(bn&l)===l&&(ar===4||ar===3&&(bn&62914560)===bn&&300>ze()-Hc?(Nn&2)===0&&Ns(r,0):zc|=l,Ps===bn&&(Ps=0)),Ni(r)}function Ph(r,a){a===0&&(a=Wt()),r=Or(r,a),r!==null&&(Vn(r,a),Ni(r))}function qf(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),Ph(r,l)}function Hf(r,a){var l=0;switch(r.tag){case 13:var u=r.stateNode,E=r.memoizedState;E!==null&&(l=E.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Ph(r,l)}function $f(r,a){return je(r,a)}var yl=null,js=null,Qc=!1,bl=!1,Jc=!1,os=0;function Ni(r){r!==js&&r.next===null&&(js===null?yl=js=r:js=js.next=r),bl=!0,Qc||(Qc=!0,Gf())}function So(r,a){if(!Jc&&bl){Jc=!0;do for(var l=!1,u=yl;u!==null;){if(r!==0){var E=u.pendingLanes;if(E===0)var C=0;else{var le=u.suspendedLanes,ge=u.pingedLanes;C=(1<<31-ht(42|r)+1)-1,C&=E&~(le&~ge),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(l=!0,Oh(u,C))}else C=bn,C=Te(u,u===Gn?C:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(C&3)===0||ct(u,C)||(l=!0,Oh(u,C));u=u.next}while(l);Jc=!1}}function Vf(){Mh()}function Mh(){bl=Qc=!1;var r=0;os!==0&&(ep()&&(r=os),os=0);for(var a=ze(),l=null,u=yl;u!==null;){var E=u.next,C=Ih(u,a);C===0?(u.next=null,l===null?yl=E:l.next=E,E===null&&(js=l)):(l=u,(r!==0||(C&3)!==0)&&(bl=!0)),u=E}So(r)}function Ih(r,a){for(var l=r.suspendedLanes,u=r.pingedLanes,E=r.expirationTimes,C=r.pendingLanes&-62914561;0<C;){var le=31-ht(C),ge=1<<le,Ae=E[le];Ae===-1?((ge&l)===0||(ge&u)!==0)&&(E[le]=zt(ge,a)):Ae<=a&&(r.expiredLanes|=ge),C&=~ge}if(a=Gn,l=bn,l=Te(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===a&&(On===2||On===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Je(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||ct(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(u!==null&&Je(u),yr(l)){case 2:case 8:l=tt;break;case 32:l=Xe;break;case 268435456:l=pt;break;default:l=Xe}return u=Nh.bind(null,r),l=je(l,u),r.callbackPriority=a,r.callbackNode=l,a}return u!==null&&u!==null&&Je(u),r.callbackPriority=2,r.callbackNode=null,2}function Nh(r,a){if(Ar!==0&&Ar!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(vl()&&r.callbackNode!==l)return null;var u=bn;return u=Te(r,r===Gn?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(mh(r,u,a),Ih(r,ze()),r.callbackNode!=null&&r.callbackNode===l?Nh.bind(null,r):null)}function Oh(r,a){if(vl())return null;mh(r,a,!0)}function Gf(){np(function(){(Nn&6)!==0?je(De,Vf):Mh()})}function Zc(){return os===0&&(os=It()),os}function jh(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:$i(""+r)}function Dh(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function Wf(r,a,l,u,E){if(a==="submit"&&l&&l.stateNode===E){var C=jh((E[jn]||null).action),le=u.submitter;le&&(a=(a=le[jn]||null)?jh(a.formAction):le.getAttribute("formAction"),a!==null&&(C=a,le=null));var ge=new Ie("action","action",null,u,E);r.push({event:ge,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(os!==0){var Ae=le?Dh(E,le):new FormData(E);bc(l,{pending:!0,data:Ae,method:E.method,action:C},null,Ae)}}else typeof C=="function"&&(ge.preventDefault(),Ae=le?Dh(E,le):new FormData(E),bc(l,{pending:!0,data:Ae,method:E.method,action:C},C,Ae))},currentTarget:E}]})}}for(var eu=0;eu<lt.length;eu++){var tu=lt[eu],Yf=tu.toLowerCase(),Xf=tu[0].toUpperCase()+tu.slice(1);Nt(Yf,"on"+Xf)}Nt(ps,"onAnimationEnd"),Nt(gs,"onAnimationIteration"),Nt(Ys,"onAnimationStart"),Nt("dblclick","onDoubleClick"),Nt("focusin","onFocus"),Nt("focusout","onBlur"),Nt(Bl,"onTransitionRun"),Nt(Xs,"onTransitionStart"),Nt(Ul,"onTransitionCancel"),Nt(Bo,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wo));function Lh(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],E=u.event;u=u.listeners;e:{var C=void 0;if(a)for(var le=u.length-1;0<=le;le--){var ge=u[le],Ae=ge.instance,$e=ge.currentTarget;if(ge=ge.listener,Ae!==C&&E.isPropagationStopped())break e;C=ge,E.currentTarget=$e;try{C(E)}catch(nt){sl(nt)}E.currentTarget=null,C=Ae}else for(le=0;le<u.length;le++){if(ge=u[le],Ae=ge.instance,$e=ge.currentTarget,ge=ge.listener,Ae!==C&&E.isPropagationStopped())break e;C=ge,E.currentTarget=$e;try{C(E)}catch(nt){sl(nt)}E.currentTarget=null,C=Ae}}}}function mn(r,a){var l=a[Jn];l===void 0&&(l=a[Jn]=new Set);var u=r+"__bubble";l.has(u)||(Fh(a,r,2,!1),l.add(u))}function nu(r,a,l){var u=0;a&&(u|=4),Fh(l,r,u,a)}var xl="_reactListening"+Math.random().toString(36).slice(2);function ru(r){if(!r[xl]){r[xl]=!0,Ua.forEach(function(l){l!=="selectionchange"&&(Kf.has(l)||nu(l,!1,r),nu(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[xl]||(a[xl]=!0,nu("selectionchange",!1,a))}}function Fh(r,a,l,u){switch(cf(a)){case 2:var E=Sp;break;case 8:E=wp;break;default:E=vu}l=E.bind(null,a,l,r),E=void 0,!Lr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(E=!0),u?E!==void 0?r.addEventListener(a,l,{capture:!0,passive:E}):r.addEventListener(a,l,!0):E!==void 0?r.addEventListener(a,l,{passive:E}):r.addEventListener(a,l,!1)}function iu(r,a,l,u,E){var C=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var le=u.tag;if(le===3||le===4){var ge=u.stateNode.containerInfo;if(ge===E)break;if(le===4)for(le=u.return;le!==null;){var Ae=le.tag;if((Ae===3||Ae===4)&&le.stateNode.containerInfo===E)return;le=le.return}for(;ge!==null;){if(le=_i(ge),le===null)return;if(Ae=le.tag,Ae===5||Ae===6||Ae===26||Ae===27){u=C=le;continue e}ge=ge.parentNode}}u=u.return}fa(function(){var $e=C,nt=Sr(l),ot=[];e:{var Ge=Ks.get(r);if(Ge!==void 0){var We=Ie,Vt=r;switch(r){case"keypress":if(Re(l)===0)break e;case"keydown":case"keyup":We=Pn;break;case"focusin":Vt="focus",We=yt;break;case"focusout":Vt="blur",We=yt;break;case"beforeblur":case"afterblur":We=yt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=jt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=At;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=Cr;break;case ps:case gs:case Ys:We=Ct;break;case Bo:We=mr;break;case"scroll":case"scrollend":We=Qe;break;case"wheel":We=_t;break;case"copy":case"cut":case"paste":We=Qt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=tr;break;case"toggle":case"beforetoggle":We=bt}var Ht=(a&4)!==0,Un=!Ht&&(r==="scroll"||r==="scrollend"),Ue=Ht?Ge!==null?Ge+"Capture":null:Ge;Ht=[];for(var Ne=$e,He;Ne!==null;){var it=Ne;if(He=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||He===null||Ue===null||(it=Vi(Ne,Ue),it!=null&&Ht.push(Ao(Ne,it,He))),Un)break;Ne=Ne.return}0<Ht.length&&(Ge=new We(Ge,Vt,null,l,nt),ot.push({event:Ge,listeners:Ht}))}}if((a&7)===0){e:{if(Ge=r==="mouseover"||r==="pointerover",We=r==="mouseout"||r==="pointerout",Ge&&l!==pi&&(Vt=l.relatedTarget||l.fromElement)&&(_i(Vt)||Vt[rr]))break e;if((We||Ge)&&(Ge=nt.window===nt?nt:(Ge=nt.ownerDocument)?Ge.defaultView||Ge.parentWindow:window,We?(Vt=l.relatedTarget||l.toElement,We=$e,Vt=Vt?_i(Vt):null,Vt!==null&&(Un=o(Vt),Ht=Vt.tag,Vt!==Un||Ht!==5&&Ht!==27&&Ht!==6)&&(Vt=null)):(We=null,Vt=$e),We!==Vt)){if(Ht=jt,it="onMouseLeave",Ue="onMouseEnter",Ne="mouse",(r==="pointerout"||r==="pointerover")&&(Ht=tr,it="onPointerLeave",Ue="onPointerEnter",Ne="pointer"),Un=We==null?Ge:ri(We),He=Vt==null?Ge:ri(Vt),Ge=new Ht(it,Ne+"leave",We,l,nt),Ge.target=Un,Ge.relatedTarget=He,it=null,_i(nt)===$e&&(Ht=new Ht(Ue,Ne+"enter",Vt,l,nt),Ht.target=He,Ht.relatedTarget=Un,it=Ht),Un=it,We&&Vt)t:{for(Ht=We,Ue=Vt,Ne=0,He=Ht;He;He=Ds(He))Ne++;for(He=0,it=Ue;it;it=Ds(it))He++;for(;0<Ne-He;)Ht=Ds(Ht),Ne--;for(;0<He-Ne;)Ue=Ds(Ue),He--;for(;Ne--;){if(Ht===Ue||Ue!==null&&Ht===Ue.alternate)break t;Ht=Ds(Ht),Ue=Ds(Ue)}Ht=null}else Ht=null;We!==null&&Bh(ot,Ge,We,Ht,!1),Vt!==null&&Un!==null&&Bh(ot,Un,Vt,Ht,!0)}}e:{if(Ge=$e?ri($e):window,We=Ge.nodeName&&Ge.nodeName.toLowerCase(),We==="select"||We==="input"&&Ge.type==="file")var kt=Gi;else if(Ln(Ge))if($a)kt=Ri;else{kt=Rn;var fn=Dl}else We=Ge.nodeName,!We||We.toLowerCase()!=="input"||Ge.type!=="checkbox"&&Ge.type!=="radio"?$e&&Ha($e.elementType)&&(kt=Gi):kt=Ll;if(kt&&(kt=kt(r,$e))){Jt(ot,kt,l,nt);break e}fn&&fn(r,Ge,$e),r==="focusout"&&$e&&Ge.type==="number"&&$e.memoizedProps.value!=null&&Si(Ge,"number",Ge.value)}switch(fn=$e?ri($e):window,r){case"focusin":(Ln(fn)||fn.contentEditable==="true")&&(pa=fn,fs=$e,ma=null);break;case"focusout":ma=fs=pa=null;break;case"mousedown":Ga=!0;break;case"contextmenu":case"mouseup":case"dragend":Ga=!1,Gs(ot,l,nt);break;case"selectionchange":if(Ti)break;case"keydown":case"keyup":Gs(ot,l,nt)}var Ft;if(g)e:{switch(r){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else Bt?Ze(r,l)&&($t="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&($t="onCompositionStart");$t&&(pe&&l.locale!=="ko"&&(Bt||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&Bt&&(Ft=we()):(fe=nt,be="value"in fe?fe.value:fe.textContent,Bt=!0)),fn=_l($e,$t),0<fn.length&&($t=new cn($t,r,null,l,nt),ot.push({event:$t,listeners:fn}),Ft?$t.data=Ft:(Ft=Lt(l),Ft!==null&&($t.data=Ft)))),(Ft=ie?qt(r,l):wn(r,l))&&($t=_l($e,"onBeforeInput"),0<$t.length&&(fn=new cn("onBeforeInput","beforeinput",null,l,nt),ot.push({event:fn,listeners:$t}),fn.data=Ft)),Wf(ot,r,$e,l,nt)}Lh(ot,a)})}function Ao(r,a,l){return{instance:r,listener:a,currentTarget:l}}function _l(r,a){for(var l=a+"Capture",u=[];r!==null;){var E=r,C=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||C===null||(E=Vi(r,l),E!=null&&u.unshift(Ao(r,E,C)),E=Vi(r,a),E!=null&&u.push(Ao(r,E,C))),r.tag===3)return u;r=r.return}return[]}function Ds(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Bh(r,a,l,u,E){for(var C=a._reactName,le=[];l!==null&&l!==u;){var ge=l,Ae=ge.alternate,$e=ge.stateNode;if(ge=ge.tag,Ae!==null&&Ae===u)break;ge!==5&&ge!==26&&ge!==27||$e===null||(Ae=$e,E?($e=Vi(l,C),$e!=null&&le.unshift(Ao(l,$e,Ae))):E||($e=Vi(l,C),$e!=null&&le.push(Ao(l,$e,Ae)))),l=l.return}le.length!==0&&r.push({event:a,listeners:le})}var Qf=/\r\n?/g,Jf=/\u0000|\uFFFD/g;function Uh(r){return(typeof r=="string"?r:""+r).replace(Qf,`
`).replace(Jf,"")}function zh(r,a){return a=Uh(a),Uh(r)===a}function El(){}function Bn(r,a,l,u,E,C){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Ir(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Ir(r,""+u);break;case"className":ii(r,"class",u);break;case"tabIndex":ii(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(r,l,u);break;case"style":qa(r,u,C);break;case"data":if(a!=="object"){ii(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=$i(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(l==="formAction"?(a!=="input"&&Bn(r,a,"name",E.name,E,null),Bn(r,a,"formEncType",E.formEncType,E,null),Bn(r,a,"formMethod",E.formMethod,E,null),Bn(r,a,"formTarget",E.formTarget,E,null)):(Bn(r,a,"encType",E.encType,E,null),Bn(r,a,"method",E.method,E,null),Bn(r,a,"target",E.target,E,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=$i(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=El);break;case"onScroll":u!=null&&mn("scroll",r);break;case"onScrollEnd":u!=null&&mn("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(E.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=$i(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":mn("beforetoggle",r),mn("toggle",r),Ei(r,"popover",u);break;case"xlinkActuate":pr(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":pr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":pr(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":pr(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":pr(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":pr(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":pr(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":pr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":pr(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ei(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ai.get(l)||l,Ei(r,l,u))}}function au(r,a,l,u,E,C){switch(l){case"style":qa(r,u,C);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(E.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof u=="string"?Ir(r,u):(typeof u=="number"||typeof u=="bigint")&&Ir(r,""+u);break;case"onScroll":u!=null&&mn("scroll",r);break;case"onScrollEnd":u!=null&&mn("scrollend",r);break;case"onClick":u!=null&&(r.onclick=El);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oa.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(E=l.endsWith("Capture"),a=l.slice(2,E?l.length-7:void 0),C=r[jn]||null,C=C!=null?C[l]:null,typeof C=="function"&&r.removeEventListener(a,C,E),typeof u=="function")){typeof C!="function"&&C!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,u,E);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):Ei(r,l,u)}}}function Rr(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mn("error",r),mn("load",r);var u=!1,E=!1,C;for(C in l)if(l.hasOwnProperty(C)){var le=l[C];if(le!=null)switch(C){case"src":u=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Bn(r,a,C,le,l,null)}}E&&Bn(r,a,"srcSet",l.srcSet,l,null),u&&Bn(r,a,"src",l.src,l,null);return;case"input":mn("invalid",r);var ge=C=le=E=null,Ae=null,$e=null;for(u in l)if(l.hasOwnProperty(u)){var nt=l[u];if(nt!=null)switch(u){case"name":E=nt;break;case"type":le=nt;break;case"checked":Ae=nt;break;case"defaultChecked":$e=nt;break;case"value":C=nt;break;case"defaultValue":ge=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,a));break;default:Bn(r,a,u,nt,l,null)}}qi(r,C,ge,Ae,$e,le,E,!1),ua(r);return;case"select":mn("invalid",r),u=le=C=null;for(E in l)if(l.hasOwnProperty(E)&&(ge=l[E],ge!=null))switch(E){case"value":C=ge;break;case"defaultValue":le=ge;break;case"multiple":u=ge;default:Bn(r,a,E,ge,l,null)}a=C,l=le,r.multiple=!!u,a!=null?$r(r,!!u,a,!1):l!=null&&$r(r,!!u,l,!0);return;case"textarea":mn("invalid",r),C=E=u=null;for(le in l)if(l.hasOwnProperty(le)&&(ge=l[le],ge!=null))switch(le){case"value":u=ge;break;case"defaultValue":E=ge;break;case"children":C=ge;break;case"dangerouslySetInnerHTML":if(ge!=null)throw Error(i(91));break;default:Bn(r,a,le,ge,l,null)}wi(r,u,E,C),ua(r);return;case"option":for(Ae in l)if(l.hasOwnProperty(Ae)&&(u=l[Ae],u!=null))switch(Ae){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Bn(r,a,Ae,u,l,null)}return;case"dialog":mn("beforetoggle",r),mn("toggle",r),mn("cancel",r),mn("close",r);break;case"iframe":case"object":mn("load",r);break;case"video":case"audio":for(u=0;u<wo.length;u++)mn(wo[u],r);break;case"image":mn("error",r),mn("load",r);break;case"details":mn("toggle",r);break;case"embed":case"source":case"link":mn("error",r),mn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($e in l)if(l.hasOwnProperty($e)&&(u=l[$e],u!=null))switch($e){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Bn(r,a,$e,u,l,null)}return;default:if(Ha(a)){for(nt in l)l.hasOwnProperty(nt)&&(u=l[nt],u!==void 0&&au(r,a,nt,u,l,void 0));return}}for(ge in l)l.hasOwnProperty(ge)&&(u=l[ge],u!=null&&Bn(r,a,ge,u,l,null))}function Zf(r,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,C=null,le=null,ge=null,Ae=null,$e=null,nt=null;for(We in l){var ot=l[We];if(l.hasOwnProperty(We)&&ot!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":Ae=ot;default:u.hasOwnProperty(We)||Bn(r,a,We,null,u,ot)}}for(var Ge in u){var We=u[Ge];if(ot=l[Ge],u.hasOwnProperty(Ge)&&(We!=null||ot!=null))switch(Ge){case"type":C=We;break;case"name":E=We;break;case"checked":$e=We;break;case"defaultChecked":nt=We;break;case"value":le=We;break;case"defaultValue":ge=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(i(137,a));break;default:We!==ot&&Bn(r,a,Ge,We,u,ot)}}Tr(r,le,ge,Ae,$e,nt,C,E);return;case"select":We=le=ge=Ge=null;for(C in l)if(Ae=l[C],l.hasOwnProperty(C)&&Ae!=null)switch(C){case"value":break;case"multiple":We=Ae;default:u.hasOwnProperty(C)||Bn(r,a,C,null,u,Ae)}for(E in u)if(C=u[E],Ae=l[E],u.hasOwnProperty(E)&&(C!=null||Ae!=null))switch(E){case"value":Ge=C;break;case"defaultValue":ge=C;break;case"multiple":le=C;default:C!==Ae&&Bn(r,a,E,C,u,Ae)}a=ge,l=le,u=We,Ge!=null?$r(r,!!l,Ge,!1):!!u!=!!l&&(a!=null?$r(r,!!l,a,!0):$r(r,!!l,l?[]:"",!1));return;case"textarea":We=Ge=null;for(ge in l)if(E=l[ge],l.hasOwnProperty(ge)&&E!=null&&!u.hasOwnProperty(ge))switch(ge){case"value":break;case"children":break;default:Bn(r,a,ge,null,u,E)}for(le in u)if(E=u[le],C=l[le],u.hasOwnProperty(le)&&(E!=null||C!=null))switch(le){case"value":Ge=E;break;case"defaultValue":We=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:E!==C&&Bn(r,a,le,E,u,C)}kn(r,Ge,We);return;case"option":for(var Vt in l)if(Ge=l[Vt],l.hasOwnProperty(Vt)&&Ge!=null&&!u.hasOwnProperty(Vt))switch(Vt){case"selected":r.selected=!1;break;default:Bn(r,a,Vt,null,u,Ge)}for(Ae in u)if(Ge=u[Ae],We=l[Ae],u.hasOwnProperty(Ae)&&Ge!==We&&(Ge!=null||We!=null))switch(Ae){case"selected":r.selected=Ge&&typeof Ge!="function"&&typeof Ge!="symbol";break;default:Bn(r,a,Ae,Ge,u,We)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ht in l)Ge=l[Ht],l.hasOwnProperty(Ht)&&Ge!=null&&!u.hasOwnProperty(Ht)&&Bn(r,a,Ht,null,u,Ge);for($e in u)if(Ge=u[$e],We=l[$e],u.hasOwnProperty($e)&&Ge!==We&&(Ge!=null||We!=null))switch($e){case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(i(137,a));break;default:Bn(r,a,$e,Ge,u,We)}return;default:if(Ha(a)){for(var Un in l)Ge=l[Un],l.hasOwnProperty(Un)&&Ge!==void 0&&!u.hasOwnProperty(Un)&&au(r,a,Un,void 0,u,Ge);for(nt in u)Ge=u[nt],We=l[nt],!u.hasOwnProperty(nt)||Ge===We||Ge===void 0&&We===void 0||au(r,a,nt,Ge,u,We);return}}for(var Ue in l)Ge=l[Ue],l.hasOwnProperty(Ue)&&Ge!=null&&!u.hasOwnProperty(Ue)&&Bn(r,a,Ue,null,u,Ge);for(ot in u)Ge=u[ot],We=l[ot],!u.hasOwnProperty(ot)||Ge===We||Ge==null&&We==null||Bn(r,a,ot,Ge,u,We)}var su=null,ou=null;function Sl(r){return r.nodeType===9?r:r.ownerDocument}function qh(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hh(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function lu(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cu=null;function ep(){var r=window.event;return r&&r.type==="popstate"?r===cu?!1:(cu=r,!0):(cu=null,!1)}var $h=typeof setTimeout=="function"?setTimeout:void 0,tp=typeof clearTimeout=="function"?clearTimeout:void 0,Vh=typeof Promise=="function"?Promise:void 0,np=typeof queueMicrotask=="function"?queueMicrotask:typeof Vh<"u"?function(r){return Vh.resolve(null).then(r).catch(rp)}:$h;function rp(r){setTimeout(function(){throw r})}function Oa(r){return r==="head"}function Gh(r,a){var l=a,u=0,E=0;do{var C=l.nextSibling;if(r.removeChild(l),C&&C.nodeType===8)if(l=C.data,l==="/$"){if(0<u&&8>u){l=u;var le=r.ownerDocument;if(l&1&&Ro(le.documentElement),l&2&&Ro(le.body),l&4)for(l=le.head,Ro(l),le=l.firstChild;le;){var ge=le.nextSibling,Ae=le.nodeName;le[Oi]||Ae==="SCRIPT"||Ae==="STYLE"||Ae==="LINK"&&le.rel.toLowerCase()==="stylesheet"||l.removeChild(le),le=ge}}if(E===0){r.removeChild(C),Oo(a);return}E--}else l==="$"||l==="$?"||l==="$!"?E++:u=l.charCodeAt(0)-48;else u=0;l=C}while(l);Oo(a)}function uu(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":uu(l),ji(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function ip(r,a,l,u){for(;r.nodeType===1;){var E=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Oi])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(C=r.getAttribute("rel"),C==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(C!==E.rel||r.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||r.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||r.getAttribute("title")!==(E.title==null?null:E.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(C=r.getAttribute("src"),(C!==(E.src==null?null:E.src)||r.getAttribute("type")!==(E.type==null?null:E.type)||r.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&C&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var C=E.name==null?null:""+E.name;if(E.type==="hidden"&&r.getAttribute("name")===C)return r}else return r;if(r=xi(r.nextSibling),r===null)break}return null}function ap(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=xi(r.nextSibling),r===null))return null;return r}function du(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function sp(r,a){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function xi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var hu=null;function Wh(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}function Yh(r,a,l){switch(a=Sl(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Ro(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);ji(r)}var ci=new Map,Xh=new Set;function wl(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var sa=ee.d;ee.d={f:op,r:lp,D:cp,C:up,L:dp,m:hp,X:pp,S:fp,M:mp};function op(){var r=sa.f(),a=ml();return r||a}function lp(r){var a=ni(r);a!==null&&a.tag===5&&a.type==="form"?md(a):sa.r(r)}var Ls=typeof document>"u"?null:document;function Kh(r,a,l){var u=Ls;if(u&&typeof a=="string"&&a){var E=er(a);E='link[rel="'+r+'"][href="'+E+'"]',typeof l=="string"&&(E+='[crossorigin="'+l+'"]'),Xh.has(E)||(Xh.add(E),r={rel:r,crossOrigin:l,href:a},u.querySelector(E)===null&&(a=u.createElement("link"),Rr(a,"link",r),Zn(a),u.head.appendChild(a)))}}function cp(r){sa.D(r),Kh("dns-prefetch",r,null)}function up(r,a){sa.C(r,a),Kh("preconnect",r,a)}function dp(r,a,l){sa.L(r,a,l);var u=Ls;if(u&&r&&a){var E='link[rel="preload"][as="'+er(a)+'"]';a==="image"&&l&&l.imageSrcSet?(E+='[imagesrcset="'+er(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(E+='[imagesizes="'+er(l.imageSizes)+'"]')):E+='[href="'+er(r)+'"]';var C=E;switch(a){case"style":C=Fs(r);break;case"script":C=Bs(r)}ci.has(C)||(r=d({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),ci.set(C,r),u.querySelector(E)!==null||a==="style"&&u.querySelector(To(C))||a==="script"&&u.querySelector(Co(C))||(a=u.createElement("link"),Rr(a,"link",r),Zn(a),u.head.appendChild(a)))}}function hp(r,a){sa.m(r,a);var l=Ls;if(l&&r){var u=a&&typeof a.as=="string"?a.as:"script",E='link[rel="modulepreload"][as="'+er(u)+'"][href="'+er(r)+'"]',C=E;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Bs(r)}if(!ci.has(C)&&(r=d({rel:"modulepreload",href:r},a),ci.set(C,r),l.querySelector(E)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Co(C)))return}u=l.createElement("link"),Rr(u,"link",r),Zn(u),l.head.appendChild(u)}}}function fp(r,a,l){sa.S(r,a,l);var u=Ls;if(u&&r){var E=Er(u).hoistableStyles,C=Fs(r);a=a||"default";var le=E.get(C);if(!le){var ge={loading:0,preload:null};if(le=u.querySelector(To(C)))ge.loading=5;else{r=d({rel:"stylesheet",href:r,"data-precedence":a},l),(l=ci.get(C))&&fu(r,l);var Ae=le=u.createElement("link");Zn(Ae),Rr(Ae,"link",r),Ae._p=new Promise(function($e,nt){Ae.onload=$e,Ae.onerror=nt}),Ae.addEventListener("load",function(){ge.loading|=1}),Ae.addEventListener("error",function(){ge.loading|=2}),ge.loading|=4,Al(le,a,u)}le={type:"stylesheet",instance:le,count:1,state:ge},E.set(C,le)}}}function pp(r,a){sa.X(r,a);var l=Ls;if(l&&r){var u=Er(l).hoistableScripts,E=Bs(r),C=u.get(E);C||(C=l.querySelector(Co(E)),C||(r=d({src:r,async:!0},a),(a=ci.get(E))&&pu(r,a),C=l.createElement("script"),Zn(C),Rr(C,"link",r),l.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},u.set(E,C))}}function mp(r,a){sa.M(r,a);var l=Ls;if(l&&r){var u=Er(l).hoistableScripts,E=Bs(r),C=u.get(E);C||(C=l.querySelector(Co(E)),C||(r=d({src:r,async:!0,type:"module"},a),(a=ci.get(E))&&pu(r,a),C=l.createElement("script"),Zn(C),Rr(C,"link",r),l.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},u.set(E,C))}}function Qh(r,a,l,u){var E=(E=H.current)?wl(E):null;if(!E)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Fs(l.href),l=Er(E).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Fs(l.href);var C=Er(E).hoistableStyles,le=C.get(r);if(le||(E=E.ownerDocument||E,le={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(r,le),(C=E.querySelector(To(r)))&&!C._p&&(le.instance=C,le.state.loading=5),ci.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ci.set(r,l),C||gp(E,r,l,le.state))),a&&u===null)throw Error(i(528,""));return le}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Bs(l),l=Er(E).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Fs(r){return'href="'+er(r)+'"'}function To(r){return'link[rel="stylesheet"]['+r+"]"}function Jh(r){return d({},r,{"data-precedence":r.precedence,precedence:null})}function gp(r,a,l,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Rr(a,"link",l),Zn(a),r.head.appendChild(a))}function Bs(r){return'[src="'+er(r)+'"]'}function Co(r){return"script[async]"+r}function Zh(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+er(l.href)+'"]');if(u)return a.instance=u,Zn(u),u;var E=d({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Zn(u),Rr(u,"style",E),Al(u,l.precedence,r),a.instance=u;case"stylesheet":E=Fs(l.href);var C=r.querySelector(To(E));if(C)return a.state.loading|=4,a.instance=C,Zn(C),C;u=Jh(l),(E=ci.get(E))&&fu(u,E),C=(r.ownerDocument||r).createElement("link"),Zn(C);var le=C;return le._p=new Promise(function(ge,Ae){le.onload=ge,le.onerror=Ae}),Rr(C,"link",u),a.state.loading|=4,Al(C,l.precedence,r),a.instance=C;case"script":return C=Bs(l.src),(E=r.querySelector(Co(C)))?(a.instance=E,Zn(E),E):(u=l,(E=ci.get(C))&&(u=d({},l),pu(u,E)),r=r.ownerDocument||r,E=r.createElement("script"),Zn(E),Rr(E,"link",u),r.head.appendChild(E),a.instance=E);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Al(u,l.precedence,r));return a.instance}function Al(r,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=u.length?u[u.length-1]:null,C=E,le=0;le<u.length;le++){var ge=u[le];if(ge.dataset.precedence===a)C=ge;else if(C!==E)break}C?C.parentNode.insertBefore(r,C.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function fu(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function pu(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Rl=null;function ef(r,a,l){if(Rl===null){var u=new Map,E=Rl=new Map;E.set(l,u)}else E=Rl,u=E.get(l),u||(u=new Map,E.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),E=0;E<l.length;E++){var C=l[E];if(!(C[Oi]||C[zn]||r==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var le=C.getAttribute(a)||"";le=r+le;var ge=u.get(le);ge?ge.push(C):u.set(le,[C])}}return u}function tf(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function vp(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function nf(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ko=null;function yp(){}function bp(r,a,l){if(ko===null)throw Error(i(475));var u=ko;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var E=Fs(l.href),C=r.querySelector(To(E));if(C){r=C._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Tl.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=C,Zn(C);return}C=r.ownerDocument||r,l=Jh(l),(E=ci.get(E))&&fu(l,E),C=C.createElement("link"),Zn(C);var le=C;le._p=new Promise(function(ge,Ae){le.onload=ge,le.onerror=Ae}),Rr(C,"link",l),a.instance=C}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Tl.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function xp(){if(ko===null)throw Error(i(475));var r=ko;return r.stylesheets&&r.count===0&&mu(r,r.stylesheets),0<r.count?function(a){var l=setTimeout(function(){if(r.stylesheets&&mu(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(l)}}:null}function Tl(){if(this.count--,this.count===0){if(this.stylesheets)mu(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Cl=null;function mu(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Cl=new Map,a.forEach(_p,r),Cl=null,Tl.call(r))}function _p(r,a){if(!(a.state.loading&4)){var l=Cl.get(r);if(l)var u=l.get(null);else{l=new Map,Cl.set(r,l);for(var E=r.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<E.length;C++){var le=E[C];(le.nodeName==="LINK"||le.getAttribute("media")!=="not all")&&(l.set(le.dataset.precedence,le),u=le)}u&&l.set(null,u)}E=a.instance,le=E.getAttribute("data-precedence"),C=l.get(le)||u,C===u&&l.set(null,E),l.set(le,E),this.count++,u=Tl.bind(this),E.addEventListener("load",u),E.addEventListener("error",u),C?C.parentNode.insertBefore(E,C.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(E,r.firstChild)),a.state.loading|=4}}var Po={$$typeof:Z,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Ep(r,a,l,u,E,C,le,ge){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=u,this.onUncaughtError=E,this.onCaughtError=C,this.onRecoverableError=le,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function rf(r,a,l,u,E,C,le,ge,Ae,$e,nt,ot){return r=new Ep(r,a,l,le,ge,Ae,$e,ot),a=1,C===!0&&(a|=24),C=Kr(3,null,null,a),r.current=C,C.stateNode=r,a=Kl(),a.refCount++,r.pooledCache=a,a.refCount++,C.memoizedState={element:u,isDehydrated:l,cache:a},ec(C),r}function af(r){return r?(r=yi,r):yi}function sf(r,a,l,u,E,C){E=af(E),u.context===null?u.context=E:u.pendingContext=E,u=_a(a),u.payload={element:l},C=C===void 0?null:C,C!==null&&(u.callback=C),l=Ea(r,u,a),l!==null&&(ti(l,r,a),ao(l,r,a))}function of(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function gu(r,a){of(r,a),(r=r.alternate)&&of(r,a)}function lf(r){if(r.tag===13){var a=Or(r,67108864);a!==null&&ti(a,r,67108864),gu(r,67108864)}}var kl=!0;function Sp(r,a,l,u){var E=se.T;se.T=null;var C=ee.p;try{ee.p=2,vu(r,a,l,u)}finally{ee.p=C,se.T=E}}function wp(r,a,l,u){var E=se.T;se.T=null;var C=ee.p;try{ee.p=8,vu(r,a,l,u)}finally{ee.p=C,se.T=E}}function vu(r,a,l,u){if(kl){var E=yu(u);if(E===null)iu(r,a,u,Pl,l),uf(r,u);else if(Rp(E,r,a,l,u))u.stopPropagation();else if(uf(r,u),a&4&&-1<Ap.indexOf(r)){for(;E!==null;){var C=ni(E);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var le=Pe(C.pendingLanes);if(le!==0){var ge=C;for(ge.pendingLanes|=2,ge.entangledLanes|=2;le;){var Ae=1<<31-ht(le);ge.entanglements[1]|=Ae,le&=~Ae}Ni(C),(Nn&6)===0&&(fl=ze()+500,So(0))}}break;case 13:ge=Or(C,2),ge!==null&&ti(ge,C,2),ml(),gu(C,2)}if(C=yu(u),C===null&&iu(r,a,u,Pl,l),C===E)break;E=C}E!==null&&u.stopPropagation()}else iu(r,a,u,null,l)}}function yu(r){return r=Sr(r),bu(r)}var Pl=null;function bu(r){if(Pl=null,r=_i(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=c(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Pl=r,null}function cf(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ke()){case De:return 2;case tt:return 8;case Xe:case rt:return 32;case pt:return 268435456;default:return 32}default:return 32}}var xu=!1,ja=null,Da=null,La=null,Mo=new Map,Io=new Map,Fa=[],Ap="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uf(r,a){switch(r){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":Mo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(a.pointerId)}}function No(r,a,l,u,E,C){return r===null||r.nativeEvent!==C?(r={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:C,targetContainers:[E]},a!==null&&(a=ni(a),a!==null&&lf(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,E!==null&&a.indexOf(E)===-1&&a.push(E),r)}function Rp(r,a,l,u,E){switch(a){case"focusin":return ja=No(ja,r,a,l,u,E),!0;case"dragenter":return Da=No(Da,r,a,l,u,E),!0;case"mouseover":return La=No(La,r,a,l,u,E),!0;case"pointerover":var C=E.pointerId;return Mo.set(C,No(Mo.get(C)||null,r,a,l,u,E)),!0;case"gotpointercapture":return C=E.pointerId,Io.set(C,No(Io.get(C)||null,r,a,l,u,E)),!0}return!1}function df(r){var a=_i(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){r.blockedOn=a,Mr(r.priority,function(){if(l.tag===13){var u=ei();u=Qn(u);var E=Or(l,u);E!==null&&ti(E,l,u),gu(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ml(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=yu(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);pi=u,l.target.dispatchEvent(u),pi=null}else return a=ni(l),a!==null&&lf(a),r.blockedOn=l,!1;a.shift()}return!0}function hf(r,a,l){Ml(r)&&l.delete(a)}function Tp(){xu=!1,ja!==null&&Ml(ja)&&(ja=null),Da!==null&&Ml(Da)&&(Da=null),La!==null&&Ml(La)&&(La=null),Mo.forEach(hf),Io.forEach(hf)}function Il(r,a){r.blockedOn===a&&(r.blockedOn=null,xu||(xu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Tp)))}var Nl=null;function ff(r){Nl!==r&&(Nl=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Nl===r&&(Nl=null);for(var a=0;a<r.length;a+=3){var l=r[a],u=r[a+1],E=r[a+2];if(typeof u!="function"){if(bu(u||l)===null)continue;break}var C=ni(l);C!==null&&(r.splice(a,3),a-=3,bc(C,{pending:!0,data:E,method:l.method,action:u},u,E))}}))}function Oo(r){function a(Ae){return Il(Ae,r)}ja!==null&&Il(ja,r),Da!==null&&Il(Da,r),La!==null&&Il(La,r),Mo.forEach(a),Io.forEach(a);for(var l=0;l<Fa.length;l++){var u=Fa[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Fa.length&&(l=Fa[0],l.blockedOn===null);)df(l),l.blockedOn===null&&Fa.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var E=l[u],C=l[u+1],le=E[jn]||null;if(typeof C=="function")le||ff(l);else if(le){var ge=null;if(C&&C.hasAttribute("formAction")){if(E=C,le=C[jn]||null)ge=le.formAction;else if(bu(E)!==null)continue}else ge=le.action;typeof ge=="function"?l[u+1]=ge:(l.splice(u,3),u-=3),ff(l)}}}function _u(r){this._internalRoot=r}Ol.prototype.render=_u.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=ei();sf(l,u,r,a,null,null)},Ol.prototype.unmount=_u.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;sf(r.current,2,null,r,null,null),ml(),a[rr]=null}};function Ol(r){this._internalRoot=r}Ol.prototype.unstable_scheduleHydration=function(r){if(r){var a=yn();r={blockedOn:null,target:r,priority:a};for(var l=0;l<Fa.length&&a!==0&&a<Fa[l].priority;l++);Fa.splice(l,0,r),l===0&&df(r)}};var pf=e.version;if(pf!=="19.1.0")throw Error(i(527,pf,"19.1.0"));ee.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=_(a),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var Cp={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{Be=jl.inject(Cp),Ve=jl}catch{}}return reactDomClient_production.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,u="",E=kd,C=Pd,le=Md,ge=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(E=a.onUncaughtError),a.onCaughtError!==void 0&&(C=a.onCaughtError),a.onRecoverableError!==void 0&&(le=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(ge=a.unstable_transitionCallbacks)),a=rf(r,1,!1,null,null,l,u,E,C,le,ge,null),r[rr]=a.current,ru(r),new _u(a)},reactDomClient_production.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var u=!1,E="",C=kd,le=Pd,ge=Md,Ae=null,$e=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(E=l.identifierPrefix),l.onUncaughtError!==void 0&&(C=l.onUncaughtError),l.onCaughtError!==void 0&&(le=l.onCaughtError),l.onRecoverableError!==void 0&&(ge=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Ae=l.unstable_transitionCallbacks),l.formState!==void 0&&($e=l.formState)),a=rf(r,1,!0,a,l??null,u,E,C,le,ge,Ae,$e),a.context=af(null),l=a.current,u=ei(),u=Qn(u),E=_a(u),E.callback=null,Ea(l,E,u),l=u,a.current.lanes=l,Vn(a,l),Ni(a),r[rr]=a.current,ru(r),new Ol(a)},reactDomClient_production.version="19.1.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();requireReactDom();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends$1.apply(this,arguments)}var Action;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(t){t===void 0&&(t={});function e(i,s){let{pathname:o,search:c,hash:m}=i.location;return createLocation("",{pathname:o,search:c,hash:m},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:createPath(s)}return getUrlBasedHistory(e,n,null,t)}function invariant(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function warning(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(t,e){return{usr:t.state,key:t.key,idx:e}}function createLocation(t,e,n,i){return n===void 0&&(n=null),_extends$1({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:n,key:e&&e.key||i||createKey()})}function createPath(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function parsePath(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function getUrlBasedHistory(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,c=s.history,m=Action.Pop,_=null,h=d();h==null&&(h=0,c.replaceState(_extends$1({},c.state,{idx:h}),""));function d(){return(c.state||{idx:null}).idx}function f(){m=Action.Pop;let A=d(),w=A==null?null:A-h;h=A,_&&_({action:m,location:v.location,delta:w})}function b(A,w){m=Action.Push;let P=createLocation(v.location,A,w);h=d()+1;let Z=getHistoryState(P,h),Q=v.createHref(P);try{c.pushState(Z,"",Q)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(Q)}o&&_&&_({action:m,location:v.location,delta:1})}function y(A,w){m=Action.Replace;let P=createLocation(v.location,A,w);h=d();let Z=getHistoryState(P,h),Q=v.createHref(P);c.replaceState(Z,"",Q),o&&_&&_({action:m,location:v.location,delta:0})}function p(A){let w=s.location.origin!=="null"?s.location.origin:s.location.href,P=typeof A=="string"?A:createPath(A);return P=P.replace(/ $/,"%20"),invariant(w,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,w)}let v={get action(){return m},get location(){return t(s,c)},listen(A){if(_)throw new Error("A history only accepts one active listener");return s.addEventListener(PopStateEventType,f),_=A,()=>{s.removeEventListener(PopStateEventType,f),_=null}},createHref(A){return e(s,A)},createURL:p,encodeLocation(A){let w=p(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:y,go(A){return c.go(A)}};return v}var ResultType;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ResultType||(ResultType={}));function matchRoutes(t,e,n){return n===void 0&&(n="/"),matchRoutesImpl(t,e,n)}function matchRoutesImpl(t,e,n,i){let s=typeof e=="string"?parsePath(e):e,o=stripBasename(s.pathname||"/",n);if(o==null)return null;let c=flattenRoutes(t);rankRouteBranches(c);let m=null;for(let _=0;m==null&&_<c.length;++_){let h=decodePath(o);m=matchRouteBranch(c[_],h)}return m}function flattenRoutes(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(o,c,m)=>{let _={relativePath:m===void 0?o.path||"":m,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};_.relativePath.startsWith("/")&&(invariant(_.relativePath.startsWith(i),'Absolute route path "'+_.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),_.relativePath=_.relativePath.slice(i.length));let h=joinPaths([i,_.relativePath]),d=n.concat(_);o.children&&o.children.length>0&&(invariant(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),flattenRoutes(o.children,e,d,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:computeScore(h,o.index),routesMeta:d})};return t.forEach((o,c)=>{var m;if(o.path===""||!((m=o.path)!=null&&m.includes("?")))s(o,c);else for(let _ of explodeOptionalSegments(o.path))s(o,c,_)}),e}function explodeOptionalSegments(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let c=explodeOptionalSegments(i.join("/")),m=[];return m.push(...c.map(_=>_===""?o:[o,_].join("/"))),s&&m.push(...c),m.map(_=>t.startsWith("/")&&_===""?"/":_)}function rankRouteBranches(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:compareIndexes(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=t=>t==="*";function computeScore(t,e){let n=t.split("/"),i=n.length;return n.some(isSplat)&&(i+=splatPenalty),e&&(i+=indexRouteValue),n.filter(s=>!isSplat(s)).reduce((s,o)=>s+(paramRe.test(o)?dynamicSegmentValue:o===""?emptySegmentValue:staticSegmentValue),i)}function compareIndexes(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function matchRouteBranch(t,e,n){let{routesMeta:i}=t,s={},o="/",c=[];for(let m=0;m<i.length;++m){let _=i[m],h=m===i.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=matchPath({path:_.relativePath,caseSensitive:_.caseSensitive,end:h},d),b=_.route;if(!f)return null;Object.assign(s,f.params),c.push({params:s,pathname:joinPaths([o,f.pathname]),pathnameBase:normalizePathname(joinPaths([o,f.pathnameBase])),route:b}),f.pathnameBase!=="/"&&(o=joinPaths([o,f.pathnameBase]))}return c}function matchPath(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=compilePath(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:i.reduce((h,d,f)=>{let{paramName:b,isOptional:y}=d;if(b==="*"){let v=m[f]||"";c=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const p=m[f];return y&&!p?h[b]=void 0:h[b]=(p||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:c,pattern:t}}function compilePath(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),warning(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,_)=>(i.push({paramName:m,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function decodePath(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function stripBasename(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function resolvePath(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?parsePath(t):t;return{pathname:n?n.startsWith("/")?n:resolvePathname(n,e):e,search:normalizeSearch(i),hash:normalizeHash(s)}}function resolvePathname(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function getInvalidPathError(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(t,e){let n=getPathContributingMatches(t);return e?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function resolveTo(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=parsePath(t):(s=_extends$1({},t),invariant(!s.pathname||!s.pathname.includes("?"),getInvalidPathError("?","pathname","search",s)),invariant(!s.pathname||!s.pathname.includes("#"),getInvalidPathError("#","pathname","hash",s)),invariant(!s.search||!s.search.includes("#"),getInvalidPathError("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,m;if(c==null)m=n;else{let f=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),f-=1;s.pathname=b.join("/")}m=f>=0?e[f]:"/"}let _=resolvePath(s,m),h=c&&c!=="/"&&c.endsWith("/"),d=(o||c===".")&&n.endsWith("/");return!_.pathname.endsWith("/")&&(h||d)&&(_.pathname+="/"),_}const joinPaths=t=>t.join("/").replace(/\/\/+/g,"/"),normalizePathname=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,normalizeHash=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function isRouteErrorResponse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(t){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(t)}function useNavigate(){let{isDataRoute:t}=reactExports.useContext(RouteContext);return t?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let t=reactExports.useContext(DataRouterContext),{basename:e,future:n,navigator:i}=reactExports.useContext(NavigationContext),{matches:s}=reactExports.useContext(RouteContext),{pathname:o}=useLocation(),c=JSON.stringify(getResolveToMatches(s,n.v7_relativeSplatPath)),m=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{m.current=!0}),reactExports.useCallback(function(h,d){if(d===void 0&&(d={}),!m.current)return;if(typeof h=="number"){i.go(h);return}let f=resolveTo(h,JSON.parse(c),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:joinPaths([e,f.pathname])),(d.replace?i.replace:i.push)(f,d.state,d)},[e,i,c,o,t])}function useRoutes(t,e){return useRoutesImpl(t,e)}function useRoutesImpl(t,e,n,i){useInRouterContext()||invariant(!1);let{navigator:s}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),c=o[o.length-1],m=c?c.params:{};c&&c.pathname;let _=c?c.pathnameBase:"/";c&&c.route;let h=useLocation(),d;if(e){var f;let A=typeof e=="string"?parsePath(e):e;_==="/"||(f=A.pathname)!=null&&f.startsWith(_)||invariant(!1),d=A}else d=h;let b=d.pathname||"/",y=b;if(_!=="/"){let A=_.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let p=matchRoutes(t,{pathname:y}),v=_renderMatches(p&&p.map(A=>Object.assign({},A,{params:Object.assign({},m,A.params),pathname:joinPaths([_,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?_:joinPaths([_,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,n,i);return e&&v?reactExports.createElement(LocationContext.Provider,{value:{location:_extends({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Action.Pop}},v):v}function DefaultErrorComponent(){let t=useRouteError(),e=isRouteErrorResponse(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),n?reactExports.createElement("pre",{style:s},n):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(t){let{routeContext:e,match:n,children:i}=t,s=reactExports.useContext(DataRouterContext);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),reactExports.createElement(RouteContext.Provider,{value:e},i)}function _renderMatches(t,e,n,i){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,m=(s=n)==null?void 0:s.errors;if(m!=null){let d=c.findIndex(f=>f.route.id&&m?.[f.route.id]!==void 0);d>=0||invariant(!1),c=c.slice(0,Math.min(c.length,d+1))}let _=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let d=0;d<c.length;d++){let f=c[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=d),f.route.id){let{loaderData:b,errors:y}=n,p=f.route.loader&&b[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||p){_=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((d,f,b)=>{let y,p=!1,v=null,A=null;n&&(y=m&&f.route.id?m[f.route.id]:void 0,v=f.route.errorElement||defaultErrorElement,_&&(h<0&&b===0?(warningOnce("route-fallback"),p=!0,A=null):h===b&&(p=!0,A=f.route.hydrateFallbackElement||null)));let w=e.concat(c.slice(0,b+1)),P=()=>{let Z;return y?Z=v:p?Z=A:f.route.Component?Z=reactExports.createElement(f.route.Component,null):f.route.element?Z=f.route.element:Z=d,reactExports.createElement(RenderedRoute,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:Z})};return n&&(f.route.ErrorBoundary||f.route.errorElement||b===0)?reactExports.createElement(RenderErrorBoundary,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:P(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):P()},null)}var DataRouterHook$1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(DataRouterHook$1||{}),DataRouterStateHook$1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(DataRouterStateHook$1||{});function useDataRouterContext(t){let e=reactExports.useContext(DataRouterContext);return e||invariant(!1),e}function useDataRouterState(t){let e=reactExports.useContext(DataRouterStateContext);return e||invariant(!1),e}function useRouteContext(t){let e=reactExports.useContext(RouteContext);return e||invariant(!1),e}function useCurrentRouteId(t){let e=useRouteContext(),n=e.matches[e.matches.length-1];return n.route.id||invariant(!1),n.route.id}function useRouteError(){var t;let e=reactExports.useContext(RouteErrorContext),n=useDataRouterState(),i=useCurrentRouteId();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function useNavigateStable(){let{router:t}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),n=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{n.current=!0}),reactExports.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,_extends({fromRouteId:e},o)))},[t,e])}const alreadyWarned$1={};function warningOnce(t,e,n){alreadyWarned$1[t]||(alreadyWarned$1[t]=!0)}function logV6DeprecationWarnings(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Route(t){invariant(!1)}function Router(t){let{basename:e="/",children:n=null,location:i,navigationType:s=Action.Pop,navigator:o,static:c=!1,future:m}=t;useInRouterContext()&&invariant(!1);let _=e.replace(/^\/*/,"/"),h=reactExports.useMemo(()=>({basename:_,navigator:o,static:c,future:_extends({v7_relativeSplatPath:!1},m)}),[_,m,o,c]);typeof i=="string"&&(i=parsePath(i));let{pathname:d="/",search:f="",hash:b="",state:y=null,key:p="default"}=i,v=reactExports.useMemo(()=>{let A=stripBasename(d,_);return A==null?null:{location:{pathname:A,search:f,hash:b,state:y,key:p},navigationType:s}},[_,d,f,b,y,p,s]);return v==null?null:reactExports.createElement(NavigationContext.Provider,{value:h},reactExports.createElement(LocationContext.Provider,{children:n,value:v}))}function Routes(t){let{children:e,location:n}=t;return useRoutes(createRoutesFromChildren(e),n)}new Promise(()=>{});function createRoutesFromChildren(t,e){e===void 0&&(e=[]);let n=[];return reactExports.Children.forEach(t,(i,s)=>{if(!reactExports.isValidElement(i))return;let o=[...e,s];if(i.type===reactExports.Fragment){n.push.apply(n,createRoutesFromChildren(i.props.children,o));return}i.type!==Route&&invariant(!1),!i.props.index||!i.props.children||invariant(!1);let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=createRoutesFromChildren(i.props.children,o)),n.push(c)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(t){let{basename:e,children:n,future:i,window:s}=t,o=reactExports.useRef();o.current==null&&(o.current=createBrowserHistory({window:s,v5Compat:!0}));let c=o.current,[m,_]=reactExports.useState({action:c.action,location:c.location}),{v7_startTransition:h}=i||{},d=reactExports.useCallback(f=>{h&&startTransitionImpl?startTransitionImpl(()=>_(f)):_(f)},[_,h]);return reactExports.useLayoutEffect(()=>c.listen(d),[c,d]),reactExports.useEffect(()=>logV6DeprecationWarnings(i),[i]),reactExports.createElement(Router,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:c,future:i})}var DataRouterHook;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase$1=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),toPascalCase=t=>{const e=toCamelCase$1(t);return e.charAt(0).toUpperCase()+e.slice(1)},mergeClasses=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),hasA11yProp=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:c,...m},_)=>reactExports.createElement("svg",{ref:_,...defaultAttributes,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:mergeClasses("lucide",s),...!o&&!hasA11yProp(m)&&{"aria-hidden":"true"},...m},[...c.map(([h,d])=>reactExports.createElement(h,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(t,e)=>{const n=reactExports.forwardRef(({className:i,...s},o)=>reactExports.createElement(Icon,{ref:o,iconNode:e,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(t))}`,`lucide-${t}`,i),...s}));return n.displayName=toPascalCase(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Q=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ArrowLeft=createLucideIcon("arrow-left",__iconNode$Q);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$P=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ArrowRight=createLucideIcon("arrow-right",__iconNode$P);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$O=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Award=createLucideIcon("award",__iconNode$O);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$N=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BookOpen=createLucideIcon("book-open",__iconNode$N);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$M=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Brain=createLucideIcon("brain",__iconNode$M);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$L=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Calendar=createLucideIcon("calendar",__iconNode$L);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$K=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$K);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$J=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ChevronLeft=createLucideIcon("chevron-left",__iconNode$J);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$I=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$I);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$H=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CircleAlert=createLucideIcon("circle-alert",__iconNode$H);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$G=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$G);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$F=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],CirclePlay=createLucideIcon("circle-play",__iconNode$F);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$E=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CircleX=createLucideIcon("circle-x",__iconNode$E);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$D=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Clock=createLucideIcon("clock",__iconNode$D);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$C=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Coffee=createLucideIcon("coffee",__iconNode$C);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$B=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Cpu=createLucideIcon("cpu",__iconNode$B);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$A=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Database=createLucideIcon("database",__iconNode$A);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$z=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ExternalLink=createLucideIcon("external-link",__iconNode$z);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$y=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("file-text",__iconNode$y);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$x=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Globe=createLucideIcon("globe",__iconNode$x);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$w=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],GraduationCap=createLucideIcon("graduation-cap",__iconNode$w);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$v=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Hash=createLucideIcon("hash",__iconNode$v);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$u=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Heart=createLucideIcon("heart",__iconNode$u);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$t=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],History=createLucideIcon("history",__iconNode$t);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$s=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LayoutDashboard=createLucideIcon("layout-dashboard",__iconNode$s);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$r=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Lightbulb=createLucideIcon("lightbulb",__iconNode$r);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$q=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Link=createLucideIcon("link",__iconNode$q);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$p=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$p);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$o=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],LogIn=createLucideIcon("log-in",__iconNode$o);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$n=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Lock=createLucideIcon("lock",__iconNode$n);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$m=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Mail=createLucideIcon("mail",__iconNode$m);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$l=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],MessageCircle=createLucideIcon("message-circle",__iconNode$l);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$k=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],MessageSquare=createLucideIcon("message-square",__iconNode$k);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$j=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Play=createLucideIcon("play",__iconNode$j);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$i=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Rocket=createLucideIcon("rocket",__iconNode$i);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$h=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]],ScanBarcode=createLucideIcon("scan-barcode",__iconNode$h);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$g=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],ScanLine=createLucideIcon("scan-line",__iconNode$g);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$f=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Shield=createLucideIcon("shield",__iconNode$f);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$e=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Sparkles=createLucideIcon("sparkles",__iconNode$e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Star=createLucideIcon("star",__iconNode$d);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Target=createLucideIcon("target",__iconNode$c);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],TestTube=createLucideIcon("test-tube",__iconNode$b);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Trash2=createLucideIcon("trash-2",__iconNode$a);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],TrendingUp=createLucideIcon("trending-up",__iconNode$9);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Trophy=createLucideIcon("trophy",__iconNode$8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Upload=createLucideIcon("upload",__iconNode$7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],UserPlus=createLucideIcon("user-plus",__iconNode$6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],User$1=createLucideIcon("user",__iconNode$5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Users=createLucideIcon("users",__iconNode$4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Video=createLucideIcon("video",__iconNode$3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("x",__iconNode$2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],Youtube=createLucideIcon("youtube",__iconNode$1);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zap=createLucideIcon("zap",__iconNode),Home=()=>{const[t,e]=reactExports.useState(0),[n,i]=reactExports.useState({x:0,y:0}),[s,o]=reactExports.useState(!1),c=useNavigate();reactExports.useEffect(()=>{o(!0);const p=v=>{i({x:v.clientX,y:v.clientY})};return window.addEventListener("mousemove",p),()=>window.removeEventListener("mousemove",p)},[]);const m=()=>{c("/auth")},_=[{icon:jsxRuntimeExports.jsx(Brain,{className:"w-8 h-8"}),title:"AI Chapter Generator",description:"Transform any topic into comprehensive, grade-appropriate chapters with visual aids and examples.",gradient:"from-blue-500 via-purple-500 to-indigo-600",detail:"Smart content generation that adapts to your learning level"},{icon:jsxRuntimeExports.jsx(Video,{className:"w-8 h-8"}),title:"Smart Video Curation",description:"AI-powered video selection with automatic summaries, timestamps, and follow-up questions.",gradient:"from-red-500 to-pink-600",detail:"Never waste time on irrelevant videos again"},{icon:jsxRuntimeExports.jsx(Globe,{className:"w-8 h-8"}),title:"Trusted Resource Hub",description:"Curated collection of verified educational websites and interactive learning materials.",gradient:"from-emerald-500 to-teal-600",detail:"Quality-checked resources from top educational institutions"},{icon:jsxRuntimeExports.jsx(TestTube,{className:"w-8 h-8"}),title:"Dynamic Quiz Engine",description:"Adaptive assessments that evolve with your learning progress and identify knowledge gaps.",gradient:"from-purple-600 via-indigo-600 to-blue-600",detail:"Personalized questions that challenge you at the right level"}],h=[{icon:jsxRuntimeExports.jsx(Upload,{className:"w-6 h-6"}),title:"PDF Intelligence",description:"Upload textbooks, notes, or papers - AI extracts key concepts and creates instant study materials.",gradient:"from-orange-500 to-red-600"},{icon:jsxRuntimeExports.jsx(Link,{className:"w-6 h-6"}),title:"YouTube AI Scanner",description:"Paste any educational video link for instant summaries, notes, and comprehension questions.",gradient:"from-pink-500 to-rose-600"},{icon:jsxRuntimeExports.jsx(Zap,{className:"w-6 h-6"}),title:"Lightning Learning",description:"Master complex topics in minutes with AI-optimized learning paths and micro-lessons.",gradient:"from-yellow-500 to-orange-600"}],d=[{icon:jsxRuntimeExports.jsx(Target,{className:"w-6 h-6"}),text:"Personalized Learning Journey",color:"text-blue-400"},{icon:jsxRuntimeExports.jsx(Clock,{className:"w-6 h-6"}),text:"24/7 AI Study Companion",color:"text-green-400"},{icon:jsxRuntimeExports.jsx(BookOpen,{className:"w-6 h-6"}),text:"Multi-Board Curriculum Support",color:"text-purple-400"},{icon:jsxRuntimeExports.jsx(Brain,{className:"w-6 h-6"}),text:"Intelligent Content Generation",color:"text-indigo-400"},{icon:jsxRuntimeExports.jsx(TrendingUp,{className:"w-6 h-6"}),text:"Advanced Progress Analytics",color:"text-pink-400"},{icon:jsxRuntimeExports.jsx(Shield,{className:"w-6 h-6"}),text:"Privacy-First Architecture",color:"text-teal-400"}],f=[{type:"Students",emoji:"",gradient:"from-blue-500 to-indigo-600",desc:"K-12 & Higher Education"},{type:"Teachers",emoji:"",gradient:"from-emerald-500 to-teal-600",desc:"Lesson Planning & Resources"},{type:"Exam Aspirants",emoji:"",gradient:"from-purple-500 to-pink-600",desc:"JEE, NEET, UPSC & More"},{type:"Lifelong Learners",emoji:"",gradient:"from-orange-500 to-red-600",desc:"Continuous Skill Development"}],b=[{name:"Ananya Sharma",role:"NEET Aspirant",text:"Uploaded my entire biology syllabus PDF - got perfect summaries and practice MCQs instantly!",rating:5,image:""},{name:"Aditya Kumar",role:"Class 10 Student",text:"The YouTube scanner is incredible. AI breaks down complex physics videos better than my tutor.",rating:5,image:""},{name:"Priya Patel",role:"Teacher",text:"Creating lesson plans is now effortless. My students love the interactive quizzes!",rating:5,image:""}],y=[{number:"50K+",label:"Active Learners",icon:jsxRuntimeExports.jsx(Users,{className:"w-6 h-6"})},{number:"1M+",label:"Chapters Generated",icon:jsxRuntimeExports.jsx(BookOpen,{className:"w-6 h-6"})},{number:"500K+",label:"Videos Analyzed",icon:jsxRuntimeExports.jsx(Video,{className:"w-6 h-6"})},{number:"99.8%",label:"Success Rate",icon:jsxRuntimeExports.jsx(Award,{className:"w-6 h-6"})}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-slate-900 to-gray-800 text-white overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 pointer-events-none",children:jsxRuntimeExports.jsx("div",{className:"absolute w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse",style:{left:n.x-192,top:n.y-192,transition:"all 0.3s ease-out"}})}),jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-indigo-700/20 animate-pulse"}),jsxRuntimeExports.jsx("div",{className:`relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 transition-all duration-1000 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center mb-8",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 rounded-3xl p-6 shadow-2xl border border-blue-400/30 animate-bounce",children:jsxRuntimeExports.jsx(Target,{className:"w-16 h-16 text-white"})}),jsxRuntimeExports.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-blue-400 via-purple-400 to-indigo-400 rounded-3xl blur opacity-30 animate-pulse"})]})}),jsxRuntimeExports.jsx("h1",{className:"text-7xl font-bold bg-gradient-to-r from-white via-blue-100 to-indigo-200 bg-clip-text text-transparent mb-6 animate-pulse",children:"AI Learning Hub"}),jsxRuntimeExports.jsx("p",{className:"text-3xl text-blue-100 mb-4 font-medium animate-bounce",children:"Learn Smarter, Not Harder"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-4xl mx-auto leading-relaxed",children:" Instantly Understand Any Topic - Enter any topic and grade level  our AI generates easy-to-understand chapters, curated videos, helpful websites, and smart quizzes tailored just for you."}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-16",children:jsxRuntimeExports.jsxs("button",{onClick:m,className:"group relative bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 hover:from-blue-700 hover:via-purple-700 hover:to-indigo-800 text-white font-bold px-16 py-8 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-105 border border-blue-300/30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-10 h-10 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-3xl",children:"Start Learning Now"}),jsxRuntimeExports.jsx(ArrowRight,{className:"w-10 h-10 group-hover:translate-x-2 transition-transform"})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 via-purple-400 to-indigo-400 rounded-3xl blur opacity-0 group-hover:opacity-40 transition-opacity duration-300"})]})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-12",children:y.map((p,v)=>jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-gray-800/60 to-slate-900/60 rounded-2xl p-6 backdrop-blur-sm border border-gray-700/50 hover:border-blue-500/50 transition-all duration-300",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center mb-2 text-blue-400",children:p.icon}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:p.number}),jsxRuntimeExports.jsx("div",{className:"text-gray-300 text-sm",children:p.label})]},v))})]})})]}),jsxRuntimeExports.jsx("div",{className:"py-20 bg-gradient-to-br from-gray-800/50 to-slate-800/50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center mb-6",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 rounded-2xl p-4 shadow-lg animate-pulse",children:jsxRuntimeExports.jsx(Rocket,{className:"w-10 h-10 text-white"})})}),jsxRuntimeExports.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:" Revolutionary Features"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-xl max-w-3xl mx-auto",children:"Experience the future of personalized learning with our cutting-edge AI technology"})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:_.map((p,v)=>jsxRuntimeExports.jsxs("div",{className:`group bg-gradient-to-br from-gray-700/80 to-slate-800/80 rounded-3xl p-8 hover:shadow-2xl transition-all duration-500 transform hover:scale-105 border border-gray-600/50 hover:border-indigo-500/50 cursor-pointer backdrop-blur-sm ${t===v?"ring-2 ring-blue-500":""}`,onMouseEnter:()=>e(v),children:[jsxRuntimeExports.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${p.gradient} rounded-2xl flex items-center justify-center mb-6 shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:animate-pulse`,children:jsxRuntimeExports.jsx("div",{className:"text-white group-hover:scale-110 transition-transform",children:p.icon})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-4 group-hover:text-indigo-300 transition-colors",children:p.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:p.description}),jsxRuntimeExports.jsx("p",{className:"text-sm text-indigo-300 font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:p.detail})]},v))}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/40 to-purple-900/40 rounded-3xl p-8 border border-indigo-500/30 backdrop-blur-sm",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold text-white mb-8 text-center",children:" Latest Innovations"}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:h.map((p,v)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start p-6 bg-gradient-to-br from-gray-800/60 to-slate-900/60 rounded-2xl border border-gray-700/50 hover:border-indigo-500/50 transition-all duration-300",children:[jsxRuntimeExports.jsx("div",{className:`p-3 bg-gradient-to-r ${p.gradient} rounded-xl mr-4 flex-shrink-0`,children:p.icon}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-bold text-white mb-2",children:p.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm",children:p.description})]})]},v))})]})]})}),jsxRuntimeExports.jsx("div",{className:"py-20 bg-gradient-to-br from-slate-800/50 to-gray-900/50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:" Why Students Love Us"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-lg max-w-2xl mx-auto",children:"Discover powerful tools designed to enhance your learning experience"})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map((p,v)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center p-6 bg-gradient-to-r from-gray-700/80 to-slate-800/80 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 border border-gray-600/50 hover:border-indigo-500/50 group backdrop-blur-sm",children:[jsxRuntimeExports.jsx("div",{className:`${p.color} mr-6 bg-gray-800 rounded-full p-3 group-hover:animate-pulse`,children:p.icon}),jsxRuntimeExports.jsx("span",{className:"text-gray-100 font-medium text-lg group-hover:text-white transition-colors",children:p.text})]},v))})]})}),jsxRuntimeExports.jsx("div",{className:"py-20 bg-gradient-to-br from-gray-800/50 to-slate-800/50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:" What Our Users Say"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-lg",children:"Real stories from real students and teachers"})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:b.map((p,v)=>jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-gray-700/80 to-slate-800/80 rounded-3xl p-8 border border-gray-600/50 hover:border-indigo-500/50 transition-all duration-300 transform hover:scale-105 backdrop-blur-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mr-4",children:p.image}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-white",children:p.name}),jsxRuntimeExports.jsx("div",{className:"text-gray-400 text-sm",children:p.role})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 mb-4 italic",children:['"',p.text,'"']}),jsxRuntimeExports.jsx("div",{className:"flex text-yellow-400",children:[...Array(p.rating)].map((A,w)=>jsxRuntimeExports.jsx(Star,{className:"w-5 h-5 fill-current"},w))})]},v))})]})}),jsxRuntimeExports.jsx("div",{className:"py-20 bg-gradient-to-br from-gray-800/50 to-slate-800/50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center mb-6",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-700 rounded-2xl p-4 shadow-lg animate-pulse",children:jsxRuntimeExports.jsx(Users,{className:"w-10 h-10 text-white"})})}),jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:" Perfect for Everyone"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-lg max-w-2xl mx-auto",children:"Whether you're a student, teacher, or lifelong learner, AI Tutor adapts to your unique needs"})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:f.map((p,v)=>jsxRuntimeExports.jsxs("div",{className:"group text-center p-8 bg-gradient-to-br from-gray-700/80 to-slate-800/80 rounded-3xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border border-gray-600/50 hover:border-indigo-500/50 backdrop-blur-sm",children:[jsxRuntimeExports.jsx("div",{className:`w-20 h-20 bg-gradient-to-br ${p.gradient} rounded-2xl flex items-center justify-center mb-6 mx-auto shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:animate-bounce`,children:jsxRuntimeExports.jsx("div",{className:"text-4xl",children:p.emoji})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-indigo-300 transition-colors mb-2",children:p.type}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:p.desc})]},v))})]})}),jsxRuntimeExports.jsxs("div",{className:"py-20 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 border-t border-blue-400/20 relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-indigo-700/20 animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-12 shadow-2xl border border-white/20",children:[jsxRuntimeExports.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:" Start Your Learning Journey"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-blue-100 mb-10 max-w-3xl mx-auto",children:"Join 50,000+ students already transforming their education with AI. Experience personalized learning that adapts to your pace and style."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center mb-8",children:[jsxRuntimeExports.jsx("button",{onClick:m,className:"group w-full sm:w-auto bg-white text-indigo-600 px-12 py-6 rounded-2xl text-xl font-bold hover:bg-gray-100 transition-all duration-300 shadow-2xl hover:shadow-3xl transform hover:scale-105",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-6 h-6 group-hover:animate-spin"}),"Start Free Trial"]})}),jsxRuntimeExports.jsx("button",{className:"group w-full sm:w-auto bg-transparent border-2 border-white text-white px-12 py-6 rounded-2xl text-xl font-bold hover:bg-white hover:text-indigo-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3",children:[jsxRuntimeExports.jsx(Heart,{className:"w-6 h-6 group-hover:animate-pulse"}),"Join Community"]})})]}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-4 text-blue-100",children:[jsxRuntimeExports.jsx(Coffee,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Join our community of passionate learners"}),jsxRuntimeExports.jsx(MessageCircle,{className:"w-5 h-5"})]})})]})})]}),jsxRuntimeExports.jsx("div",{className:"py-12 bg-gray-900 text-center border-t border-gray-700/50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 rounded-2xl p-3 shadow-lg animate-pulse",children:jsxRuntimeExports.jsx(Brain,{className:"w-8 h-8 text-white"})})}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-xl font-semibold mb-2",children:" AI Tutor - Empowering education with intelligent tools"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-4",children:"Discover personalized educational resources powered by advanced AI technology"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-4 text-gray-400",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Built with  for learners worldwide"}),jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5"})]})]})})]})},getDefaultsFromPostinstall=()=>{};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},byteArrayToString=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],c=t[n++],m=t[n++],_=((s&7)<<18|(o&63)<<12|(c&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(_>>10)),e[i++]=String.fromCharCode(56320+(_&1023))}else{const o=t[n++],c=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],c=s+1<t.length,m=c?t[s+1]:0,_=s+2<t.length,h=_?t[s+2]:0,d=o>>2,f=(o&3)<<4|m>>4;let b=(m&15)<<2|h>>6,y=h&63;_||(y=64,c||(b=64)),i.push(n[d],n[f],n[b],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(stringToByteArray$1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):byteArrayToString(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],m=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||m==null||h==null||f==null)throw new DecodeBase64StringError;const b=o<<2|m>>4;if(i.push(b),h!==64){const y=m<<4&240|h>>2;if(i.push(y),f!==64){const p=h<<6&192|f;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(t){const e=stringToByteArray$1(t);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(t){return base64Encode(t).replace(/\./g,"")},base64Decode=function(t){try{return base64.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const t=define_process_env_default.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&base64Decode(t[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromPostinstall()||getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},getDefaultEmulatorHost=t=>{var e,n;return(n=(e=getDefaults())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},getDefaultEmulatorHostnameAndPort=t=>{const e=getDefaultEmulatorHost(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},getDefaultAppConfig=()=>{var t;return(t=getDefaults())===null||t===void 0?void 0:t.config},getExperimentalSetting=t=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isCloudWorkstation(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pingServer(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[base64urlEncodeWithoutPadding(JSON.stringify(n)),base64urlEncodeWithoutPadding(JSON.stringify(c)),""].join(".")}const emulatorStatus={};function getEmulatorSummary(){const t={prod:[],emulator:[]};for(const e of Object.keys(emulatorStatus))emulatorStatus[e]?t.emulator.push(e):t.prod.push(e);return t}function getOrCreateEl(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let previouslyDismissed=!1;function updateEmulatorBanner(t,e){if(typeof window>"u"||typeof document>"u"||!isCloudWorkstation(window.location.host)||emulatorStatus[t]===e||emulatorStatus[t]||previouslyDismissed)return;emulatorStatus[t]=e;function n(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=getEmulatorSummary().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function _(b,y){b.setAttribute("width","24"),b.setAttribute("id",y),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function h(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{previouslyDismissed=!0,c()},b}function d(b,y){b.setAttribute("id",y),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function f(){const b=getOrCreateEl(i),y=n("text"),p=document.getElementById(y)||document.createElement("span"),v=n("learnmore"),A=document.getElementById(v)||document.createElement("a"),w=n("preprendIcon"),P=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Z=b.element;m(Z),d(A,v);const Q=h();_(P,w),Z.append(P,p,A,Q),document.body.appendChild(Z)}o?(p.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isCloudflareWorker(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function isBrowserExtension(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const t=getUA();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function areCookiesEnabled(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?replaceTemplate(o,i):"Error",m=`${this.serviceName}: ${c} (${s}).`;return new FirebaseError(s,m,i)}}function replaceTemplate(t,e){return t.replace(PATTERN,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function deepEqual(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],c=e[s];if(isObject$1(o)&&isObject$1(c)){if(!deepEqual(o,c))return!1}else if(o!==c)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function isObject$1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function querystringDecode(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function extractQuerystring(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function createSubscribe(t,e){const n=new ObserverProxy(t,e);return n.subscribe.bind(n)}class ObserverProxy{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");implementsAnyMethods(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=noop$1),s.error===void 0&&(s.error=noop$1),s.complete===void 0&&(s.complete=noop$1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function noop$1(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_INTERVAL_MILLIS=1e3,DEFAULT_BACKOFF_FACTOR=2,MAX_VALUE_MILLIS=4*60*60*1e3,RANDOM_FACTOR=.5;function calculateBackoffMillis(t,e=DEFAULT_INTERVAL_MILLIS,n=DEFAULT_BACKOFF_FACTOR){const i=e*Math.pow(n,t),s=Math.round(RANDOM_FACTOR*i*(Math.random()-.5)*2);return Math.min(MAX_VALUE_MILLIS,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(t){return t&&t._delegate?t._delegate:t}class Component{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Deferred;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(o);i===m&&c.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(t){return t===DEFAULT_ENTRY_NAME$1?void 0:t}function isComponentEager(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Provider(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=ConsoleMethod[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}const instanceOfAny=(t,e)=>e.some(n=>t instanceof n);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(wrap$2(t.result)),s()},c=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&cursorRequestMap.set(n,t)}).catch(()=>{}),reverseTransformCache.set(e,t),e}function cacheDonePromiseForTransaction(t){if(transactionDoneMap.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),s()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});transactionDoneMap.set(t,e)}let idbProxyTraps={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||transactionStoreNamesMap.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wrap$2(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function replaceTraps(t){idbProxyTraps=t(idbProxyTraps)}function wrapFunction(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(unwrap(this),e,...n);return transactionStoreNamesMap.set(i,e.sort?e.sort():[e]),wrap$2(i)}:getCursorAdvanceMethods().includes(t)?function(...e){return t.apply(unwrap(this),e),wrap$2(cursorRequestMap.get(this))}:function(...e){return wrap$2(t.apply(unwrap(this),e))}}function transformCachableValue(t){return typeof t=="function"?wrapFunction(t):(t instanceof IDBTransaction&&cacheDonePromiseForTransaction(t),instanceOfAny(t,getIdbProxyableTypes())?new Proxy(t,idbProxyTraps):t)}function wrap$2(t){if(t instanceof IDBRequest)return promisifyRequest(t);if(transformCache.has(t))return transformCache.get(t);const e=transformCachableValue(t);return e!==t&&(transformCache.set(t,e),reverseTransformCache.set(e,t)),e}const unwrap=t=>reverseTransformCache.get(t);function openDB(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const c=indexedDB.open(t,e),m=wrap$2(c);return i&&c.addEventListener("upgradeneeded",_=>{i(wrap$2(c.result),_.oldVersion,_.newVersion,wrap$2(c.transaction),_)}),n&&c.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),m.then(_=>{o&&_.addEventListener("close",()=>o()),s&&_.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),m}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=writeMethods.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||readMethods.includes(n)))return;const o=async function(c,...m){const _=this.transaction(c,s?"readwrite":"readonly");let h=_.store;return i&&(h=h.index(m.shift())),(await Promise.all([h[n](...m),s&&_.done]))[0]};return cachedMethods.set(e,o),o}replaceTraps(t=>({...t,get:(e,n,i)=>getMethod(e,n)||t.get(e,n,i),has:(e,n)=>!!getMethod(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(isVersionServiceProvider(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function isVersionServiceProvider(t){const e=t.getComponent();return e?.type==="VERSION"}const name$q="@firebase/app",version$1$1="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4$1="@firebase/storage-compat",name$3$1="@firebase/firestore",name$2$1="@firebase/ai",name$1$1="@firebase/firestore-compat",name$r="firebase",version$4="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4$1]:"fire-gcs-compat",[name$3$1]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(t,e){try{t.container.addComponent(e)}catch(n){logger$1.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _registerComponent(t){const e=t.name;if(_components.has(e))return logger$1.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,t);for(const n of _apps.values())_addComponent(n,t);for(const n of _serverApps.values())_addComponent(n,t);return!0}function _getProvider(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _isFirebaseServerApp(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY$2=new ErrorFactory("app","Firebase",ERRORS$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$2.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$4;function initializeApp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw ERROR_FACTORY$2.create("bad-app-name",{appName:String(s)});if(n||(n=getDefaultAppConfig()),!n)throw ERROR_FACTORY$2.create("no-options");const o=_apps.get(s);if(o){if(deepEqual(n,o.options)&&deepEqual(i,o.config))return o;throw ERROR_FACTORY$2.create("duplicate-app",{appName:s})}const c=new ComponentContainer(s);for(const _ of _components.values())c.addComponent(_);const m=new FirebaseAppImpl(n,i,c);return _apps.set(s,m),m}function getApp(t=DEFAULT_ENTRY_NAME){const e=_apps.get(t);if(!e&&t===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!e)throw ERROR_FACTORY$2.create("no-app",{appName:t});return e}function registerVersion(t,e,n){var i;let s=(i=PLATFORM_LOG_STRING[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const m=[`Unable to register library "${s}" with version "${e}":`];o&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&m.push("and"),c&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger$1.warn(m.join(" "));return}_registerComponent(new Component(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise$1=null;function getDbPromise$1(){return dbPromise$1||(dbPromise$1=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(STORE_NAME)}catch(n){console.warn(n)}}}}).catch(t=>{throw ERROR_FACTORY$2.create("idb-open",{originalErrorMessage:t.message})})),dbPromise$1}async function readHeartbeatsFromIndexedDB(t){try{const n=(await getDbPromise$1()).transaction(STORE_NAME),i=await n.objectStore(STORE_NAME).get(computeKey(t));return await n.done,i}catch(e){if(e instanceof FirebaseError)logger$1.warn(e.message);else{const n=ERROR_FACTORY$2.create("idb-get",{originalErrorMessage:e?.message});logger$1.warn(n.message)}}}async function writeHeartbeatsToIndexedDB(t,e){try{const i=(await getDbPromise$1()).transaction(STORE_NAME,"readwrite");await i.objectStore(STORE_NAME).put(e,computeKey(t)),await i.done}catch(n){if(n instanceof FirebaseError)logger$1.warn(n.message);else{const i=ERROR_FACTORY$2.create("idb-set",{originalErrorMessage:n?.message});logger$1.warn(i.message)}}}function computeKey(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,MAX_NUM_STORED_HEARTBEATS=30;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=getUTCDateString();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>MAX_NUM_STORED_HEARTBEATS){const c=getEarliestHeartbeatIdx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){logger$1.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=getUTCDateString(),{heartbeatsToSend:i,unsentEntries:s}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),o=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return logger$1.warn(n),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(t,e=MAX_HEADER_BYTES){const n=[];let i=t.slice();for(const s of t){const o=n.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),countBytes(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),countBytes(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await readHeartbeatsFromIndexedDB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function countBytes(t){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:t})).length}function getEarliestHeartbeatIdx(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(t){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$q,version$1$1,t),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");function __rest(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(t,...e){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${t}`,...e)}function _logError(t,...e){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(t,...e){throw createErrorInternal(t,...e)}function _createError(t,...e){return createErrorInternal(t,...e)}function _errorWithCustomMessage(t,e,n){const i=Object.assign(Object.assign({},prodErrorMap()),{[e]:n});return new ErrorFactory("auth","Firebase",i).create(e,{appName:t.name})}function _serverAppCurrentUserOperationNotSupportedError(t){return _errorWithCustomMessage(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _assertInstanceOf(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&_fail(t,"argument-error"),_errorWithCustomMessage(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return _DEFAULT_AUTH_ERROR_FACTORY.create(t,...e)}function _assert(t,e,...n){if(!t)throw createErrorInternal(e,...n)}function debugFail(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _logError(e),new Error(e)}function debugAssert(t,e){t||debugFail(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(e,n){this.shortDelay=e,this.longDelay=n,debugAssert(n>e,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(t,e){debugAssert(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CookieAuthProxiedEndpoints=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _performApiRequest(t,e,n,i,s={}){return _performFetchWithErrorHandling(t,s,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const m=querystring(Object.assign({key:t.config.apiKey},c)).slice(1),_=await t._getAdditionalHeaders();_["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:_},o);return isCloudflareWorker()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&isCloudWorkstation(t.emulatorConfig.host)&&(h.credentials="include"),FetchProvider.fetch()(await _getFinalTarget(t,t.config.apiHost,n,m),h)})}async function _performFetchWithErrorHandling(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},SERVER_ERROR_MAP),e);try{const s=new NetworkTimeout(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw _makeTaggedError(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const m=o.ok?c.errorMessage:c.error.message,[_,h]=m.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(t,"credential-already-in-use",c);if(_==="EMAIL_EXISTS")throw _makeTaggedError(t,"email-already-in-use",c);if(_==="USER_DISABLED")throw _makeTaggedError(t,"user-disabled",c);const d=i[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw _errorWithCustomMessage(t,d,h);_fail(t,d)}}catch(s){if(s instanceof FirebaseError)throw s;_fail(t,"network-request-failed",{message:String(s)})}}async function _performSignInRequest(t,e,n,i,s={}){const o=await _performApiRequest(t,e,n,i,s);return"mfaPendingCredential"in o&&_fail(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function _getFinalTarget(t,e,n,i){const s=`${e}${n}?${i}`,o=t,c=o.config.emulator?_emulatorUrl(t.config,s):`${t.config.apiScheme}://${s}`;return CookieAuthProxiedEndpoints.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function _parseEnforcementState(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}}function _makeTaggedError(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=_createError(t,e,i);return s.customData._tokenResponse=n,s}function isEnterprise(t){return t!==void 0&&t.enterprise!==void 0}class RecaptchaConfig{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _parseEnforcementState(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function getRecaptchaConfig(t,e){return _performApiRequest(t,"GET","/v2/recaptchaConfig",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(t,e){return _performApiRequest(t,"POST","/v1/accounts:delete",e)}async function getAccountInfo(t,e){return _performApiRequest(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function getIdTokenResult(t,e=!1){const n=getModularInstance(t),i=await n.getIdToken(e),s=_parseToken(i);_assert(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o?.sign_in_provider;return{claims:s,token:i,authTime:utcTimestampToDateString(secondsStringToMilliseconds(s.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(s.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(s.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function secondsStringToMilliseconds(t){return Number(t)*1e3}function _parseToken(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const s=base64Decode(n);return s?JSON.parse(s):(_logError("Failed to decode base64 JWT payload"),null)}catch(s){return _logError("Caught error parsing JWT payload as JSON",s?.toString()),null}}function _tokenExpiresIn(t){const e=_parseToken(t);return _assert(e,"internal-error"),_assert(typeof e.exp<"u","internal-error"),_assert(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof FirebaseError&&isUserInvalidated(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function isUserInvalidated({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(t){var e;const n=t.auth,i=await t.getIdToken(),s=await _logoutIfInvalidated(t,getAccountInfo(n,{idToken:i}));_assert(s?.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?extractProviderData(o.providerUserInfo):[],m=mergeProviderData(t.providerData,c),_=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!m?.length,d=_?h:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:m,metadata:new UserMetadata(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function reload(t){const e=getModularInstance(t);await _reloadWithoutSaving(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mergeProviderData(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function extractProviderData(t){return t.map(e=>{var{providerId:n}=e,i=__rest(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(t,e){const n=await _performFetchWithErrorHandling(t,{},async()=>{const i=querystring({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,c=await _getFinalTarget(t,s,"/v1/token",`key=${o}`),m=await t._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:m,body:i};return t.emulatorConfig&&isCloudWorkstation(t.emulatorConfig.host)&&(_.credentials="include"),FetchProvider.fetch()(c,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function revokeToken(t,e){return _performApiRequest(t,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_assert(e.idToken,"internal-error"),_assert(typeof e.idToken<"u","internal-error"),_assert(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_tokenExpiresIn(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_assert(e.length!==0,"internal-error");const n=_tokenExpiresIn(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await requestStsToken(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,c=new StsTokenManager;return i&&(_assert(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(_assert(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(_assert(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(t,e){_assert(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class UserImpl{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,o=__rest(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new UserMetadata(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,e));return _assert(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return getIdTokenResult(this,e)}reload(){return reload(this)}_assign(e){this!==e&&(_assert(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new UserImpl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const e=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,o,c,m,_,h,d;const f=(i=n.displayName)!==null&&i!==void 0?i:void 0,b=(s=n.email)!==null&&s!==void 0?s:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(c=n.photoURL)!==null&&c!==void 0?c:void 0,v=(m=n.tenantId)!==null&&m!==void 0?m:void 0,A=(_=n._redirectEventId)!==null&&_!==void 0?_:void 0,w=(h=n.createdAt)!==null&&h!==void 0?h:void 0,P=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:Z,emailVerified:Q,isAnonymous:z,providerData:K,stsTokenManager:j}=n;_assert(Z&&j,e,"internal-error");const T=StsTokenManager.fromJSON(this.name,j);_assert(typeof Z=="string",e,"internal-error"),assertStringOrUndefined(f,e.name),assertStringOrUndefined(b,e.name),_assert(typeof Q=="boolean",e,"internal-error"),_assert(typeof z=="boolean",e,"internal-error"),assertStringOrUndefined(y,e.name),assertStringOrUndefined(p,e.name),assertStringOrUndefined(v,e.name),assertStringOrUndefined(A,e.name),assertStringOrUndefined(w,e.name),assertStringOrUndefined(P,e.name);const I=new UserImpl({uid:Z,auth:e,email:b,emailVerified:Q,displayName:f,isAnonymous:z,photoURL:p,phoneNumber:y,tenantId:v,stsTokenManager:T,createdAt:w,lastLoginAt:P});return K&&Array.isArray(K)&&(I.providerData=K.map(Y=>Object.assign({},Y))),A&&(I._redirectEventId=A),I}static async _fromIdTokenResponse(e,n,i=!1){const s=new StsTokenManager;s.updateFromServerResponse(n);const o=new UserImpl({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await _reloadWithoutSaving(o),o}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];_assert(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?extractProviderData(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!o?.length,m=new StsTokenManager;m.updateFromIdToken(i);const _=new UserImpl({uid:s.localId,auth:e,stsTokenManager:m,isAnonymous:c}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new UserMetadata(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(_,h),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(t){debugAssert(t instanceof Function,"Expected a class definition");let e=instanceCache.get(t);return e?(debugAssert(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,instanceCache.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(t,e,n){return`firebase:${t}:${e}:${n}`}class PersistenceUserManager{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,s.apiKey,o),this.fullPersistenceKey=_persistenceKeyName("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await getAccountInfo(this.auth,{idToken:e}).catch(()=>{});return n?UserImpl._fromGetAccountInfoResponse(this.auth,n,e):null}return UserImpl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),e,i);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||_getInstance(inMemoryPersistence);const c=_persistenceKeyName(i,e.config.apiKey,e.name);let m=null;for(const h of n)try{const d=await h._get(c);if(d){let f;if(typeof d=="string"){const b=await getAccountInfo(e,{idToken:d}).catch(()=>{});if(!b)break;f=await UserImpl._fromGetAccountInfoResponse(e,b,d)}else f=UserImpl._fromJSON(e,d);h!==o&&(m=f),o=h;break}}catch{}const _=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!_.length?new PersistenceUserManager(o,e,i):(o=_[0],m&&await o._set(c,m.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(c)}catch{}})),new PersistenceUserManager(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_isIEMobile(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_isFirefox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_isBlackBerry(e))return"Blackberry";if(_isWebOS(e))return"Webos";if(_isSafari(e))return"Safari";if((e.includes("chrome/")||_isChromeIOS(e))&&!e.includes("edge/"))return"Chrome";if(_isAndroid(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function _isFirefox(t=getUA()){return/firefox\//i.test(t)}function _isSafari(t=getUA()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _isChromeIOS(t=getUA()){return/crios\//i.test(t)}function _isIEMobile(t=getUA()){return/iemobile/i.test(t)}function _isAndroid(t=getUA()){return/android/i.test(t)}function _isBlackBerry(t=getUA()){return/blackberry/i.test(t)}function _isWebOS(t=getUA()){return/webos/i.test(t)}function _isIOS(t=getUA()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _isIOSStandalone(t=getUA()){var e;return _isIOS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(t=getUA()){return _isIOS(t)||_isAndroid(t)||_isWebOS(t)||_isBlackBerry(t)||/windows phone/i.test(t)||_isIEMobile(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(t,e=[]){let n;switch(t){case"Browser":n=_getBrowserName(getUA());break;case"Worker":n=`${_getBrowserName(getUA())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${SDK_VERSION}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((c,m)=>{try{const _=e(o);c(_)}catch(_){m(_)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(t,e={}){return _performApiRequest(t,"GET","/v2/passwordPolicy",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(e){var n,i,s,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:MINIMUM_MIN_PASSWORD_LENGTH,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,o,c,m;const _={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,_),this.validatePasswordCharacterOptions(e,_),_.isValid&&(_.isValid=(n=_.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),_.isValid&&(_.isValid=(i=_.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),_.isValid&&(_.isValid=(s=_.containsLowercaseLetter)!==null&&s!==void 0?s:!0),_.isValid&&(_.isValid=(o=_.containsUppercaseLetter)!==null&&o!==void 0?o:!0),_.isValid&&(_.isValid=(c=_.containsNumericCharacter)!==null&&c!==void 0?c:!0),_.isValid&&(_.isValid=(m=_.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),_}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_getInstance(n)),this._initializationPromise=this.queue(async()=>{var i,s,o;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await getAccountInfo(this,{idToken:e}),i=await UserImpl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_isFirebaseServerApp(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=s?._redirectEventId,_=await this.tryRedirectSignIn(e);(!c||c===m)&&_?.user&&(s=_.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _reloadWithoutSaving(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const n=e?getModularInstance(e):null;return n&&_assert(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_assert(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _getPasswordPolicy(this),n=new PasswordPolicyImpl(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await revokeToken(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_getInstance(e)||this._popupRedirectResolver;_assert(n,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(m,this,"internal-error"),m.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,i,s);return()=>{c=!0,_()}}else{const _=e.addObserver(n);return()=>{c=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(_isFirebaseServerApp(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&_logWarn(`Error while retrieving App Check token: ${n.error}`),n?.token}}function _castAuth(t){return getModularInstance(t)}class Subscription{constructor(e){this.auth=e,this.observer=null,this.addObserver=createSubscribe(n=>this.observer=n)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(t){externalJSProvider=t}function _loadJS(t){return externalJSProvider.loadJS(t)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class MockGreCAPTCHATopLevel{constructor(){this.enterprise=new MockGreCAPTCHA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class MockGreCAPTCHA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(e){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,m)=>{getRecaptchaConfig(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const h=new RecaptchaConfig(_);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,c(h.siteKey)}}).catch(_=>{m(_)})})}function s(o,c,m){const _=window.grecaptcha;isEnterprise(_)?_.enterprise.ready(()=>{_.enterprise.execute(o,{action:e}).then(h=>{c(h)}).catch(()=>{c(FAKE_TOKEN)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MockGreCAPTCHATopLevel().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(m=>{if(!n&&isEnterprise(window.grecaptcha))s(m,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let _=_recaptchaEnterpriseScriptUrl();_.length!==0&&(_+=m),_loadJS(_).then(()=>{s(m,o,c)}).catch(h=>{c(h)})}}).catch(m=>{c(m)})})}}async function injectRecaptchaFields(t,e,n,i=!1,s=!1){const o=new RecaptchaEnterpriseVerifier(t);let c;if(s)c=FAKE_TOKEN;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const _=m.phoneEnrollmentInfo.phoneNumber,h=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const _=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function handleRecaptchaFlow(t,e,n,i,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await injectRecaptchaFields(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await injectRecaptchaFields(t,e,n,n==="getOobCode");return i(t,m)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(t,e){const n=_getProvider(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(deepEqual(o,e??{}))return s;_fail(s,"already-initialized")}return n.initialize({options:e})}function _initializeAuthInstance(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(_getInstance);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function connectAuthEmulator(t,e,n){const i=_castAuth(t);_assert(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=extractProtocol(e),{host:c,port:m}=extractHostAndPort(e),_=m===null?"":`:${m}`,h={url:`${o}//${c}${_}/`},d=Object.freeze({host:c,port:m,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){_assert(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),_assert(deepEqual(h,i.config.emulator)&&deepEqual(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,isCloudWorkstation(c)?(pingServer(`${o}//${c}${_}`),updateEmulatorBanner("Auth",!0)):emitEmulatorWarning()}function extractProtocol(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function extractHostAndPort(t){const e=extractProtocol(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:parsePort(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:parsePort(c)}}}function parsePort(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function emitEmulatorWarning(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(e){return debugFail("not implemented")}_linkToIdToken(e,n){return debugFail("not implemented")}_getReauthenticationResolver(e){return debugFail("not implemented")}}async function linkEmailPassword(t,e){return _performApiRequest(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(t,e))}async function signInWithEmailLinkForLinking(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new EmailAuthCredential(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new EmailAuthCredential(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(e,n,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(e,{email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(e,i,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(e,{idToken:n,email:this._email,oobCode:this._password});default:_fail(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new OAuthCredential(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_fail("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,o=__rest(n,["providerId","signInMethod"]);if(!i||!s)return null;const c=new OAuthCredential(i,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return signInWithIdp(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,signInWithIdp(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,signInWithIdp(e,n)}buildRequest(){const e={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=querystring(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(t){const e=querystringDecode(extractQuerystring(t)).link,n=e?querystringDecode(extractQuerystring(e)).deep_link_id:null,i=querystringDecode(extractQuerystring(t)).deep_link_id;return(i?querystringDecode(extractQuerystring(i)).link:null)||i||n||e||t}class ActionCodeURL{constructor(e){var n,i,s,o,c,m;const _=querystringDecode(extractQuerystring(e)),h=(n=_.apiKey)!==null&&n!==void 0?n:null,d=(i=_.oobCode)!==null&&i!==void 0?i:null,f=parseMode((s=_.mode)!==null&&s!==void 0?s:null);_assert(h&&d&&f,"argument-error"),this.apiKey=h,this.operation=f,this.code=d,this.continueUrl=(o=_.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=_.lang)!==null&&c!==void 0?c:null,this.tenantId=(m=_.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=parseDeepLink(e);try{return new ActionCodeURL(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(e,n){return EmailAuthCredential._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=ActionCodeURL.parseLink(n);return _assert(i,"argument-error"),EmailAuthCredential._fromEmailAndCode(e,i.code,i.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(e){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return FacebookAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return FacebookAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return GoogleAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GoogleAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return GoogleAuthProvider.credential(n,i)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(e){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GithubAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return GithubAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return GithubAuthProvider.credential(e.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(e,n){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return TwitterAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(e){return TwitterAuthProvider.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return TwitterAuthProvider.credential(n,i)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(t,e){return _performSignInRequest(t,"POST","/v1/accounts:signUp",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await UserImpl._fromIdTokenResponse(e,i,s),c=providerIdForResponse(i);return new UserCredentialImpl({user:o,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=providerIdForResponse(i);return new UserCredentialImpl({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function providerIdForResponse(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(e,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new MultiFactorError(e,n,i,s)}}function _processCredentialSavingMfaContextIfNecessary(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(t,o,e,i):o})}async function _link$1(t,e,n=!1){const i=await _logoutIfInvalidated(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return UserCredentialImpl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(t,e,n=!1){const{auth:i}=t;if(_isFirebaseServerApp(i.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(i));const s="reauthenticate";try{const o=await _logoutIfInvalidated(t,_processCredentialSavingMfaContextIfNecessary(i,s,e,t),n);_assert(o.idToken,i,"internal-error");const c=_parseToken(o.idToken);_assert(c,i,"internal-error");const{sub:m}=c;return _assert(t.uid===m,i,"user-mismatch"),UserCredentialImpl._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&_fail(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(t,e,n=!1){if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const i="signIn",s=await _processCredentialSavingMfaContextIfNecessary(t,i,e),o=await UserCredentialImpl._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}async function signInWithCredential(t,e){return _signInWithCredential(_castAuth(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(t){const e=_castAuth(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function createUserWithEmailAndPassword(t,e,n){if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const i=_castAuth(t),c=await handleRecaptchaFlow(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(t),_}),m=await UserCredentialImpl._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(m.user),m}function signInWithEmailAndPassword(t,e,n){return _isFirebaseServerApp(t.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t)):signInWithCredential(getModularInstance(t),EmailAuthProvider.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createAuthUri(t,e){return _performApiRequest(t,"POST","/v1/accounts:createAuthUri",_addTidIfNecessary(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fetchSignInMethodsForEmail(t,e){const n=_isHttpOrHttps()?_getCurrentUrl():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:s}=await createAuthUri(getModularInstance(t),i);return s||[]}function onIdTokenChanged(t,e,n,i){return getModularInstance(t).onIdTokenChanged(e,n,i)}function beforeAuthStateChanged(t,e,n){return getModularInstance(t).beforeAuthStateChanged(e,n)}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,_)=>{this.notifyListeners(c,_)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);_isIE10()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,IE10_LOCAL_STORAGE_SYNC_DELAY):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Receiver(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,c=this.handlersMap[s];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const m=Array.from(c).map(async h=>h(n.origin,o)),_=await _allSettled(m);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((m,_)=>{const h=_generateEventId("",20);s.port1.start();const d=setTimeout(()=>{_(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(f){const b=f;if(b.data.eventId===h)switch(b.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),m(b.data.response);break;default:clearTimeout(d),clearTimeout(o),_(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(t){_window().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function getObjectStore(t,e){return t.transaction([DB_OBJECTSTORE_NAME],e?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const t=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(t).toPromise()}function _openDatabase(){const t=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?e(i):(i.close(),await _deleteDatabase(),e(await _openDatabase()))})})}async function _putObject(t,e,n){const i=getObjectStore(t,!0).put({[DB_DATA_KEYPATH]:e,value:n});return new DBPromise(i).toPromise()}async function getObject(t,e){const n=getObjectStore(t,!1).get(e),i=await new DBPromise(n).toPromise();return i===void 0?null:i.value}function _deleteObject(t,e){const n=getObjectStore(t,!0).delete(e);return new DBPromise(n).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>_TRANSACTION_RETRY_COUNT)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _openDatabase();return await _putObject(e,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(e,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>_putObject(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>getObject(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_deleteObject(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=getObjectStore(s,!1).getAll();return new DBPromise(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(t,e){return e?_getInstance(e):(_assert(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return signInWithIdp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return signInWithIdp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return signInWithIdp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _signIn(t){return _signInWithCredential(t.auth,new IdpCredential(t),t.bypassAuthState)}function _reauth(t){const{auth:e,user:n}=t;return _assert(n,e,"internal-error"),_reauthenticate(n,new IdpCredential(t),t.bypassAuthState)}async function _link(t){const{auth:e,user:n}=t;return _assert(n,e,"internal-error"),_link$1(n,new IdpCredential(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:c,type:m}=e;if(c){this.reject(c);return}const _={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(_))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(t,e,n){if(_isFirebaseServerApp(t.app))return Promise.reject(_createError(t,"operation-not-supported-in-this-environment"));const i=_castAuth(t);_assertInstanceOf(t,e,FederatedAuthProvider);const s=_withDefaultResolver(i,n);return new PopupOperation(i,"signInViaPopup",e,s).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _assert(e,this.auth,"internal-error"),e}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const e=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_POLL_WINDOW_CLOSE_TIMEOUT.get())};e()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=redirectOutcomeMap.get(this.auth._key());if(!e){try{const i=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}redirectOutcomeMap.set(this.auth._key(),e)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(t,e){const n=pendingRedirectKey(e),i=resolverPersistence(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function _overrideRedirectResult(t,e){redirectOutcomeMap.set(t._key(),e)}function resolverPersistence(t){return _getInstance(t._redirectPersistence)}function pendingRedirectKey(t){return _persistenceKeyName(PENDING_REDIRECT_KEY,t.config.apiKey,t.name)}async function _getRedirectResult(t,e,n=!1){if(_isFirebaseServerApp(t.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(t));const i=_castAuth(t),s=_withDefaultResolver(i,e),c=await new RedirectAction(i,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!isRedirectEvent(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!isNullRedirectEvent(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(_createError(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(e))}saveEventToCache(e){this.cachedEventUids.add(eventUid(e)),this.lastProcessedEventTime=Date.now()}}function eventUid(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function isNullRedirectEvent({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function isRedirectEvent(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(t,e={}){return _performApiRequest(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _getProjectConfig(t);for(const n of e)try{if(matchDomain(n))return}catch{}_fail(t,"unauthorized-domain")}function matchDomain(t){const e=_getCurrentUrl(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!HTTP_REGEX.test(n))return!1;if(IP_ADDRESS_REGEX.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const t=_window().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function loadGapi(t){return new Promise((e,n)=>{var i,s,o;function c(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),n(_createError(t,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((s=(i=_window().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=_window().gapi)===null||o===void 0)&&o.load)c();else{const m=_generateCallbackName("iframefcb");return _window()[m]=()=>{gapi.load?c():n(_createError(t,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${m}`).catch(_=>n(_))}}).catch(e=>{throw cachedGApiLoader=null,e})}let cachedGApiLoader=null;function _loadGapi(t){return cachedGApiLoader=cachedGApiLoader||loadGapi(t),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(t){const e=t.config;_assert(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_emulatorUrl(e,EMULATED_IFRAME_PATH):`https://${t.config.authDomain}/${IFRAME_PATH}`,i={apiKey:e.apiKey,appName:t.name,v:SDK_VERSION},s=EID_FROM_APIHOST.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${querystring(i).slice(1)}`}async function _openIframe(t){const e=await _loadGapi(t),n=_window().gapi;return _assert(n,t,"internal-error"),e.open({where:document.body,url:getIframeUrl(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const c=_createError(t,"network-request-failed"),m=_window().setTimeout(()=>{o(c)},PING_TIMEOUT.get());function _(){_window().clearTimeout(m),s(i)}i.ping(_).then(_,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(t,e,n,i=DEFAULT_WIDTH,s=DEFAULT_HEIGHT){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const _=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:i.toString(),height:s.toString(),top:o,left:c}),h=getUA().toLowerCase();n&&(m=_isChromeIOS(h)?TARGET_BLANK:n),_isFirefox(h)&&(e=e||FIREFOX_EMPTY_URL,_.scrollbars="yes");const d=Object.entries(_).reduce((b,[y,p])=>`${b}${y}=${p},`,"");if(_isIOSStandalone(h)&&m!=="_self")return openAsNewWindowIOS(e||"",m),new AuthPopup(null);const f=window.open(e||"",m,d);_assert(f,t,"popup-blocked");try{f.focus()}catch{}return new AuthPopup(f)}function openAsNewWindowIOS(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(t,e,n,i,s,o){_assert(t.config.authDomain,t,"auth-domain-config-required"),_assert(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:SDK_VERSION,eventId:s};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",isEmpty(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))c[d]=f}if(e instanceof BaseOAuthProvider){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(c.scopes=d.join(","))}t.tenantId&&(c.tid=t.tenantId);const m=c;for(const d of Object.keys(m))m[d]===void 0&&delete m[d];const _=await t._getAppCheckToken(),h=_?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(_)}`:"";return`${getHandlerBase(t)}?${querystring(m).slice(1)}${h}`}function getHandlerBase({config:t}){return t.emulator?_emulatorUrl(t,EMULATOR_WIDGET_PATH):`https://${t.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(e,n,i,s){var o;debugAssert((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await _getRedirectUrl(e,n,i,_getCurrentUrl(),s);return _open(e,c,_generateEventId())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await _getRedirectUrl(e,n,i,_getCurrentUrl(),s);return _setWindowLocation(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(debugAssert(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await _openIframe(e),i=new AuthEventManager(e);return n.register("authEvent",s=>(_assert(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},s=>{var o;const c=(o=s?.[0])===null||o===void 0?void 0:o[WEB_STORAGE_SUPPORT_KEY];c!==void 0&&n(!!c),_fail(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_validateOrigin(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$4="@firebase/auth",version$3="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(t){_registerComponent(new Component("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=i.options;_assert(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const _={apiKey:c,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(t)},h=new AuthImpl(i,s,o,_);return _initializeAuthInstance(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",e=>{const n=_castAuth(e.getProvider("auth").getImmediate());return(i=>new AuthInterop(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$4,version$3,getVersionForPlatform(t)),registerVersion(name$4,version$3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>authIdTokenMaxAge)return;const s=n?.token;lastPostedIdToken!==s&&(lastPostedIdToken=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function getAuth(t=getApp()){const e=_getProvider(t,"auth");if(e.isInitialized())return e.getImmediate();const n=initializeAuth(t,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),i=getExperimentalSetting("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=mintCookieFactory(o.toString());beforeAuthStateChanged(n,c,()=>c(n.currentUser)),onIdTokenChanged(n,m=>c(m))}}const s=getDefaultEmulatorHost("auth");return s&&connectAuthEmulator(n,`http://${s}`),n}function getScriptParentElement(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_setExternalJSProvider({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=_createError("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",getScriptParentElement().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");var name$3="firebase",version$2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$3,version$2,"app");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,T){function I(){}I.prototype=T.prototype,j.D=T.prototype,j.prototype=new I,j.prototype.constructor=j,j.C=function(Y,R,U){for(var G=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)G[ue-2]=arguments[ue];return T.prototype[R].apply(Y,G)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(j,T,I){I||(I=0);var Y=Array(16);if(typeof T=="string")for(var R=0;16>R;++R)Y[R]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(R=0;16>R;++R)Y[R]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=j.g[0],I=j.g[1],R=j.g[2];var U=j.g[3],G=T+(U^I&(R^U))+Y[0]+3614090360&4294967295;T=I+(G<<7&4294967295|G>>>25),G=U+(R^T&(I^R))+Y[1]+3905402710&4294967295,U=T+(G<<12&4294967295|G>>>20),G=R+(I^U&(T^I))+Y[2]+606105819&4294967295,R=U+(G<<17&4294967295|G>>>15),G=I+(T^R&(U^T))+Y[3]+3250441966&4294967295,I=R+(G<<22&4294967295|G>>>10),G=T+(U^I&(R^U))+Y[4]+4118548399&4294967295,T=I+(G<<7&4294967295|G>>>25),G=U+(R^T&(I^R))+Y[5]+1200080426&4294967295,U=T+(G<<12&4294967295|G>>>20),G=R+(I^U&(T^I))+Y[6]+2821735955&4294967295,R=U+(G<<17&4294967295|G>>>15),G=I+(T^R&(U^T))+Y[7]+4249261313&4294967295,I=R+(G<<22&4294967295|G>>>10),G=T+(U^I&(R^U))+Y[8]+1770035416&4294967295,T=I+(G<<7&4294967295|G>>>25),G=U+(R^T&(I^R))+Y[9]+2336552879&4294967295,U=T+(G<<12&4294967295|G>>>20),G=R+(I^U&(T^I))+Y[10]+4294925233&4294967295,R=U+(G<<17&4294967295|G>>>15),G=I+(T^R&(U^T))+Y[11]+2304563134&4294967295,I=R+(G<<22&4294967295|G>>>10),G=T+(U^I&(R^U))+Y[12]+1804603682&4294967295,T=I+(G<<7&4294967295|G>>>25),G=U+(R^T&(I^R))+Y[13]+4254626195&4294967295,U=T+(G<<12&4294967295|G>>>20),G=R+(I^U&(T^I))+Y[14]+2792965006&4294967295,R=U+(G<<17&4294967295|G>>>15),G=I+(T^R&(U^T))+Y[15]+1236535329&4294967295,I=R+(G<<22&4294967295|G>>>10),G=T+(R^U&(I^R))+Y[1]+4129170786&4294967295,T=I+(G<<5&4294967295|G>>>27),G=U+(I^R&(T^I))+Y[6]+3225465664&4294967295,U=T+(G<<9&4294967295|G>>>23),G=R+(T^I&(U^T))+Y[11]+643717713&4294967295,R=U+(G<<14&4294967295|G>>>18),G=I+(U^T&(R^U))+Y[0]+3921069994&4294967295,I=R+(G<<20&4294967295|G>>>12),G=T+(R^U&(I^R))+Y[5]+3593408605&4294967295,T=I+(G<<5&4294967295|G>>>27),G=U+(I^R&(T^I))+Y[10]+38016083&4294967295,U=T+(G<<9&4294967295|G>>>23),G=R+(T^I&(U^T))+Y[15]+3634488961&4294967295,R=U+(G<<14&4294967295|G>>>18),G=I+(U^T&(R^U))+Y[4]+3889429448&4294967295,I=R+(G<<20&4294967295|G>>>12),G=T+(R^U&(I^R))+Y[9]+568446438&4294967295,T=I+(G<<5&4294967295|G>>>27),G=U+(I^R&(T^I))+Y[14]+3275163606&4294967295,U=T+(G<<9&4294967295|G>>>23),G=R+(T^I&(U^T))+Y[3]+4107603335&4294967295,R=U+(G<<14&4294967295|G>>>18),G=I+(U^T&(R^U))+Y[8]+1163531501&4294967295,I=R+(G<<20&4294967295|G>>>12),G=T+(R^U&(I^R))+Y[13]+2850285829&4294967295,T=I+(G<<5&4294967295|G>>>27),G=U+(I^R&(T^I))+Y[2]+4243563512&4294967295,U=T+(G<<9&4294967295|G>>>23),G=R+(T^I&(U^T))+Y[7]+1735328473&4294967295,R=U+(G<<14&4294967295|G>>>18),G=I+(U^T&(R^U))+Y[12]+2368359562&4294967295,I=R+(G<<20&4294967295|G>>>12),G=T+(I^R^U)+Y[5]+4294588738&4294967295,T=I+(G<<4&4294967295|G>>>28),G=U+(T^I^R)+Y[8]+2272392833&4294967295,U=T+(G<<11&4294967295|G>>>21),G=R+(U^T^I)+Y[11]+1839030562&4294967295,R=U+(G<<16&4294967295|G>>>16),G=I+(R^U^T)+Y[14]+4259657740&4294967295,I=R+(G<<23&4294967295|G>>>9),G=T+(I^R^U)+Y[1]+2763975236&4294967295,T=I+(G<<4&4294967295|G>>>28),G=U+(T^I^R)+Y[4]+1272893353&4294967295,U=T+(G<<11&4294967295|G>>>21),G=R+(U^T^I)+Y[7]+4139469664&4294967295,R=U+(G<<16&4294967295|G>>>16),G=I+(R^U^T)+Y[10]+3200236656&4294967295,I=R+(G<<23&4294967295|G>>>9),G=T+(I^R^U)+Y[13]+681279174&4294967295,T=I+(G<<4&4294967295|G>>>28),G=U+(T^I^R)+Y[0]+3936430074&4294967295,U=T+(G<<11&4294967295|G>>>21),G=R+(U^T^I)+Y[3]+3572445317&4294967295,R=U+(G<<16&4294967295|G>>>16),G=I+(R^U^T)+Y[6]+76029189&4294967295,I=R+(G<<23&4294967295|G>>>9),G=T+(I^R^U)+Y[9]+3654602809&4294967295,T=I+(G<<4&4294967295|G>>>28),G=U+(T^I^R)+Y[12]+3873151461&4294967295,U=T+(G<<11&4294967295|G>>>21),G=R+(U^T^I)+Y[15]+530742520&4294967295,R=U+(G<<16&4294967295|G>>>16),G=I+(R^U^T)+Y[2]+3299628645&4294967295,I=R+(G<<23&4294967295|G>>>9),G=T+(R^(I|~U))+Y[0]+4096336452&4294967295,T=I+(G<<6&4294967295|G>>>26),G=U+(I^(T|~R))+Y[7]+1126891415&4294967295,U=T+(G<<10&4294967295|G>>>22),G=R+(T^(U|~I))+Y[14]+2878612391&4294967295,R=U+(G<<15&4294967295|G>>>17),G=I+(U^(R|~T))+Y[5]+4237533241&4294967295,I=R+(G<<21&4294967295|G>>>11),G=T+(R^(I|~U))+Y[12]+1700485571&4294967295,T=I+(G<<6&4294967295|G>>>26),G=U+(I^(T|~R))+Y[3]+2399980690&4294967295,U=T+(G<<10&4294967295|G>>>22),G=R+(T^(U|~I))+Y[10]+4293915773&4294967295,R=U+(G<<15&4294967295|G>>>17),G=I+(U^(R|~T))+Y[1]+2240044497&4294967295,I=R+(G<<21&4294967295|G>>>11),G=T+(R^(I|~U))+Y[8]+1873313359&4294967295,T=I+(G<<6&4294967295|G>>>26),G=U+(I^(T|~R))+Y[15]+4264355552&4294967295,U=T+(G<<10&4294967295|G>>>22),G=R+(T^(U|~I))+Y[6]+2734768916&4294967295,R=U+(G<<15&4294967295|G>>>17),G=I+(U^(R|~T))+Y[13]+1309151649&4294967295,I=R+(G<<21&4294967295|G>>>11),G=T+(R^(I|~U))+Y[4]+4149444226&4294967295,T=I+(G<<6&4294967295|G>>>26),G=U+(I^(T|~R))+Y[11]+3174756917&4294967295,U=T+(G<<10&4294967295|G>>>22),G=R+(T^(U|~I))+Y[2]+718787259&4294967295,R=U+(G<<15&4294967295|G>>>17),G=I+(U^(R|~T))+Y[9]+3951481745&4294967295,j.g[0]=j.g[0]+T&4294967295,j.g[1]=j.g[1]+(R+(G<<21&4294967295|G>>>11))&4294967295,j.g[2]=j.g[2]+R&4294967295,j.g[3]=j.g[3]+U&4294967295}i.prototype.u=function(j,T){T===void 0&&(T=j.length);for(var I=T-this.blockSize,Y=this.B,R=this.h,U=0;U<T;){if(R==0)for(;U<=I;)s(this,j,U),U+=this.blockSize;if(typeof j=="string"){for(;U<T;)if(Y[R++]=j.charCodeAt(U++),R==this.blockSize){s(this,Y),R=0;break}}else for(;U<T;)if(Y[R++]=j[U++],R==this.blockSize){s(this,Y),R=0;break}}this.h=R,this.o+=T},i.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var T=1;T<j.length-8;++T)j[T]=0;var I=8*this.o;for(T=j.length-8;T<j.length;++T)j[T]=I&255,I/=256;for(this.u(j),j=Array(16),T=I=0;4>T;++T)for(var Y=0;32>Y;Y+=8)j[I++]=this.g[T]>>>Y&255;return j};function o(j,T){var I=m;return Object.prototype.hasOwnProperty.call(I,j)?I[j]:I[j]=T(j)}function c(j,T){this.h=T;for(var I=[],Y=!0,R=j.length-1;0<=R;R--){var U=j[R]|0;Y&&U==T||(I[R]=U,Y=!1)}this.g=I}var m={};function _(j){return-128<=j&&128>j?o(j,function(T){return new c([T|0],0>T?-1:0)}):new c([j|0],0>j?-1:0)}function h(j){if(isNaN(j)||!isFinite(j))return f;if(0>j)return A(h(-j));for(var T=[],I=1,Y=0;j>=I;Y++)T[Y]=j/I|0,I*=4294967296;return new c(T,0)}function d(j,T){if(j.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(j.charAt(0)=="-")return A(d(j.substring(1),T));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=h(Math.pow(T,8)),Y=f,R=0;R<j.length;R+=8){var U=Math.min(8,j.length-R),G=parseInt(j.substring(R,R+U),T);8>U?(U=h(Math.pow(T,U)),Y=Y.j(U).add(h(G))):(Y=Y.j(I),Y=Y.add(h(G)))}return Y}var f=_(0),b=_(1),y=_(16777216);t=c.prototype,t.m=function(){if(v(this))return-A(this).m();for(var j=0,T=1,I=0;I<this.g.length;I++){var Y=this.i(I);j+=(0<=Y?Y:4294967296+Y)*T,T*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(p(this))return"0";if(v(this))return"-"+A(this).toString(j);for(var T=h(Math.pow(j,6)),I=this,Y="";;){var R=Q(I,T).g;I=w(I,R.j(T));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(j);if(I=R,p(I))return U+Y;for(;6>U.length;)U="0"+U;Y=U+Y}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function p(j){if(j.h!=0)return!1;for(var T=0;T<j.g.length;T++)if(j.g[T]!=0)return!1;return!0}function v(j){return j.h==-1}t.l=function(j){return j=w(this,j),v(j)?-1:p(j)?0:1};function A(j){for(var T=j.g.length,I=[],Y=0;Y<T;Y++)I[Y]=~j.g[Y];return new c(I,~j.h).add(b)}t.abs=function(){return v(this)?A(this):this},t.add=function(j){for(var T=Math.max(this.g.length,j.g.length),I=[],Y=0,R=0;R<=T;R++){var U=Y+(this.i(R)&65535)+(j.i(R)&65535),G=(U>>>16)+(this.i(R)>>>16)+(j.i(R)>>>16);Y=G>>>16,U&=65535,G&=65535,I[R]=G<<16|U}return new c(I,I[I.length-1]&-2147483648?-1:0)};function w(j,T){return j.add(A(T))}t.j=function(j){if(p(this)||p(j))return f;if(v(this))return v(j)?A(this).j(A(j)):A(A(this).j(j));if(v(j))return A(this.j(A(j)));if(0>this.l(y)&&0>j.l(y))return h(this.m()*j.m());for(var T=this.g.length+j.g.length,I=[],Y=0;Y<2*T;Y++)I[Y]=0;for(Y=0;Y<this.g.length;Y++)for(var R=0;R<j.g.length;R++){var U=this.i(Y)>>>16,G=this.i(Y)&65535,ue=j.i(R)>>>16,he=j.i(R)&65535;I[2*Y+2*R]+=G*he,P(I,2*Y+2*R),I[2*Y+2*R+1]+=U*he,P(I,2*Y+2*R+1),I[2*Y+2*R+1]+=G*ue,P(I,2*Y+2*R+1),I[2*Y+2*R+2]+=U*ue,P(I,2*Y+2*R+2)}for(Y=0;Y<T;Y++)I[Y]=I[2*Y+1]<<16|I[2*Y];for(Y=T;Y<2*T;Y++)I[Y]=0;return new c(I,0)};function P(j,T){for(;(j[T]&65535)!=j[T];)j[T+1]+=j[T]>>>16,j[T]&=65535,T++}function Z(j,T){this.g=j,this.h=T}function Q(j,T){if(p(T))throw Error("division by zero");if(p(j))return new Z(f,f);if(v(j))return T=Q(A(j),T),new Z(A(T.g),A(T.h));if(v(T))return T=Q(j,A(T)),new Z(A(T.g),T.h);if(30<j.g.length){if(v(j)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var I=b,Y=T;0>=Y.l(j);)I=z(I),Y=z(Y);var R=K(I,1),U=K(Y,1);for(Y=K(Y,2),I=K(I,2);!p(Y);){var G=U.add(Y);0>=G.l(j)&&(R=R.add(I),U=G),Y=K(Y,1),I=K(I,1)}return T=w(j,R.j(T)),new Z(R,T)}for(R=f;0<=j.l(T);){for(I=Math.max(1,Math.floor(j.m()/T.m())),Y=Math.ceil(Math.log(I)/Math.LN2),Y=48>=Y?1:Math.pow(2,Y-48),U=h(I),G=U.j(T);v(G)||0<G.l(j);)I-=Y,U=h(I),G=U.j(T);p(U)&&(U=b),R=R.add(U),j=w(j,G)}return new Z(R,j)}t.A=function(j){return Q(this,j).h},t.and=function(j){for(var T=Math.max(this.g.length,j.g.length),I=[],Y=0;Y<T;Y++)I[Y]=this.i(Y)&j.i(Y);return new c(I,this.h&j.h)},t.or=function(j){for(var T=Math.max(this.g.length,j.g.length),I=[],Y=0;Y<T;Y++)I[Y]=this.i(Y)|j.i(Y);return new c(I,this.h|j.h)},t.xor=function(j){for(var T=Math.max(this.g.length,j.g.length),I=[],Y=0;Y<T;Y++)I[Y]=this.i(Y)^j.i(Y);return new c(I,this.h^j.h)};function z(j){for(var T=j.g.length+1,I=[],Y=0;Y<T;Y++)I[Y]=j.i(Y)<<1|j.i(Y-1)>>>31;return new c(I,j.h)}function K(j,T){var I=T>>5;T%=32;for(var Y=j.g.length-I,R=[],U=0;U<Y;U++)R[U]=0<T?j.i(U+I)>>>T|j.i(U+I+1)<<32-T:j.i(U+I);return new c(R,j.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=d,Integer=c}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,V,ie){return g==Array.prototype||g==Object.prototype||(g[V]=ie.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var V=0;V<g.length;++V){var ie=g[V];if(ie&&ie.Math==Math)return ie}throw Error("Cannot find global object")}var i=n(this);function s(g,V){if(V)e:{var ie=i;g=g.split(".");for(var pe=0;pe<g.length-1;pe++){var Se=g[pe];if(!(Se in ie))break e;ie=ie[Se]}g=g[g.length-1],pe=ie[g],V=V(pe),V!=pe&&V!=null&&e(ie,g,{configurable:!0,writable:!0,value:V})}}function o(g,V){g instanceof String&&(g+="");var ie=0,pe=!1,Se={next:function(){if(!pe&&ie<g.length){var Fe=ie++;return{value:V(Fe,g[Fe]),done:!1}}return pe=!0,{done:!0,value:void 0}}};return Se[Symbol.iterator]=function(){return Se},Se}s("Array.prototype.values",function(g){return g||function(){return o(this,function(V,ie){return ie})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},m=this||self;function _(g){var V=typeof g;return V=V!="object"?V:g?Array.isArray(g)?"array":V:"null",V=="array"||V=="object"&&typeof g.length=="number"}function h(g){var V=typeof g;return V=="object"&&g!=null||V=="function"}function d(g,V,ie){return g.call.apply(g.bind,arguments)}function f(g,V,ie){if(!g)throw Error();if(2<arguments.length){var pe=Array.prototype.slice.call(arguments,2);return function(){var Se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Se,pe),g.apply(V,Se)}}return function(){return g.apply(V,arguments)}}function b(g,V,ie){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,b.apply(null,arguments)}function y(g,V){var ie=Array.prototype.slice.call(arguments,1);return function(){var pe=ie.slice();return pe.push.apply(pe,arguments),g.apply(this,pe)}}function p(g,V){function ie(){}ie.prototype=V.prototype,g.aa=V.prototype,g.prototype=new ie,g.prototype.constructor=g,g.Qb=function(pe,Se,Fe){for(var Ze=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)Ze[Lt-2]=arguments[Lt];return V.prototype[Se].apply(pe,Ze)}}function v(g){const V=g.length;if(0<V){const ie=Array(V);for(let pe=0;pe<V;pe++)ie[pe]=g[pe];return ie}return[]}function A(g,V){for(let ie=1;ie<arguments.length;ie++){const pe=arguments[ie];if(_(pe)){const Se=g.length||0,Fe=pe.length||0;g.length=Se+Fe;for(let Ze=0;Ze<Fe;Ze++)g[Se+Ze]=pe[Ze]}else g.push(pe)}}class w{constructor(V,ie){this.i=V,this.j=ie,this.h=0,this.g=null}get(){let V;return 0<this.h?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}function P(g){return/^[\s\xa0]*$/.test(g)}function Z(){var g=m.navigator;return g&&(g=g.userAgent)?g:""}function Q(g){return Q[" "](g),g}Q[" "]=function(){};var z=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function K(g,V,ie){for(const pe in g)V.call(ie,g[pe],pe,g)}function j(g,V){for(const ie in g)V.call(void 0,g[ie],ie,g)}function T(g){const V={};for(const ie in g)V[ie]=g[ie];return V}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(g,V){let ie,pe;for(let Se=1;Se<arguments.length;Se++){pe=arguments[Se];for(ie in pe)g[ie]=pe[ie];for(let Fe=0;Fe<I.length;Fe++)ie=I[Fe],Object.prototype.hasOwnProperty.call(pe,ie)&&(g[ie]=pe[ie])}}function R(g){var V=1;g=g.split(":");const ie=[];for(;0<V&&g.length;)ie.push(g.shift()),V--;return g.length&&ie.push(g.join(":")),ie}function U(g){m.setTimeout(()=>{throw g},0)}function G(){var g=$;let V=null;return g.g&&(V=g.g,g.g=g.g.next,g.g||(g.h=null),V.next=null),V}class ue{constructor(){this.h=this.g=null}add(V,ie){const pe=he.get();pe.set(V,ie),this.h?this.h.next=pe:this.g=pe,this.h=pe}}var he=new w(()=>new se,g=>g.reset());class se{constructor(){this.next=this.g=this.h=null}set(V,ie){this.h=V,this.g=ie,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,W=!1,$=new ue,S=()=>{const g=m.Promise.resolve(void 0);ee=()=>{g.then(J)}};var J=()=>{for(var g;g=G();){try{g.h.call(g.g)}catch(ie){U(ie)}var V=he;V.j(g),100>V.h&&(V.h++,g.next=V.g,V.g=g)}W=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(g,V){this.type=g,this.g=this.target=V,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var g=!1,V=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const ie=()=>{};m.addEventListener("test",ie,V),m.removeEventListener("test",ie,V)}catch{}return g}();function ce(g,V){if(D.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var ie=this.type=g.type,pe=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=V,V=g.relatedTarget){if(z){e:{try{Q(V.nodeName);var Se=!0;break e}catch{}Se=!1}Se||(V=null)}}else ie=="mouseover"?V=g.fromElement:ie=="mouseout"&&(V=g.toElement);this.relatedTarget=V,pe?(this.clientX=pe.clientX!==void 0?pe.clientX:pe.pageX,this.clientY=pe.clientY!==void 0?pe.clientY:pe.pageY,this.screenX=pe.screenX||0,this.screenY=pe.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:H[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&ce.aa.h.call(this)}}p(ce,D);var H={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),oe=0;function me(g,V,ie,pe,Se){this.listener=g,this.proxy=null,this.src=V,this.type=ie,this.capture=!!pe,this.ha=Se,this.key=++oe,this.da=this.fa=!1}function ve(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ye(g){this.src=g,this.g={},this.h=0}ye.prototype.add=function(g,V,ie,pe,Se){var Fe=g.toString();g=this.g[Fe],g||(g=this.g[Fe]=[],this.h++);var Ze=je(g,V,pe,Se);return-1<Ze?(V=g[Ze],ie||(V.fa=!1)):(V=new me(V,this.src,Fe,!!pe,Se),V.fa=ie,g.push(V)),V};function xe(g,V){var ie=V.type;if(ie in g.g){var pe=g.g[ie],Se=Array.prototype.indexOf.call(pe,V,void 0),Fe;(Fe=0<=Se)&&Array.prototype.splice.call(pe,Se,1),Fe&&(ve(V),g.g[ie].length==0&&(delete g.g[ie],g.h--))}}function je(g,V,ie,pe){for(var Se=0;Se<g.length;++Se){var Fe=g[Se];if(!Fe.da&&Fe.listener==V&&Fe.capture==!!ie&&Fe.ha==pe)return Se}return-1}var Je="closure_lm_"+(1e6*Math.random()|0),Le={};function qe(g,V,ie,pe,Se){if(Array.isArray(V)){for(var Fe=0;Fe<V.length;Fe++)qe(g,V[Fe],ie,pe,Se);return null}return ie=Pt(ie),g&&g[ne]?g.K(V,ie,h(pe)?!!pe.capture:!1,Se):ze(g,V,ie,!1,pe,Se)}function ze(g,V,ie,pe,Se,Fe){if(!V)throw Error("Invalid event type");var Ze=h(Se)?!!Se.capture:!!Se,Lt=pt(g);if(Lt||(g[Je]=Lt=new ye(g)),ie=Lt.add(V,ie,pe,Ze,Fe),ie.proxy)return ie;if(pe=ke(),ie.proxy=pe,pe.src=g,pe.listener=ie,g.addEventListener)de||(Se=Ze),Se===void 0&&(Se=!1),g.addEventListener(V.toString(),pe,Se);else if(g.attachEvent)g.attachEvent(Xe(V.toString()),pe);else if(g.addListener&&g.removeListener)g.addListener(pe);else throw Error("addEventListener and attachEvent are unavailable.");return ie}function ke(){function g(ie){return V.call(g.src,g.listener,ie)}const V=rt;return g}function De(g,V,ie,pe,Se){if(Array.isArray(V))for(var Fe=0;Fe<V.length;Fe++)De(g,V[Fe],ie,pe,Se);else pe=h(pe)?!!pe.capture:!!pe,ie=Pt(ie),g&&g[ne]?(g=g.i,V=String(V).toString(),V in g.g&&(Fe=g.g[V],ie=je(Fe,ie,pe,Se),-1<ie&&(ve(Fe[ie]),Array.prototype.splice.call(Fe,ie,1),Fe.length==0&&(delete g.g[V],g.h--)))):g&&(g=pt(g))&&(V=g.g[V.toString()],g=-1,V&&(g=je(V,ie,pe,Se)),(ie=-1<g?V[g]:null)&&tt(ie))}function tt(g){if(typeof g!="number"&&g&&!g.da){var V=g.src;if(V&&V[ne])xe(V.i,g);else{var ie=g.type,pe=g.proxy;V.removeEventListener?V.removeEventListener(ie,pe,g.capture):V.detachEvent?V.detachEvent(Xe(ie),pe):V.addListener&&V.removeListener&&V.removeListener(pe),(ie=pt(V))?(xe(ie,g),ie.h==0&&(ie.src=null,V[Je]=null)):ve(g)}}}function Xe(g){return g in Le?Le[g]:Le[g]="on"+g}function rt(g,V){if(g.da)g=!0;else{V=new ce(V,this);var ie=g.listener,pe=g.ha||g.src;g.fa&&tt(g),g=ie.call(pe,V)}return g}function pt(g){return g=g[Je],g instanceof ye?g:null}var vt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pt(g){return typeof g=="function"?g:(g[vt]||(g[vt]=function(V){return g.handleEvent(V)}),g[vt])}function Be(){ae.call(this),this.i=new ye(this),this.M=this,this.F=null}p(Be,ae),Be.prototype[ne]=!0,Be.prototype.removeEventListener=function(g,V,ie,pe){De(this,g,V,ie,pe)};function Ve(g,V){var ie,pe=g.F;if(pe)for(ie=[];pe;pe=pe.F)ie.push(pe);if(g=g.M,pe=V.type||V,typeof V=="string")V=new D(V,g);else if(V instanceof D)V.target=V.target||g;else{var Se=V;V=new D(pe,g),Y(V,Se)}if(Se=!0,ie)for(var Fe=ie.length-1;0<=Fe;Fe--){var Ze=V.g=ie[Fe];Se=mt(Ze,pe,!0,V)&&Se}if(Ze=V.g=g,Se=mt(Ze,pe,!0,V)&&Se,Se=mt(Ze,pe,!1,V)&&Se,ie)for(Fe=0;Fe<ie.length;Fe++)Ze=V.g=ie[Fe],Se=mt(Ze,pe,!1,V)&&Se}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var g=this.i,V;for(V in g.g){for(var ie=g.g[V],pe=0;pe<ie.length;pe++)ve(ie[pe]);delete g.g[V],g.h--}}this.F=null},Be.prototype.K=function(g,V,ie,pe){return this.i.add(String(g),V,!1,ie,pe)},Be.prototype.L=function(g,V,ie,pe){return this.i.add(String(g),V,!0,ie,pe)};function mt(g,V,ie,pe){if(V=g.i.g[String(V)],!V)return!0;V=V.concat();for(var Se=!0,Fe=0;Fe<V.length;++Fe){var Ze=V[Fe];if(Ze&&!Ze.da&&Ze.capture==ie){var Lt=Ze.listener,Bt=Ze.ha||Ze.src;Ze.fa&&xe(g.i,Ze),Se=Lt.call(Bt,pe)!==!1&&Se}}return Se&&!pe.defaultPrevented}function ht(g,V,ie){if(typeof g=="function")ie&&(g=b(g,ie));else if(g&&typeof g.handleEvent=="function")g=b(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(V)?-1:m.setTimeout(g,V||0)}function wt(g){g.g=ht(()=>{g.g=null,g.i&&(g.i=!1,wt(g))},g.l);const V=g.h;g.h=null,g.m.apply(null,V)}class Ut extends ae{constructor(V,ie){super(),this.m=V,this.l=ie,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:wt(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gn(g){ae.call(this),this.h=g,this.g={}}p(gn,ae);var Gt=[];function et(g){K(g.g,function(V,ie){this.g.hasOwnProperty(ie)&&tt(V)},g),g.g={}}gn.prototype.N=function(){gn.aa.N.call(this),et(this)},gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pe=m.JSON.stringify,Te=m.JSON.parse,ct=class{stringify(g){return m.JSON.stringify(g,void 0)}parse(g){return m.JSON.parse(g,void 0)}};function zt(){}zt.prototype.h=null;function It(g){return g.h||(g.h=g.i())}function Wt(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vn(){D.call(this,"d")}p(Vn,D);function cr(){D.call(this,"c")}p(cr,D);var Cn={},fr=null;function Qn(){return fr=fr||new Be}Cn.La="serverreachability";function yr(g){D.call(this,Cn.La,g)}p(yr,D);function yn(g){const V=Qn();Ve(V,new yr(V))}Cn.STAT_EVENT="statevent";function Mr(g,V){D.call(this,Cn.STAT_EVENT,g),this.stat=V}p(Mr,D);function vn(g){const V=Qn();Ve(V,new Mr(V,g))}Cn.Ma="timingevent";function zn(g,V){D.call(this,Cn.Ma,g),this.size=V}p(zn,D);function jn(g,V){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){g()},V)}function rr(){this.g=!0}rr.prototype.xa=function(){this.g=!1};function Jn(g,V,ie,pe,Se,Fe){g.info(function(){if(g.g)if(Fe)for(var Ze="",Lt=Fe.split("&"),Bt=0;Bt<Lt.length;Bt++){var qt=Lt[Bt].split("=");if(1<qt.length){var wn=qt[0];qt=qt[1];var St=wn.split("_");Ze=2<=St.length&&St[1]=="type"?Ze+(wn+"="+qt+"&"):Ze+(wn+"=redacted&")}}else Ze=null;else Ze=Fe;return"XMLHTTP REQ ("+pe+") [attempt "+Se+"]: "+V+`
`+ie+`
`+Ze})}function ui(g,V,ie,pe,Se,Fe,Ze){g.info(function(){return"XMLHTTP RESP ("+pe+") [ attempt "+Se+"]: "+V+`
`+ie+`
`+Fe+" "+Ze})}function Dr(g,V,ie,pe){g.info(function(){return"XMLHTTP TEXT ("+V+"): "+Oi(g,ie)+(pe?" "+pe:"")})}function ls(g,V){g.info(function(){return"TIMEOUT: "+V})}rr.prototype.info=function(){};function Oi(g,V){if(!g.g)return V;if(!V)return null;try{var ie=JSON.parse(V);if(ie){for(g=0;g<ie.length;g++)if(Array.isArray(ie[g])){var pe=ie[g];if(!(2>pe.length)){var Se=pe[1];if(Array.isArray(Se)&&!(1>Se.length)){var Fe=Se[0];if(Fe!="noop"&&Fe!="stop"&&Fe!="close")for(var Ze=1;Ze<Se.length;Ze++)Se[Ze]=""}}}}return Pe(ie)}catch{return V}}var ji={NO_ERROR:0,TIMEOUT:8},_i={},ni;function ri(){}p(ri,zt),ri.prototype.g=function(){return new XMLHttpRequest},ri.prototype.i=function(){return{}},ni=new ri;function Er(g,V,ie,pe){this.j=g,this.i=V,this.l=ie,this.R=pe||1,this.U=new gn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var Ua={},oa={};function Hr(g,V,ie){g.L=1,g.v=wi(Tr(V)),g.m=ie,g.P=!0,di(g,null)}function di(g,V){g.F=Date.now(),Di(g),g.A=Tr(g.v);var ie=g.A,pe=g.R;Array.isArray(pe)||(pe=[String(pe)]),ha(ie.i,"t",pe),g.C=0,ie=g.j.J,g.h=new Zn,g.g=mr(g.j,ie?V:null,!g.m),0<g.O&&(g.M=new Ut(b(g.Y,g,g.g),g.O)),V=g.U,ie=g.g,pe=g.ca;var Se="readystatechange";Array.isArray(Se)||(Se&&(Gt[0]=Se.toString()),Se=Gt);for(var Fe=0;Fe<Se.length;Fe++){var Ze=qe(ie,Se[Fe],pe||V.handleEvent,!1,V.h||V);if(!Ze)break;V.g[Ze.key]=Ze}V=g.H?T(g.H):{},g.m?(g.u||(g.u="POST"),V["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,V)):(g.u="GET",g.g.ea(g.A,g.u,null,V)),yn(),Jn(g.i,g.u,g.A,g.l,g.R,g.m)}Er.prototype.ca=function(g){g=g.target;const V=this.M;V&&jt(g)==3?V.j():this.Y(g)},Er.prototype.Y=function(g){try{if(g==this.g)e:{const St=jt(this.g);var V=this.g.Ba();const Ln=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Et(this.g)))){this.J||St!=4||V==7||(V==8||0>=Ln?yn(3):yn(2)),Ei(this);var ie=this.g.Z();this.X=ie;t:if(cs(this)){var pe=Et(this.g);g="";var Se=pe.length,Fe=jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pr(this),ii(this);var Ze="";break t}this.h.i=new m.TextDecoder}for(V=0;V<Se;V++)this.h.h=!0,g+=this.h.i.decode(pe[V],{stream:!(Fe&&V==Se-1)});pe.length=0,this.h.g+=g,this.C=0,Ze=this.h.g}else Ze=this.g.oa();if(this.o=ie==200,ui(this.i,this.u,this.A,this.l,this.R,St,ie),this.o){if(this.T&&!this.K){t:{if(this.g){var Lt,Bt=this.g;if((Lt=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Lt)){var qt=Lt;break t}}qt=null}if(ie=qt)Dr(this.i,this.l,ie,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fi(this,ie);else{this.o=!1,this.s=3,vn(12),pr(this),ii(this);break e}}if(this.P){ie=!0;let Jt;for(;!this.J&&this.C<Ze.length;)if(Jt=us(this,Ze),Jt==oa){St==4&&(this.s=4,vn(14),ie=!1),Dr(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Ua){this.s=4,vn(15),Dr(this.i,this.l,Ze,"[Invalid Chunk]"),ie=!1;break}else Dr(this.i,this.l,Jt,null),Fi(this,Jt);if(cs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||Ze.length!=0||this.h.h||(this.s=1,vn(16),ie=!1),this.o=this.o&&ie,!ie)Dr(this.i,this.l,Ze,"[Invalid Chunked Response]"),pr(this),ii(this);else if(0<Ze.length&&!this.W){this.W=!0;var wn=this.j;wn.g==this&&wn.ba&&!wn.M&&(wn.j.info("Great, no buffering proxy detected. Bytes received: "+Ze.length),Sn(wn),wn.M=!0,vn(11))}}else Dr(this.i,this.l,Ze,null),Fi(this,Ze);St==4&&pr(this),this.o&&!this.J&&(St==4?In(this.j,this):(this.o=!1,Di(this)))}else At(this.g),ie==400&&0<Ze.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),pr(this),ii(this)}}}catch{}finally{}};function cs(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function us(g,V){var ie=g.C,pe=V.indexOf(`
`,ie);return pe==-1?oa:(ie=Number(V.substring(ie,pe)),isNaN(ie)?Ua:(pe+=1,pe+ie>V.length?oa:(V=V.slice(pe,pe+ie),g.C=pe+ie,V)))}Er.prototype.cancel=function(){this.J=!0,pr(this)};function Di(g){g.S=Date.now()+g.I,Li(g,g.I)}function Li(g,V){if(g.B!=null)throw Error("WatchDog timer not null");g.B=jn(b(g.ba,g),V)}function Ei(g){g.B&&(m.clearTimeout(g.B),g.B=null)}Er.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(ls(this.i,this.A),this.L!=2&&(yn(),vn(17)),pr(this),this.s=2,ii(this)):Li(this,this.S-g)};function ii(g){g.j.G==0||g.J||In(g.j,g)}function pr(g){Ei(g);var V=g.M;V&&typeof V.ma=="function"&&V.ma(),g.M=null,et(g.U),g.g&&(V=g.g,g.g=null,V.abort(),V.ma())}function Fi(g,V){try{var ie=g.j;if(ie.G!=0&&(ie.g==g||la(ie.h,g))){if(!g.K&&la(ie.h,g)&&ie.G==3){try{var pe=ie.Da.g.parse(V)}catch{pe=null}if(Array.isArray(pe)&&pe.length==3){var Se=pe;if(Se[0]==0){e:if(!ie.u){if(ie.g)if(ie.g.F+3e3<g.F)Pn(ie),Ct(ie);else break e;Hn(ie),vn(18)}}else ie.za=Se[1],0<ie.za-ie.T&&37500>Se[2]&&ie.F&&ie.v==0&&!ie.C&&(ie.C=jn(b(ie.Za,ie),6e3));if(1>=Bi(ie.h)&&ie.ca){try{ie.ca()}catch{}ie.ca=void 0}}else ur(ie,11)}else if((g.K||ie.g==g)&&Pn(ie),!P(V))for(Se=ie.Da.g.parse(V),V=0;V<Se.length;V++){let qt=Se[V];if(ie.T=qt[0],qt=qt[1],ie.G==2)if(qt[0]=="c"){ie.K=qt[1],ie.ia=qt[2];const wn=qt[3];wn!=null&&(ie.la=wn,ie.j.info("VER="+ie.la));const St=qt[4];St!=null&&(ie.Aa=St,ie.j.info("SVER="+ie.Aa));const Ln=qt[5];Ln!=null&&typeof Ln=="number"&&0<Ln&&(pe=1.5*Ln,ie.L=pe,ie.j.info("backChannelRequestTimeoutMs_="+pe)),pe=ie;const Jt=g.g;if(Jt){const hn=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hn){var Fe=pe.h;Fe.g||hn.indexOf("spdy")==-1&&hn.indexOf("quic")==-1&&hn.indexOf("h2")==-1||(Fe.j=Fe.l,Fe.g=new Set,Fe.h&&(ca(Fe,Fe.h),Fe.h=null))}if(pe.D){const Mn=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Mn&&(pe.ya=Mn,kn(pe.I,pe.D,Mn))}}ie.G=3,ie.l&&ie.l.ua(),ie.ba&&(ie.R=Date.now()-g.F,ie.j.info("Handshake RTT: "+ie.R+"ms")),pe=ie;var Ze=g;if(pe.qa=Yn(pe,pe.J?pe.ia:null,pe.W),Ze.K){sr(pe.h,Ze);var Lt=Ze,Bt=pe.L;Bt&&(Lt.I=Bt),Lt.B&&(Ei(Lt),Di(Lt)),pe.g=Ze}else En(pe);0<ie.i.length&&Qt(ie)}else qt[0]!="stop"&&qt[0]!="close"||ur(ie,7);else ie.G==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?ur(ie,7):Dt(ie):qt[0]!="noop"&&ie.l&&ie.l.ta(qt),ie.v=0)}}yn(4)}catch{}}var ds=class{constructor(g,V){this.g=g,this.map=V}};function hi(g){this.l=g||10,m.PerformanceNavigationTiming?(g=m.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fi(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Bi(g){return g.h?1:g.g?g.g.size:0}function la(g,V){return g.h?g.h==V:g.g?g.g.has(V):!1}function ca(g,V){g.g?g.g.add(V):g.h=V}function sr(g,V){g.h&&g.h==V?g.h=null:g.g&&g.g.has(V)&&g.g.delete(V)}hi.prototype.cancel=function(){if(this.i=za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function za(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let V=g.i;for(const ie of g.g.values())V=V.concat(ie.D);return V}return v(g.i)}function Us(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(_(g)){for(var V=[],ie=g.length,pe=0;pe<ie;pe++)V.push(g[pe]);return V}V=[],ie=0;for(pe in g)V[ie++]=g[pe];return V}function ua(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(_(g)||typeof g=="string"){var V=[];g=g.length;for(var ie=0;ie<g;ie++)V.push(ie);return V}V=[],ie=0;for(const pe in g)V[ie++]=pe;return V}}}function Ui(g,V){if(g.forEach&&typeof g.forEach=="function")g.forEach(V,void 0);else if(_(g)||typeof g=="string")Array.prototype.forEach.call(g,V,void 0);else for(var ie=ua(g),pe=Us(g),Se=pe.length,Fe=0;Fe<Se;Fe++)V.call(void 0,pe[Fe],ie&&ie[Fe],g)}var zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zs(g,V){if(g){g=g.split("&");for(var ie=0;ie<g.length;ie++){var pe=g[ie].indexOf("="),Se=null;if(0<=pe){var Fe=g[ie].substring(0,pe);Se=g[ie].substring(pe+1)}else Fe=g[ie];V(Fe,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}function er(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof er){this.h=g.h,qi(this,g.j),this.o=g.o,this.g=g.g,Si(this,g.s),this.l=g.l;var V=g.i,ie=new pi;ie.i=V.i,V.g&&(ie.g=new Map(V.g),ie.h=V.h),$r(this,ie),this.m=g.m}else g&&(V=String(g).match(zi))?(this.h=!1,qi(this,V[1]||"",!0),this.o=Ir(V[2]||""),this.g=Ir(V[3]||"",!0),Si(this,V[4]),this.l=Ir(V[5]||"",!0),$r(this,V[6]||"",!0),this.m=Ir(V[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}er.prototype.toString=function(){var g=[],V=this.j;V&&g.push(Hi(V,qa,!0),":");var ie=this.g;return(ie||V=="file")&&(g.push("//"),(V=this.o)&&g.push(Hi(V,qa,!0),"@"),g.push(encodeURIComponent(String(ie)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ie=this.s,ie!=null&&g.push(":",String(ie))),(ie=this.l)&&(this.g&&ie.charAt(0)!="/"&&g.push("/"),g.push(Hi(ie,ie.charAt(0)=="/"?Ai:Ha,!0))),(ie=this.i.toString())&&g.push("?",ie),(ie=this.m)&&g.push("#",Hi(ie,$i)),g.join("")};function Tr(g){return new er(g)}function qi(g,V,ie){g.j=ie?Ir(V,!0):V,g.j&&(g.j=g.j.replace(/:$/,""))}function Si(g,V){if(V){if(V=Number(V),isNaN(V)||0>V)throw Error("Bad port number "+V);g.s=V}else g.s=null}function $r(g,V,ie){V instanceof pi?(g.i=V,fa(g.i,g.h)):(ie||(V=Hi(V,qs)),g.i=new pi(V,g.h))}function kn(g,V,ie){g.i.set(V,ie)}function wi(g){return kn(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Ir(g,V){return g?V?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Hi(g,V,ie){return typeof g=="string"?(g=encodeURI(g).replace(V,da),ie&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function da(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var qa=/[#\/\?@]/g,Ha=/[#\?:]/g,Ai=/[#\?]/g,qs=/[#\?@]/g,$i=/#/g;function pi(g,V){this.h=this.g=null,this.i=g||null,this.j=!!V}function Sr(g){g.g||(g.g=new Map,g.h=0,g.i&&zs(g.i,function(V,ie){g.add(decodeURIComponent(V.replace(/\+/g," ")),ie)}))}t=pi.prototype,t.add=function(g,V){Sr(this),this.i=null,g=Gr(this,g);var ie=this.g.get(g);return ie||this.g.set(g,ie=[]),ie.push(V),this.h+=1,this};function Vr(g,V){Sr(g),V=Gr(g,V),g.g.has(V)&&(g.i=null,g.h-=g.g.get(V).length,g.g.delete(V))}function mi(g,V){return Sr(g),V=Gr(g,V),g.g.has(V)}t.forEach=function(g,V){Sr(this),this.g.forEach(function(ie,pe){ie.forEach(function(Se){g.call(V,Se,pe,this)},this)},this)},t.na=function(){Sr(this);const g=Array.from(this.g.values()),V=Array.from(this.g.keys()),ie=[];for(let pe=0;pe<V.length;pe++){const Se=g[pe];for(let Fe=0;Fe<Se.length;Fe++)ie.push(V[pe])}return ie},t.V=function(g){Sr(this);let V=[];if(typeof g=="string")mi(this,g)&&(V=V.concat(this.g.get(Gr(this,g))));else{g=Array.from(this.g.values());for(let ie=0;ie<g.length;ie++)V=V.concat(g[ie])}return V},t.set=function(g,V){return Sr(this),this.i=null,g=Gr(this,g),mi(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[V]),this.h+=1,this},t.get=function(g,V){return g?(g=this.V(g),0<g.length?String(g[0]):V):V};function ha(g,V,ie){Vr(g,V),0<ie.length&&(g.i=null,g.g.set(Gr(g,V),v(ie)),g.h+=ie.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],V=Array.from(this.g.keys());for(var ie=0;ie<V.length;ie++){var pe=V[ie];const Fe=encodeURIComponent(String(pe)),Ze=this.V(pe);for(pe=0;pe<Ze.length;pe++){var Se=Fe;Ze[pe]!==""&&(Se+="="+encodeURIComponent(String(Ze[pe]))),g.push(Se)}}return this.i=g.join("&")};function Gr(g,V){return V=String(V),g.j&&(V=V.toLowerCase()),V}function fa(g,V){V&&!g.j&&(Sr(g),g.i=null,g.g.forEach(function(ie,pe){var Se=pe.toLowerCase();pe!=Se&&(Vr(this,pe),ha(this,Se,ie))},g)),g.j=V}function Vi(g,V){const ie=new rr;if(m.Image){const pe=new Image;pe.onload=y(Lr,ie,"TestLoadImage: loaded",!0,V,pe),pe.onerror=y(Lr,ie,"TestLoadImage: error",!1,V,pe),pe.onabort=y(Lr,ie,"TestLoadImage: abort",!1,V,pe),pe.ontimeout=y(Lr,ie,"TestLoadImage: timeout",!1,V,pe),m.setTimeout(function(){pe.ontimeout&&pe.ontimeout()},1e4),pe.src=g}else V(!1)}function Wr(g,V){const ie=new rr,pe=new AbortController,Se=setTimeout(()=>{pe.abort(),Lr(ie,"TestPingServer: timeout",!1,V)},1e4);fetch(g,{signal:pe.signal}).then(Fe=>{clearTimeout(Se),Fe.ok?Lr(ie,"TestPingServer: ok",!0,V):Lr(ie,"TestPingServer: server error",!1,V)}).catch(()=>{clearTimeout(Se),Lr(ie,"TestPingServer: error",!1,V)})}function Lr(g,V,ie,pe,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),pe(ie)}catch{}}function te(){this.g=new ct}function fe(g,V,ie){const pe=ie||"";try{Ui(g,function(Se,Fe){let Ze=Se;h(Se)&&(Ze=Pe(Se)),V.push(pe+Fe+"="+encodeURIComponent(Ze))})}catch(Se){throw V.push(pe+"type="+encodeURIComponent("_badmap")),Se}}function be(g){this.l=g.Ub||null,this.j=g.eb||!1}p(be,zt),be.prototype.g=function(){return new Ee(this.l,this.j)},be.prototype.i=function(g){return function(){return g}}({});function Ee(g,V){Be.call(this),this.D=g,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(Ee,Be),t=Ee.prototype,t.open=function(g,V){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=V,this.readyState=1,Oe(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const V={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(V.body=g),(this.D||m).fetch(new Request(this.A,V)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Re(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Oe(this)),this.g&&(this.readyState=3,Oe(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;we(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function we(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var V=g.value?g.value:new Uint8Array(0);(V=this.v.decode(V,{stream:!g.done}))&&(this.response=this.responseText+=V)}g.done?Re(this):Oe(this),this.readyState==3&&we(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Re(this))},t.Qa=function(g){this.g&&(this.response=g,Re(this))},t.ga=function(){this.g&&Re(this)};function Re(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Oe(g)}t.setRequestHeader=function(g,V){this.u.append(g,V)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],V=this.h.entries();for(var ie=V.next();!ie.done;)ie=ie.value,g.push(ie[0]+": "+ie[1]),ie=V.next();return g.join(`\r
`)};function Oe(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ee.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Me(g){let V="";return K(g,function(ie,pe){V+=pe,V+=":",V+=ie,V+=`\r
`}),V}function _e(g,V,ie){e:{for(pe in ie){var pe=!1;break e}pe=!0}pe||(ie=Me(ie),typeof g=="string"?ie!=null&&encodeURIComponent(String(ie)):kn(g,V,ie))}function Ce(g){Be.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(Ce,Be);var Ie=/^https?$/i,Ke=["POST","PUT"];t=Ce.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,V,ie,pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);V=V?V.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?It(this.o):It(ni),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(V,String(g),!0),this.B=!1}catch(Fe){Qe(this,Fe);return}if(g=ie||"",ie=new Map(this.headers),pe)if(Object.getPrototypeOf(pe)===Object.prototype)for(var Se in pe)ie.set(Se,pe[Se]);else if(typeof pe.keys=="function"&&typeof pe.get=="function")for(const Fe of pe.keys())ie.set(Fe,pe.get(Fe));else throw Error("Unknown input type for opt_headers: "+String(pe));pe=Array.from(ie.keys()).find(Fe=>Fe.toLowerCase()=="content-type"),Se=m.FormData&&g instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ke,V,void 0))||pe||Se||ie.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Fe,Ze]of ie)this.g.setRequestHeader(Fe,Ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{at(this),this.u=!0,this.g.send(g),this.u=!1}catch(Fe){Qe(this,Fe)}};function Qe(g,V){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=V,g.m=5,Ye(g),st(g)}function Ye(g){g.A||(g.A=!0,Ve(g,"complete"),Ve(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Ve(this,"complete"),Ve(this,"abort"),st(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),st(this,!0)),Ce.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dt(this):this.bb())},t.bb=function(){dt(this)};function dt(g){if(g.h&&typeof c<"u"&&(!g.v[1]||jt(g)!=4||g.Z()!=2)){if(g.u&&jt(g)==4)ht(g.Ea,0,g);else if(Ve(g,"readystatechange"),jt(g)==4){g.h=!1;try{const Ze=g.Z();e:switch(Ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var ie;if(!(ie=V)){var pe;if(pe=Ze===0){var Se=String(g.D).match(zi)[1]||null;!Se&&m.self&&m.self.location&&(Se=m.self.location.protocol.slice(0,-1)),pe=!Ie.test(Se?Se.toLowerCase():"")}ie=pe}if(ie)Ve(g,"complete"),Ve(g,"success");else{g.m=6;try{var Fe=2<jt(g)?g.g.statusText:""}catch{Fe=""}g.l=Fe+" ["+g.Z()+"]",Ye(g)}}finally{st(g)}}}}function st(g,V){if(g.g){at(g);const ie=g.g,pe=g.v[0]?()=>{}:null;g.g=null,g.v=null,V||Ve(g,"ready");try{ie.onreadystatechange=pe}catch{}}}function at(g){g.I&&(m.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function jt(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<jt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var V=this.g.responseText;return g&&V.indexOf(g)==0&&(V=V.substring(g.length)),Te(V)}};function Et(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function At(g){const V={};g=(g.g&&2<=jt(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let pe=0;pe<g.length;pe++){if(P(g[pe]))continue;var ie=R(g[pe]);const Se=ie[0];if(ie=ie[1],typeof ie!="string")continue;ie=ie.trim();const Fe=V[Se]||[];V[Se]=Fe,Fe.push(ie)}j(V,function(pe){return pe.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tt(g,V,ie){return ie&&ie.internalChannelParams&&ie.internalChannelParams[g]||V}function yt(g){this.Aa=0,this.i=[],this.j=new rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tt("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tt("baseRetryDelayMs",5e3,g),this.cb=Tt("retryDelaySeedMs",1e4,g),this.Wa=Tt("forwardChannelMaxRetries",2,g),this.wa=Tt("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(g&&g.concurrentRequestLimit),this.Da=new te,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yt.prototype,t.la=8,t.G=1,t.connect=function(g,V,ie,pe){vn(0),this.W=g,this.H=V||{},ie&&pe!==void 0&&(this.H.OSID=ie,this.H.OAID=pe),this.F=this.X,this.I=Yn(this,null,this.W),Qt(this)};function Dt(g){if(rn(g),g.G==3){var V=g.U++,ie=Tr(g.I);if(kn(ie,"SID",g.K),kn(ie,"RID",V),kn(ie,"TYPE","terminate"),nn(g,ie),V=new Er(g,g.j,V),V.L=2,V.v=wi(Tr(ie)),ie=!1,m.navigator&&m.navigator.sendBeacon)try{ie=m.navigator.sendBeacon(V.v.toString(),"")}catch{}!ie&&m.Image&&(new Image().src=V.v,ie=!0),ie||(V.g=mr(V.j,null),V.g.ea(V.v)),V.F=Date.now(),Di(V)}Cr(g)}function Ct(g){g.g&&(Sn(g),g.g.cancel(),g.g=null)}function rn(g){Ct(g),g.u&&(m.clearTimeout(g.u),g.u=null),Pn(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&m.clearTimeout(g.s),g.s=null)}function Qt(g){if(!fi(g.h)&&!g.s){g.s=!0;var V=g.Ga;ee||S(),W||(ee(),W=!0),$.add(V,g),g.B=0}}function un(g,V){return Bi(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=V.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=jn(b(g.Ga,g,V),tr(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Se=new Er(this,this.j,g);let Fe=this.o;if(this.S&&(Fe?(Fe=T(Fe),Y(Fe,this.S)):Fe=this.S),this.m!==null||this.O||(Se.H=Fe,Fe=null),this.P)e:{for(var V=0,ie=0;ie<this.i.length;ie++){t:{var pe=this.i[ie];if("__data__"in pe.map&&(pe=pe.map.__data__,typeof pe=="string")){pe=pe.length;break t}pe=void 0}if(pe===void 0)break;if(V+=pe,4096<V){V=ie;break e}if(V===4096||ie===this.i.length-1){V=ie+1;break e}}V=1e3}else V=1e3;V=qn(this,Se,V),ie=Tr(this.I),kn(ie,"RID",g),kn(ie,"CVER",22),this.D&&kn(ie,"X-HTTP-Session-Id",this.D),nn(this,ie),Fe&&(this.O?V="headers="+encodeURIComponent(String(Me(Fe)))+"&"+V:this.m&&_e(ie,this.m,Fe)),ca(this.h,Se),this.Ua&&kn(ie,"TYPE","init"),this.P?(kn(ie,"$req",V),kn(ie,"SID","null"),Se.T=!0,Hr(Se,ie,null)):Hr(Se,ie,V),this.G=2}}else this.G==3&&(g?cn(this,g):this.i.length==0||fi(this.h)||cn(this))};function cn(g,V){var ie;V?ie=V.l:ie=g.U++;const pe=Tr(g.I);kn(pe,"SID",g.K),kn(pe,"RID",ie),kn(pe,"AID",g.T),nn(g,pe),g.m&&g.o&&_e(pe,g.m,g.o),ie=new Er(g,g.j,ie,g.B+1),g.m===null&&(ie.H=g.o),V&&(g.i=V.D.concat(g.i)),V=qn(g,ie,1e3),ie.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),ca(g.h,ie),Hr(ie,pe,V)}function nn(g,V){g.H&&K(g.H,function(ie,pe){kn(V,pe,ie)}),g.l&&Ui({},function(ie,pe){kn(V,pe,ie)})}function qn(g,V,ie){ie=Math.min(g.i.length,ie);var pe=g.l?b(g.l.Na,g.l,g):null;e:{var Se=g.i;let Fe=-1;for(;;){const Ze=["count="+ie];Fe==-1?0<ie?(Fe=Se[0].g,Ze.push("ofs="+Fe)):Fe=0:Ze.push("ofs="+Fe);let Lt=!0;for(let Bt=0;Bt<ie;Bt++){let qt=Se[Bt].g;const wn=Se[Bt].map;if(qt-=Fe,0>qt)Fe=Math.max(0,Se[Bt].g-100),Lt=!1;else try{fe(wn,Ze,"req"+qt+"_")}catch{pe&&pe(wn)}}if(Lt){pe=Ze.join("&");break e}}}return g=g.i.splice(0,ie),V.D=g,pe}function En(g){if(!g.g&&!g.u){g.Y=1;var V=g.Fa;ee||S(),W||(ee(),W=!0),$.add(V,g),g.v=0}}function Hn(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=jn(b(g.Fa,g),tr(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Dn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=jn(b(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vn(10),Ct(this),Dn(this))};function Sn(g){g.A!=null&&(m.clearTimeout(g.A),g.A=null)}function Dn(g){g.g=new Er(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var V=Tr(g.qa);kn(V,"RID","rpc"),kn(V,"SID",g.K),kn(V,"AID",g.T),kn(V,"CI",g.F?"0":"1"),!g.F&&g.ja&&kn(V,"TO",g.ja),kn(V,"TYPE","xmlhttp"),nn(g,V),g.m&&g.o&&_e(V,g.m,g.o),g.L&&(g.g.I=g.L);var ie=g.g;g=g.ia,ie.L=1,ie.v=wi(Tr(V)),ie.m=null,ie.P=!0,di(ie,g)}t.Za=function(){this.C!=null&&(this.C=null,Ct(this),Hn(this),vn(19))};function Pn(g){g.C!=null&&(m.clearTimeout(g.C),g.C=null)}function In(g,V){var ie=null;if(g.g==V){Pn(g),Sn(g),g.g=null;var pe=2}else if(la(g.h,V))ie=V.D,sr(g.h,V),pe=1;else return;if(g.G!=0){if(V.o)if(pe==1){ie=V.m?V.m.length:0,V=Date.now()-V.F;var Se=g.B;pe=Qn(),Ve(pe,new zn(pe,ie)),Qt(g)}else En(g);else if(Se=V.s,Se==3||Se==0&&0<V.X||!(pe==1&&un(g,V)||pe==2&&Hn(g)))switch(ie&&0<ie.length&&(V=g.h,V.i=V.i.concat(ie)),Se){case 1:ur(g,5);break;case 4:ur(g,10);break;case 3:ur(g,6);break;default:ur(g,2)}}}function tr(g,V){let ie=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(ie*=2),ie*V}function ur(g,V){if(g.j.info("Error code "+V),V==2){var ie=b(g.fb,g),pe=g.Xa;const Se=!pe;pe=new er(pe||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||qi(pe,"https"),wi(pe),Se?Vi(pe.toString(),ie):Wr(pe.toString(),ie)}else vn(2);g.G=0,g.l&&g.l.sa(V),Cr(g),rn(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))};function Cr(g){if(g.G=0,g.ka=[],g.l){const V=za(g.h);(V.length!=0||g.i.length!=0)&&(A(g.ka,V),A(g.ka,g.i),g.h.i.length=0,v(g.i),g.i.length=0),g.l.ra()}}function Yn(g,V,ie){var pe=ie instanceof er?Tr(ie):new er(ie);if(pe.g!="")V&&(pe.g=V+"."+pe.g),Si(pe,pe.s);else{var Se=m.location;pe=Se.protocol,V=V?V+"."+Se.hostname:Se.hostname,Se=+Se.port;var Fe=new er(null);pe&&qi(Fe,pe),V&&(Fe.g=V),Se&&Si(Fe,Se),ie&&(Fe.l=ie),pe=Fe}return ie=g.D,V=g.ya,ie&&V&&kn(pe,ie,V),kn(pe,"VER",g.la),nn(g,pe),pe}function mr(g,V,ie){if(V&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return V=g.Ca&&!g.pa?new Ce(new be({eb:ie})):new Ce(g.pa),V.Ha(g.J),V}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fr(){}t=Fr.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _t(g,V){Be.call(this),this.g=new yt(V),this.l=g,this.h=V&&V.messageUrlParams||null,g=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(g?g["X-WebChannel-Content-Type"]=V.messageContentType:g={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.va&&(g?g["X-WebChannel-Client-Profile"]=V.va:g={"X-WebChannel-Client-Profile":V.va}),this.g.S=g,(g=V&&V.Sb)&&!P(g)&&(this.g.m=g),this.v=V&&V.supportsCrossDomainXhr||!1,this.u=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!P(V)&&(this.g.D=V,g=this.h,g!==null&&V in g&&(g=this.h,V in g&&delete g[V])),this.j=new xt(this)}p(_t,Be),_t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){Dt(this.g)},_t.prototype.o=function(g){var V=this.g;if(typeof g=="string"){var ie={};ie.__data__=g,g=ie}else this.u&&(ie={},ie.__data__=Pe(g),g=ie);V.i.push(new ds(V.Ya++,g)),V.G==3&&Qt(V)},_t.prototype.N=function(){this.g.l=null,delete this.j,Dt(this.g),delete this.g,_t.aa.N.call(this)};function Rt(g){Vn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var V=g.__sm__;if(V){e:{for(const ie in V){g=ie;break e}g=void 0}(this.i=g)&&(g=this.i,V=V!==null&&g in V?V[g]:void 0),this.data=V}else this.data=g}p(Rt,Vn);function bt(){cr.call(this),this.status=1}p(bt,cr);function xt(g){this.g=g}p(xt,Fr),xt.prototype.ua=function(){Ve(this.g,"a")},xt.prototype.ta=function(g){Ve(this.g,new Rt(g))},xt.prototype.sa=function(g){Ve(this.g,new bt)},xt.prototype.ra=function(){Ve(this.g,"b")},_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,ji.NO_ERROR=0,ji.TIMEOUT=8,ji.HTTP_ERROR=6,_i.COMPLETE="complete",Wt.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Be.prototype.listen=Be.prototype.K,Ce.prototype.listenOnce=Ce.prototype.L,Ce.prototype.getLastError=Ce.prototype.Ka,Ce.prototype.getLastErrorCode=Ce.prototype.Ba,Ce.prototype.getStatus=Ce.prototype.Z,Ce.prototype.getResponseJson=Ce.prototype.Oa,Ce.prototype.getResponseText=Ce.prototype.oa,Ce.prototype.send=Ce.prototype.ea,Ce.prototype.setWithCredentials=Ce.prototype.Ha}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const F="@firebase/firestore",M="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=new Logger("@firebase/firestore");function __PRIVATE_logDebug(t,...e){if(O.logLevel<=LogLevel.DEBUG){const n=e.map(__PRIVATE_argToString);O.debug(`Firestore (${x}): ${t}`,...n)}}function __PRIVATE_logError(t,...e){if(O.logLevel<=LogLevel.ERROR){const n=e.map(__PRIVATE_argToString);O.error(`Firestore (${x}): ${t}`,...n)}}function __PRIVATE_logWarn(t,...e){if(O.logLevel<=LogLevel.WARN){const n=e.map(__PRIVATE_argToString);O.warn(`Firestore (${x}): ${t}`,...n)}}function __PRIVATE_argToString(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,__PRIVATE__fail(t,i,n)}function __PRIVATE__fail(t,e,n){let i=`FIRESTORE (${x}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw __PRIVATE_logError(i),new Error(i)}function __PRIVATE_hardAssert(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||__PRIVATE__fail(e,s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class FirestoreError extends FirebaseError{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(e){this.t=e,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){__PRIVATE_hardAssert(this.o===void 0,42304);let i=this.i;const s=_=>this.i!==i?(i=this.i,n(_)):Promise.resolve();let o=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new __PRIVATE_Deferred,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const _=o;e.enqueueRetryable(async()=>{await _.promise,await s(this.currentUser)})},m=_=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(_=>m(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new __PRIVATE_Deferred)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(__PRIVATE_hardAssert(typeof i.accessToken=="string",31837,{l:i}),new __PRIVATE_OAuthToken(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(e===null||typeof e=="string",2055,{h:e}),new User(e)}}class __PRIVATE_FirstPartyToken{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=User.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_isFirebaseServerApp(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){__PRIVATE_hardAssert(this.o===void 0,3512);const i=o=>{o.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new AppCheckToken(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(__PRIVATE_hardAssert(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new AppCheckToken(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=__PRIVATE_randomBytes(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%62))}return i}}function __PRIVATE_primitiveComparator(t,e){return t<e?-1:t>e?1:0}function __PRIVATE_compareUtf8Strings(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return __PRIVATE_primitiveComparator(i,s);{const o=__PRIVATE_newTextEncoder(),c=__PRIVATE_compareByteArrays$1(o.encode(__PRIVATE_getUtf8SafeSubstring(t,n)),o.encode(__PRIVATE_getUtf8SafeSubstring(e,n)));return c!==0?c:__PRIVATE_primitiveComparator(i,s)}}n+=i>65535?2:1}return __PRIVATE_primitiveComparator(t.length,e.length)}function __PRIVATE_getUtf8SafeSubstring(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function __PRIVATE_compareByteArrays$1(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return __PRIVATE_primitiveComparator(t[n],e[n]);return __PRIVATE_primitiveComparator(t.length,e.length)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B="__name__";class BasePath{constructor(e,n,i){n===void 0?n=0:n>e.length&&fail(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&fail(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return BasePath.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof BasePath?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=BasePath.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return __PRIVATE_primitiveComparator(e.length,n.length)}static compareSegments(e,n){const i=BasePath.isNumericId(e),s=BasePath.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?BasePath.extractNumericId(e).compare(BasePath.extractNumericId(n)):__PRIVATE_compareUtf8Strings(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Integer.fromString(e.substring(4,e.length-2))}}class ResourcePath extends BasePath{construct(e,n,i){return new ResourcePath(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new FirestoreError(N.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new ResourcePath(n)}static emptyPath(){return new ResourcePath([])}}const L=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(e,n,i){return new FieldPath$1(e,n,i)}static isValidIdentifier(e){return L.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B}static keyField(){return new FieldPath$1([B])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new FirestoreError(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;s<e.length;){const m=e[s];if(m==="\\"){if(s+1===e.length)throw new FirestoreError(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[s+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new FirestoreError(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,s+=2}else m==="`"?(c=!c,s++):m!=="."||c?(i+=m,s++):(o(),s++)}if(o(),c)throw new FirestoreError(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new FieldPath$1(n)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(e){this.path=e}static fromPath(e){return new DocumentKey(ResourcePath.fromString(e))}static fromName(e){return new DocumentKey(ResourcePath.fromString(e).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ResourcePath.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ResourcePath.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new DocumentKey(new ResourcePath(e.slice()))}}function __PRIVATE_validateIsNotUsedTogether(t,e,n,i){if(e===!0&&i===!0)throw new FirestoreError(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function __PRIVATE_isPlainObject(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function __PRIVATE_valueDescription(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fail(12329,{type:typeof t})}function __PRIVATE_cast(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new FirestoreError(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=__PRIVATE_valueDescription(t);throw new FirestoreError(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function property(t,e){const n={typeString:t};return e&&(n.value=e),n}function __PRIVATE_validateJSON(t,e){if(!__PRIVATE_isPlainObject(t))throw new FirestoreError(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(s&&typeof c!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new FirestoreError(N.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k=-62135596800,q=1e6;class Timestamp{static now(){return Timestamp.fromMillis(Date.now())}static fromDate(e){return Timestamp.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*q);return new Timestamp(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new FirestoreError(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new FirestoreError(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<k)throw new FirestoreError(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new FirestoreError(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q}_compareTo(e){return this.seconds===e.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,e.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Timestamp._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(__PRIVATE_validateJSON(e,Timestamp._jsonSchema))return new Timestamp(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-k;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Timestamp._jsonSchemaVersion="firestore/timestamp/1.0",Timestamp._jsonSchema={type:property("string",Timestamp._jsonSchemaVersion),seconds:property("number"),nanoseconds:property("number")};function __PRIVATE_isIndexedDbTransactionError(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+o):o}}(e);return new ByteString(n)}static fromUint8Array(e){const n=function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o}(e);return new ByteString(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return __PRIVATE_primitiveComparator(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ut="(default)";class DatabaseId{constructor(e,n){this.projectId=e,this.database=n||ut}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database===ut}isEqual(e){return e instanceof DatabaseId&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(e,n=null,i=[],s=[],o=null,c="F",m=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=c,this.startAt=m,this.endAt=_,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function __PRIVATE_newQueryForPath(t){return new __PRIVATE_QueryImpl(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,gt;(gt=ft||(ft={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Integer([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot=1048576;function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(e,n,i=1e3,s=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=i,this.E_=s,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-i);s>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const c=Date.now()+i,m=new DelayedOperation(e,n,c,s,o);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var en,tn;(tn=en||(en={})).Fa="default",tn.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="firestore.googleapis.com",_n=!0;class FirestoreSettingsImpl{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new FirestoreError(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=on,this.ssl=_n}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:_n;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mt;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ot)throw new FirestoreError(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new FirestoreError(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new FirestoreError(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new FirestoreError(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Firestore$1{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new FirestoreError(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(i.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new FirestoreError(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=sn.get(n);i&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),sn.delete(n),i.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(t,e,n,i={}){var s;t=__PRIVATE_cast(t,Firestore$1);const o=isCloudWorkstation(e),c=t._getSettings(),m=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),_=`${e}:${n}`;o&&(pingServer(`https://${_}`),updateEmulatorBanner("Firestore",!0)),c.host!==on&&c.host!==_&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},c),{host:_,ssl:o,emulatorOptions:i});if(!deepEqual(h,m)&&(t._setSettings(h),i.mockUserToken)){let d,f;if(typeof i.mockUserToken=="string")d=i.mockUserToken,f=User.MOCK_USER;else{d=createMockUserToken(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new FirestoreError(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new User(b)}t._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Query(this.firestore,e,this._query)}}class DocumentReference{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new DocumentReference(this.firestore,e,this._key)}toJSON(){return{type:DocumentReference._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(__PRIVATE_validateJSON(n,DocumentReference._jsonSchema))return new DocumentReference(e,i||null,new DocumentKey(ResourcePath.fromString(n.referencePath)))}}DocumentReference._jsonSchemaVersion="firestore/documentReference/1.0",DocumentReference._jsonSchema={type:property("string",DocumentReference._jsonSchemaVersion),referencePath:property("string")};class CollectionReference extends Query{constructor(e,n,i){super(e,n,__PRIVATE_newQueryForPath(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(e))}withConverter(e){return new CollectionReference(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="AsyncQueue";class __PRIVATE_AsyncQueueImpl{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.oc=()=>{const i=getDocument();i&&__PRIVATE_logDebug(an,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const n=getDocument();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=getDocument();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new __PRIVATE_Deferred;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug(an,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,__PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",__PRIVATE_getMessageOrStack(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(e,n,i){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=DelayedOperation.createAndSchedule(this,e,n,i,o=>this.lc(o));return this.ec.push(s),s}ac(){this.tc&&fail(47125,{hc:__PRIVATE_getMessageOrStack(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function __PRIVATE_getMessageOrStack(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Firestore extends Firestore$1{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(e),this._firestoreClient=void 0,await e}}}function getFirestore(t,e){const n=typeof t=="object"?t:getApp(),i=typeof t=="string"?t:ut,s=_getProvider(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=getDefaultEmulatorHostnameAndPort("firestore");o&&connectFirestoreEmulator(s,...o)}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bytes(ByteString.fromBase64String(e))}catch(n){throw new FirestoreError(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bytes(ByteString.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bytes._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(__PRIVATE_validateJSON(e,Bytes._jsonSchema))return Bytes.fromBase64String(e.bytes)}}Bytes._jsonSchemaVersion="firestore/bytes/1.0",Bytes._jsonSchema={type:property("string",Bytes._jsonSchemaVersion),bytes:property("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new FirestoreError(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new FirestoreError(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new FirestoreError(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return __PRIVATE_primitiveComparator(this._lat,e._lat)||__PRIVATE_primitiveComparator(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:GeoPoint._jsonSchemaVersion}}static fromJSON(e){if(__PRIVATE_validateJSON(e,GeoPoint._jsonSchema))return new GeoPoint(e.latitude,e.longitude)}}GeoPoint._jsonSchemaVersion="firestore/geoPoint/1.0",GeoPoint._jsonSchema={type:property("string",GeoPoint._jsonSchemaVersion),latitude:property("number"),longitude:property("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:VectorValue._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(__PRIVATE_validateJSON(e,VectorValue._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new VectorValue(e.vectorValues);throw new FirestoreError(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}VectorValue._jsonSchemaVersion="firestore/vectorValue/1.0",VectorValue._jsonSchema={type:property("string",VectorValue._jsonSchemaVersion),vectorValues:property("object")};const ln=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(t,e,n){if(e.search(ln)>=0)throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new FieldPath(...e.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function __PRIVATE_createError(t,e,n,i,s){let o=`Function ${e}() called with invalid data`;o+=". ";let c="";return new FirestoreError(N.INVALID_ARGUMENT,o+t+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(t,e){return typeof e=="string"?__PRIVATE_fieldPathFromDotSeparatedString(t,e):e instanceof FieldPath?e._internalPath:e._delegate._internalPath}class SnapshotMetadata{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(e,n,i,s,o,c){super(e,n,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new FirestoreError(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=DocumentSnapshot._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}DocumentSnapshot._jsonSchemaVersion="firestore/documentSnapshot/1.0",DocumentSnapshot._jsonSchema={type:property("string",DocumentSnapshot._jsonSchemaVersion),bundleSource:property("string","DocumentSnapshot"),bundleName:property("string"),bundle:property("string")};class QueryDocumentSnapshot extends DocumentSnapshot{data(e={}){return super.data(e)}}class QuerySnapshot{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new SnapshotMetadata(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,i.key,i,new SnapshotMetadata(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(m=>{const _=new QueryDocumentSnapshot(s._firestore,s._userDataWriter,m.doc.key,m.doc,new SnapshotMetadata(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);return m.doc,{type:"added",doc:_,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>o||m.type!==3).map(m=>{const _=new QueryDocumentSnapshot(s._firestore,s._userDataWriter,m.doc.key,m.doc,new SnapshotMetadata(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return m.type!==0&&(h=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),d=c.indexOf(m.doc.key)),{type:__PRIVATE_resultChangeType(m.type),doc:_,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new FirestoreError(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=QuerySnapshot._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=__PRIVATE_AutoId.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function __PRIVATE_resultChangeType(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail(61501,{type:t})}}QuerySnapshot._jsonSchemaVersion="firestore/querySnapshot/1.0",QuerySnapshot._jsonSchema={type:property("string",QuerySnapshot._jsonSchemaVersion),bundleSource:property("string","QuerySnapshot"),bundleName:property("string"),bundle:property("string")};(function(e,n=!0){(function(s){x=s})(SDK_VERSION),_registerComponent(new Component("firestore",(i,{instanceIdentifier:s,options:o})=>{const c=i.getProvider("app").getImmediate(),m=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(i.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(c,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new FirestoreError(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(h.options.projectId,d)}(c,s),c);return o=Object.assign({useFetchStreams:n},o),m._setSettings(o),m},"PUBLIC").setMultipleInstances(!0)),registerVersion(F,M,e),registerVersion(F,M,"esm2017")})();const name$2="@firebase/installations",version$1="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_TIMEOUT_MS=1e4,PACKAGE_VERSION=`w:${version$1}`,INTERNAL_AUTH_VERSION="FIS_v2",INSTALLATIONS_API_URL="https://firebaseinstallations.googleapis.com/v1",TOKEN_EXPIRATION_BUFFER=60*60*1e3,SERVICE="installations",SERVICE_NAME="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_DESCRIPTION_MAP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ERROR_FACTORY$1=new ErrorFactory(SERVICE,SERVICE_NAME,ERROR_DESCRIPTION_MAP);function isServerError(t){return t instanceof FirebaseError&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getInstallationsEndpoint({projectId:t}){return`${INSTALLATIONS_API_URL}/projects/${t}/installations`}function extractAuthTokenInfoFromResponse(t){return{token:t.token,requestStatus:2,expiresIn:getExpiresInFromResponseExpiresIn(t.expiresIn),creationTime:Date.now()}}async function getErrorFromResponse(t,e){const i=(await e.json()).error;return ERROR_FACTORY$1.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function getHeaders$1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function getHeadersWithAuth(t,{refreshToken:e}){const n=getHeaders$1(t);return n.append("Authorization",getAuthorizationHeader(e)),n}async function retryIfServerError(t){const e=await t();return e.status>=500&&e.status<600?t():e}function getExpiresInFromResponseExpiresIn(t){return Number(t.replace("s","000"))}function getAuthorizationHeader(t){return`${INTERNAL_AUTH_VERSION} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createInstallationRequest({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=getInstallationsEndpoint(t),s=getHeaders$1(t),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const c={fid:n,authVersion:INTERNAL_AUTH_VERSION,appId:t.appId,sdkVersion:PACKAGE_VERSION},m={method:"POST",headers:s,body:JSON.stringify(c)},_=await retryIfServerError(()=>fetch(i,m));if(_.ok){const h=await _.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:extractAuthTokenInfoFromResponse(h.authToken)}}else throw await getErrorFromResponse("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sleep(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bufferToBase64UrlSafe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VALID_FID_PATTERN=/^[cdef][\w-]{21}$/,INVALID_FID="";function generateFid(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=encode$2(t);return VALID_FID_PATTERN.test(n)?n:INVALID_FID}catch{return INVALID_FID}}function encode$2(t){return bufferToBase64UrlSafe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getKey(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fidChangeCallbacks=new Map;function fidChanged(t,e){const n=getKey(t);callFidChangeCallbacks(n,e),broadcastFidChange(n,e)}function callFidChangeCallbacks(t,e){const n=fidChangeCallbacks.get(t);if(n)for(const i of n)i(e)}function broadcastFidChange(t,e){const n=getBroadcastChannel();n&&n.postMessage({key:t,fid:e}),closeBroadcastChannel()}let broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&"BroadcastChannel"in self&&(broadcastChannel=new BroadcastChannel("[Firebase] FID Change"),broadcastChannel.onmessage=t=>{callFidChangeCallbacks(t.data.key,t.data.fid)}),broadcastChannel}function closeBroadcastChannel(){fidChangeCallbacks.size===0&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME="firebase-installations-database",DATABASE_VERSION=1,OBJECT_STORE_NAME="firebase-installations-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DATABASE_NAME,DATABASE_VERSION,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(OBJECT_STORE_NAME)}}})),dbPromise}async function set(t,e){const n=getKey(t),s=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),o=s.objectStore(OBJECT_STORE_NAME),c=await o.get(n);return await o.put(e,n),await s.done,(!c||c.fid!==e.fid)&&fidChanged(t,e.fid),e}async function remove(t){const e=getKey(t),i=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");await i.objectStore(OBJECT_STORE_NAME).delete(e),await i.done}async function update(t,e){const n=getKey(t),s=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),o=s.objectStore(OBJECT_STORE_NAME),c=await o.get(n),m=e(c);return m===void 0?await o.delete(n):await o.put(m,n),await s.done,m&&(!c||c.fid!==m.fid)&&fidChanged(t,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getInstallationEntry(t){let e;const n=await update(t.appConfig,i=>{const s=updateOrCreateInstallationEntry(i),o=triggerRegistrationIfNecessary(t,s);return e=o.registrationPromise,o.installationEntry});return n.fid===INVALID_FID?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function updateOrCreateInstallationEntry(t){const e=t||{fid:generateFid(),registrationStatus:0};return clearTimedOutRequest(e)}function triggerRegistrationIfNecessary(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ERROR_FACTORY$1.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=registerInstallation(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:waitUntilFidRegistration(t)}:{installationEntry:e}}async function registerInstallation(t,e){try{const n=await createInstallationRequest(t,e);return set(t.appConfig,n)}catch(n){throw isServerError(n)&&n.customData.serverCode===409?await remove(t.appConfig):await set(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function waitUntilFidRegistration(t){let e=await updateInstallationRequest(t.appConfig);for(;e.registrationStatus===1;)await sleep(100),e=await updateInstallationRequest(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await getInstallationEntry(t);return i||n}return e}function updateInstallationRequest(t){return update(t,e=>{if(!e)throw ERROR_FACTORY$1.create("installation-not-found");return clearTimedOutRequest(e)})}function clearTimedOutRequest(t){return hasInstallationRequestTimedOut(t)?{fid:t.fid,registrationStatus:0}:t}function hasInstallationRequestTimedOut(t){return t.registrationStatus===1&&t.registrationTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function generateAuthTokenRequest({appConfig:t,heartbeatServiceProvider:e},n){const i=getGenerateAuthTokenEndpoint(t,n),s=getHeadersWithAuth(t,n),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const c={installation:{sdkVersion:PACKAGE_VERSION,appId:t.appId}},m={method:"POST",headers:s,body:JSON.stringify(c)},_=await retryIfServerError(()=>fetch(i,m));if(_.ok){const h=await _.json();return extractAuthTokenInfoFromResponse(h)}else throw await getErrorFromResponse("Generate Auth Token",_)}function getGenerateAuthTokenEndpoint(t,{fid:e}){return`${getInstallationsEndpoint(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function refreshAuthToken(t,e=!1){let n;const i=await update(t.appConfig,o=>{if(!isEntryRegistered(o))throw ERROR_FACTORY$1.create("not-registered");const c=o.authToken;if(!e&&isAuthTokenValid(c))return o;if(c.requestStatus===1)return n=waitUntilAuthTokenRequest(t,e),o;{if(!navigator.onLine)throw ERROR_FACTORY$1.create("app-offline");const m=makeAuthTokenRequestInProgressEntry(o);return n=fetchAuthTokenFromServer(t,m),m}});return n?await n:i.authToken}async function waitUntilAuthTokenRequest(t,e){let n=await updateAuthTokenRequest(t.appConfig);for(;n.authToken.requestStatus===1;)await sleep(100),n=await updateAuthTokenRequest(t.appConfig);const i=n.authToken;return i.requestStatus===0?refreshAuthToken(t,e):i}function updateAuthTokenRequest(t){return update(t,e=>{if(!isEntryRegistered(e))throw ERROR_FACTORY$1.create("not-registered");const n=e.authToken;return hasAuthTokenRequestTimedOut(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function fetchAuthTokenFromServer(t,e){try{const n=await generateAuthTokenRequest(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await set(t.appConfig,i),n}catch(n){if(isServerError(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await remove(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await set(t.appConfig,i)}throw n}}function isEntryRegistered(t){return t!==void 0&&t.registrationStatus===2}function isAuthTokenValid(t){return t.requestStatus===2&&!isAuthTokenExpired(t)}function isAuthTokenExpired(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+TOKEN_EXPIRATION_BUFFER}function makeAuthTokenRequestInProgressEntry(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function hasAuthTokenRequestTimedOut(t){return t.requestStatus===1&&t.requestTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getId(t){const e=t,{installationEntry:n,registrationPromise:i}=await getInstallationEntry(e);return i?i.catch(console.error):refreshAuthToken(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken(t,e=!1){const n=t;return await completeInstallationRegistration(n),(await refreshAuthToken(n,e)).token}async function completeInstallationRegistration(t){const{registrationPromise:e}=await getInstallationEntry(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig(t){if(!t||!t.options)throw getMissingValueError("App Configuration");if(!t.name)throw getMissingValueError("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw getMissingValueError(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function getMissingValueError(t){return ERROR_FACTORY$1.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INSTALLATIONS_NAME="installations",INSTALLATIONS_NAME_INTERNAL="installations-internal",publicFactory=t=>{const e=t.getProvider("app").getImmediate(),n=extractAppConfig(e),i=_getProvider(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},internalFactory=t=>{const e=t.getProvider("app").getImmediate(),n=_getProvider(e,INSTALLATIONS_NAME).getImmediate();return{getId:()=>getId(n),getToken:s=>getToken(n,s)}};function registerInstallations(){_registerComponent(new Component(INSTALLATIONS_NAME,publicFactory,"PUBLIC")),_registerComponent(new Component(INSTALLATIONS_NAME_INTERNAL,internalFactory,"PRIVATE"))}registerInstallations();registerVersion(name$2,version$1);registerVersion(name$2,version$1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ANALYTICS_TYPE="analytics",GA_FID_KEY="firebase_id",ORIGIN_KEY="origin",FETCH_TIMEOUT_MILLIS=60*1e3,DYNAMIC_CONFIG_URL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GTAG_URL="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ERROR_FACTORY=new ErrorFactory("analytics","Analytics",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createGtagTrustedTypesScriptURL(t){if(!t.startsWith(GTAG_URL)){const e=ERROR_FACTORY.create("invalid-gtag-resource",{gtagURL:t});return logger.warn(e.message),""}return t}function promiseAllSettled(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function createTrustedTypesPolicy(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function insertScriptTag(t,e){const n=createTrustedTypesPolicy("firebase-js-sdk-policy",{createScriptURL:createGtagTrustedTypesScriptURL}),i=document.createElement("script"),s=`${GTAG_URL}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function getOrCreateDataLayer(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function gtagOnConfig(t,e,n,i,s,o){const c=i[s];try{if(c)await e[c];else{const _=(await promiseAllSettled(n)).find(h=>h.measurementId===s);_&&await e[_.appId]}}catch(m){logger.error(m)}t("config",s,o)}async function gtagOnEvent(t,e,n,i,s){try{let o=[];if(s&&s.send_to){let c=s.send_to;Array.isArray(c)||(c=[c]);const m=await promiseAllSettled(n);for(const _ of c){const h=m.find(f=>f.measurementId===_),d=h&&e[h.appId];if(d)o.push(d);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",i,s||{})}catch(o){logger.error(o)}}function wrapGtag(t,e,n,i){async function s(o,...c){try{if(o==="event"){const[m,_]=c;await gtagOnEvent(t,e,n,m,_)}else if(o==="config"){const[m,_]=c;await gtagOnConfig(t,e,n,i,m,_)}else if(o==="consent"){const[m,_]=c;t("consent",m,_)}else if(o==="get"){const[m,_,h]=c;t("get",m,_,h)}else if(o==="set"){const[m]=c;t("set",m)}else t(o,...c)}catch(m){logger.error(m)}}return s}function wrapOrCreateGtag(t,e,n,i,s){let o=function(...c){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=wrapGtag(o,t,e,n),{gtagCore:o,wrappedGtag:window[s]}}function findGtagScriptOnPage(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(GTAG_URL)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_RETRY_FACTOR=30,BASE_INTERVAL_MILLIS=1e3;class RetryData{constructor(e={},n=BASE_INTERVAL_MILLIS){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const defaultRetryData=new RetryData;function getHeaders(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function fetchDynamicConfig(t){var e;const{appId:n,apiKey:i}=t,s={method:"GET",headers:getHeaders(i)},o=DYNAMIC_CONFIG_URL.replace("{app-id}",n),c=await fetch(o,s);if(c.status!==200&&c.status!==304){let m="";try{const _=await c.json();!((e=_.error)===null||e===void 0)&&e.message&&(m=_.error.message)}catch{}throw ERROR_FACTORY.create("config-fetch-failed",{httpStatus:c.status,responseMessage:m})}return c.json()}async function fetchDynamicConfigWithRetry(t,e=defaultRetryData,n){const{appId:i,apiKey:s,measurementId:o}=t.options;if(!i)throw ERROR_FACTORY.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw ERROR_FACTORY.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new AnalyticsAbortSignal;return setTimeout(async()=>{m.abort()},FETCH_TIMEOUT_MILLIS),attemptFetchDynamicConfigWithRetry({appId:i,apiKey:s,measurementId:o},c,m,e)}async function attemptFetchDynamicConfigWithRetry(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=defaultRetryData){var o;const{appId:c,measurementId:m}=t;try{await setAbortableTimeout(i,e)}catch(_){if(m)return logger.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:m};throw _}try{const _=await fetchDynamicConfig(t);return s.deleteThrottleMetadata(c),_}catch(_){const h=_;if(!isRetriableError(h)){if(s.deleteThrottleMetadata(c),m)return logger.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:c,measurementId:m};throw _}const d=Number((o=h?.customData)===null||o===void 0?void 0:o.httpStatus)===503?calculateBackoffMillis(n,s.intervalMillis,LONG_RETRY_FACTOR):calculateBackoffMillis(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(c,f),logger.debug(`Calling attemptFetch again in ${d} millis`),attemptFetchDynamicConfigWithRetry(t,f,i,s)}}function setAbortableTimeout(t,e){return new Promise((n,i)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(o),i(ERROR_FACTORY.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function isRetriableError(t){if(!(t instanceof FirebaseError)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class AnalyticsAbortSignal{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function logEvent$1(t,e,n,i,s){if(s&&s.global){t("event",n,i);return}else{const o=await e,c=Object.assign(Object.assign({},i),{send_to:o});t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function validateIndexedDB(){if(isIndexedDBAvailable())try{await validateIndexedDBOpenable()}catch(t){return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _initializeAnalytics(t,e,n,i,s,o,c){var m;const _=fetchDynamicConfigWithRetry(t);_.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&logger.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>logger.error(y)),e.push(_);const h=validateIndexedDB().then(y=>{if(y)return i.getId()}),[d,f]=await Promise.all([_,h]);findGtagScriptOnPage(o)||insertScriptTag(o,d.measurementId),s("js",new Date);const b=(m=c?.config)!==null&&m!==void 0?m:{};return b[ORIGIN_KEY]="firebase",b.update=!0,f!=null&&(b[GA_FID_KEY]=f),s("config",d.measurementId,b),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AnalyticsService{constructor(e){this.app=e}_delete(){return delete initializationPromisesMap[this.app.options.appId],Promise.resolve()}}let initializationPromisesMap={},dynamicConfigPromisesList=[];const measurementIdToAppId={};let dataLayerName="dataLayer",gtagName="gtag",gtagCoreFunction,wrappedGtagFunction,globalInitDone=!1;function warnOnBrowserContextMismatch(){const t=[];if(isBrowserExtension()&&t.push("This is a browser extension environment."),areCookiesEnabled()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=ERROR_FACTORY.create("invalid-analytics-context",{errorInfo:e});logger.warn(n.message)}}function factory(t,e,n){warnOnBrowserContextMismatch();const i=t.options.appId;if(!i)throw ERROR_FACTORY.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)logger.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ERROR_FACTORY.create("no-api-key");if(initializationPromisesMap[i]!=null)throw ERROR_FACTORY.create("already-exists",{id:i});if(!globalInitDone){getOrCreateDataLayer(dataLayerName);const{wrappedGtag:o,gtagCore:c}=wrapOrCreateGtag(initializationPromisesMap,dynamicConfigPromisesList,measurementIdToAppId,dataLayerName,gtagName);wrappedGtagFunction=o,gtagCoreFunction=c,globalInitDone=!0}return initializationPromisesMap[i]=_initializeAnalytics(t,dynamicConfigPromisesList,measurementIdToAppId,e,gtagCoreFunction,dataLayerName,n),new AnalyticsService(t)}function getAnalytics(t=getApp()){t=getModularInstance(t);const e=_getProvider(t,ANALYTICS_TYPE);return e.isInitialized()?e.getImmediate():initializeAnalytics(t)}function initializeAnalytics(t,e={}){const n=_getProvider(t,ANALYTICS_TYPE);if(n.isInitialized()){const s=n.getImmediate();if(deepEqual(e,n.getOptions()))return s;throw ERROR_FACTORY.create("already-initialized")}return n.initialize({options:e})}async function isSupported(){if(isBrowserExtension()||!areCookiesEnabled()||!isIndexedDBAvailable())return!1;try{return await validateIndexedDBOpenable()}catch{return!1}}function logEvent(t,e,n,i){t=getModularInstance(t),logEvent$1(wrappedGtagFunction,initializationPromisesMap[t.app.options.appId],e,n,i).catch(s=>logger.error(s))}const name$1="@firebase/analytics",version="0.10.17";function registerAnalytics(){_registerComponent(new Component(ANALYTICS_TYPE,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return factory(i,s,n)},"PUBLIC")),_registerComponent(new Component("analytics-internal",t,"PRIVATE")),registerVersion(name$1,version),registerVersion(name$1,version,"esm2017");function t(e){try{const n=e.getProvider(ANALYTICS_TYPE).getImmediate();return{logEvent:(i,s,o)=>logEvent(n,i,s,o)}}catch(n){throw ERROR_FACTORY.create("interop-component-reg-failed",{reason:n})}}}registerAnalytics();const firebaseConfig={apiKey:"AIzaSyBm6kSNNnZ0VoeOWgKahbxbrsEnhyUauR4",authDomain:"aitutor-4c645.firebaseapp.com",projectId:"aitutor-4c645",storageBucket:"aitutor-4c645.appspot.com",messagingSenderId:"971372612652",appId:"1:971372612652:web:19c1170a888e924b449589",measurementId:"G-XTLGW3ZM34"},app=initializeApp(firebaseConfig),auth=getAuth(app);getFirestore(app);await isSupported()&&getAnalytics(app);const getFirebaseIdToken=async()=>{const t=auth.currentUser;if(!t)throw new Error("User not logged in");return await t.getIdToken()};function bind(t,e){return function(){return t.apply(e,arguments)}}const{toString:toString$2}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(t=>e=>{const n=toString$2.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=t=>(t=t.toLowerCase(),e=>kindOf(e)===t),typeOfTest=t=>e=>typeof e===t,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&isFunction(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&isArrayBuffer(t.buffer),e}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=t=>t!==null&&typeof t=="object",isBoolean=t=>t===!0||t===!1,isPlainObject$1=t=>{if(kindOf(t)!=="object")return!1;const e=getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(toStringTag in t)&&!(iterator in t)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=t=>isObject(t)&&isFunction(t.pipe),isFormData=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||isFunction(t.append)&&((e=kindOf(t))==="formdata"||e==="object"&&isFunction(t.toString)&&t.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),isArray(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),c=o.length;let m;for(i=0;i<c;i++)m=o[i],e.call(null,t[m],m,t)}}function findKey(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=t=>!isUndefined(t)&&t!==_global;function merge$1(){const{caseless:t}=isContextDefined(this)&&this||{},e={},n=(i,s)=>{const o=t&&findKey(e,s)||s;isPlainObject$1(e[o])&&isPlainObject$1(i)?e[o]=merge$1(e[o],i):isPlainObject$1(i)?e[o]=merge$1({},i):isArray(i)?e[o]=i.slice():e[o]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&forEach(arguments[i],n);return e}const extend$2=(t,e,n,{allOwnKeys:i}={})=>(forEach(e,(s,o)=>{n&&isFunction(s)?t[o]=bind(s,n):t[o]=s},{allOwnKeys:i}),t),stripBOM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject=(t,e,n,i)=>{let s,o,c;const m={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)c=s[o],(!i||i(c,t,e))&&!m[c]&&(e[c]=t[c],m[c]=!0);t=n!==!1&&getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},endsWith=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},toArray=t=>{if(!t)return null;if(isArray(t))return t;let e=t.length;if(!isNumber(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},isTypedArray=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(t,e)=>{const i=(t&&t[iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},matchAll=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),hasOwnProperty$1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};forEach(n,(s,o)=>{let c;(c=e(s,o,t))!==!1&&(i[o]=c||s)}),Object.defineProperties(t,i)},freezeMethods=t=>{reduceDescriptors(t,(e,n)=>{if(isFunction(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(isFunction(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet=(t,e)=>{const n={},i=s=>{s.forEach(o=>{n[o]=!0})};return isArray(t)?i(t):i(String(t).split(e)),n},noop=()=>{},toFiniteNumber=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function isSpecCompliantForm(t){return!!(t&&isFunction(t.append)&&t[toStringTag]==="FormData"&&t[iterator])}const toJSONObject=t=>{const e=new Array(10),n=(i,s)=>{if(isObject(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const o=isArray(i)?[]:{};return forEach(i,(c,m)=>{const _=n(c,s+1);!isUndefined(_)&&(o[m]=_)}),e[s]=void 0,o}}return i};return n(t,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=t=>t&&(isObject(t)||isFunction(t))&&isFunction(t.then)&&isFunction(t.catch),_setImmediate=((t,e)=>t?setImmediate:e?((n,i)=>(_global.addEventListener("message",({source:s,data:o})=>{s===_global&&o===n&&i.length&&i.shift()()},!1),s=>{i.push(s),_global.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=t=>t!=null&&isFunction(t[iterator]),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject:isPlainObject$1,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge:merge$1,extend:extend$2,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{descriptors[t]={value:t}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(t,e,n,i,s,o)=>{const c=Object.create(prototype$1);return utils$1.toFlatObject(t,c,function(_){return _!==Error.prototype},m=>m!=="isAxiosError"),AxiosError$1.call(c,t.message,e,n,i,s),c.cause=t,c.name=t.name,o&&Object.assign(c,o),c};const httpAdapter=null;function isVisitable(t){return utils$1.isPlainObject(t)||utils$1.isArray(t)}function removeBrackets(t){return utils$1.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,e,n){return t?t.concat(e).map(function(s,o){return s=removeBrackets(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function isFlatArray(t){return utils$1.isArray(t)&&!t.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData$1(t,e,n){if(!utils$1.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=utils$1.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,A){return!utils$1.isUndefined(A[v])});const i=n.metaTokens,s=n.visitor||d,o=n.dots,c=n.indexes,_=(n.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(e);if(!utils$1.isFunction(s))throw new TypeError("visitor must be a function");function h(p){if(p===null)return"";if(utils$1.isDate(p))return p.toISOString();if(utils$1.isBoolean(p))return p.toString();if(!_&&utils$1.isBlob(p))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(p)||utils$1.isTypedArray(p)?_&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,v,A){let w=p;if(p&&!A&&typeof p=="object"){if(utils$1.endsWith(v,"{}"))v=i?v:v.slice(0,-2),p=JSON.stringify(p);else if(utils$1.isArray(p)&&isFlatArray(p)||(utils$1.isFileList(p)||utils$1.endsWith(v,"[]"))&&(w=utils$1.toArray(p)))return v=removeBrackets(v),w.forEach(function(Z,Q){!(utils$1.isUndefined(Z)||Z===null)&&e.append(c===!0?renderKey([v],Q,o):c===null?v:v+"[]",h(Z))}),!1}return isVisitable(p)?!0:(e.append(renderKey(A,v,o),h(p)),!1)}const f=[],b=Object.assign(predicates,{defaultVisitor:d,convertValue:h,isVisitable});function y(p,v){if(!utils$1.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(p),utils$1.forEach(p,function(w,P){(!(utils$1.isUndefined(w)||w===null)&&s.call(e,w,utils$1.isString(P)?P.trim():P,v,b))===!0&&y(w,v?v.concat(P):[P])}),f.pop()}}if(!utils$1.isObject(t))throw new TypeError("data must be an object");return y(t),e}function encode$1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function AxiosURLSearchParams(t,e){this._pairs=[],t&&toFormData$1(t,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,n){this._pairs.push([e,n])};prototype.toString=function(e){const n=e?function(i){return e.call(this,i,encode$1)}:encode$1;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function encode(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(t,e,n){if(!e)return t;const i=n&&n.encode||encode;utils$1.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(e,n):o=utils$1.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,n).toString(i),o){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class InterceptorManager{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$1.forEach(this.handlers,function(i){i!==null&&e(i)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(t,e){return toFormData$1(t,new platform.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,o){return platform.isNode&&utils$1.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(t){return utils$1.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(t){const e={},n=Object.keys(t);let i;const s=n.length;let o;for(i=0;i<s;i++)o=n[i],e[o]=t[o];return e}function formDataToJSON(t){function e(n,i,s,o){let c=n[o++];if(c==="__proto__")return!0;const m=Number.isFinite(+c),_=o>=n.length;return c=!c&&utils$1.isArray(s)?s.length:c,_?(utils$1.hasOwnProp(s,c)?s[c]=[s[c],i]:s[c]=i,!m):((!s[c]||!utils$1.isObject(s[c]))&&(s[c]=[]),e(n,i,s[c],o)&&utils$1.isArray(s[c])&&(s[c]=arrayToObject(s[c])),!m)}if(utils$1.isFormData(t)&&utils$1.isFunction(t.entries)){const n={};return utils$1.forEachEntry(t,(i,s)=>{e(parsePropPath(i),s,n,0)}),n}return null}function stringifySafely(t,e,n){if(utils$1.isString(t))try{return(e||JSON.parse)(t),utils$1.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,o=utils$1.isObject(e);if(o&&utils$1.isHTMLForm(e)&&(e=new FormData(e)),utils$1.isFormData(e))return s?JSON.stringify(formDataToJSON(e)):e;if(utils$1.isArrayBuffer(e)||utils$1.isBuffer(e)||utils$1.isStream(e)||utils$1.isFile(e)||utils$1.isBlob(e)||utils$1.isReadableStream(e))return e;if(utils$1.isArrayBufferView(e))return e.buffer;if(utils$1.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((m=utils$1.isFileList(e))||i.indexOf("multipart/form-data")>-1){const _=this.env&&this.env.FormData;return toFormData$1(m?{"files[]":e}:e,_&&new _,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const n=this.transitional||defaults.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(utils$1.isResponse(e)||utils$1.isReadableStream(e))return e;if(e&&utils$1.isString(e)&&(i&&!this.responseType||s)){const c=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(m){if(c)throw m.name==="SyntaxError"?AxiosError$1.from(m,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],t=>{defaults.headers[t]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(c){s=c.indexOf(":"),n=c.substring(0,s).trim().toLowerCase(),i=c.substring(s+1).trim(),!(!n||e[n]&&ignoreDuplicateOf[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},$internals=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return t===!1||t==null?t:utils$1.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const isValidHeaderName=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function matchHeaderValue(t,e,n,i,s){if(utils$1.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!utils$1.isString(e)){if(utils$1.isString(i))return e.indexOf(i)!==-1;if(utils$1.isRegExp(i))return i.test(e)}}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function buildAccessors(t,e){const n=utils$1.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,o,c){return this[i].call(this,e,s,o,c)},configurable:!0})})}let AxiosHeaders$1=class{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function o(m,_,h){const d=normalizeHeader(_);if(!d)throw new Error("header name must be a non-empty string");const f=utils$1.findKey(s,d);(!f||s[f]===void 0||h===!0||h===void 0&&s[f]!==!1)&&(s[f||_]=normalizeValue(m))}const c=(m,_)=>utils$1.forEach(m,(h,d)=>o(h,d,_));if(utils$1.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(utils$1.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))c(parseHeaders(e),n);else if(utils$1.isObject(e)&&utils$1.isIterable(e)){let m={},_,h;for(const d of e){if(!utils$1.isArray(d))throw TypeError("Object iterator must return a key-value pair");m[h=d[0]]=(_=m[h])?utils$1.isArray(_)?[..._,d[1]]:[_,d[1]]:d[1]}c(m,n)}else e!=null&&o(n,e,i);return this}get(e,n){if(e=normalizeHeader(e),e){const i=utils$1.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return parseTokens(s);if(utils$1.isFunction(n))return n.call(this,s,i);if(utils$1.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=normalizeHeader(e),e){const i=utils$1.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||matchHeaderValue(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function o(c){if(c=normalizeHeader(c),c){const m=utils$1.findKey(i,c);m&&(!n||matchHeaderValue(i,i[m],m,n))&&(delete i[m],s=!0)}}return utils$1.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const o=n[i];(!e||matchHeaderValue(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,i={};return utils$1.forEach(this,(s,o)=>{const c=utils$1.findKey(i,o);if(c){n[c]=normalizeValue(s),delete n[o];return}const m=e?formatHeader(o):String(o).trim();m!==o&&delete n[o],n[m]=normalizeValue(s),i[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return utils$1.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&utils$1.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[$internals]=this[$internals]={accessors:{}}).accessors,s=this.prototype;function o(c){const m=normalizeHeader(c);i[m]||(buildAccessors(s,c),i[m]=!0)}return utils$1.isArray(e)?e.forEach(o):o(e),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(t,e){const n=this||defaults,i=e||n,s=AxiosHeaders$1.from(i.headers);let o=i.data;return utils$1.forEach(t,function(m){o=m.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function isCancel$1(t){return!!(t&&t.__CANCEL__)}function CanceledError$1(t,e,n){AxiosError$1.call(this,t??"canceled",AxiosError$1.ERR_CANCELED,e,n),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new AxiosError$1("Request failed with status code "+n.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function parseProtocol(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function speedometer(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,o=0,c;return e=e!==void 0?e:1e3,function(_){const h=Date.now(),d=i[o];c||(c=h),n[s]=_,i[s]=h;let f=o,b=0;for(;f!==s;)b+=n[f++],f=f%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),h-c<e)return;const y=d&&h-d;return y?Math.round(b*1e3/y):void 0}}function throttle(t,e){let n=0,i=1e3/e,s,o;const c=(h,d=Date.now())=>{n=d,s=null,o&&(clearTimeout(o),o=null),t.apply(null,h)};return[(...h)=>{const d=Date.now(),f=d-n;f>=i?c(h,d):(s=h,o||(o=setTimeout(()=>{o=null,c(s)},i-f)))},()=>s&&c(s)]}const progressEventReducer=(t,e,n=3)=>{let i=0;const s=speedometer(50,250);return throttle(o=>{const c=o.loaded,m=o.lengthComputable?o.total:void 0,_=c-i,h=s(_),d=c<=m;i=c;const f={loaded:c,total:m,progress:m?c/m:void 0,bytes:_,rate:h||void 0,estimated:h&&m&&d?(m-c)/h:void 0,event:o,lengthComputable:m!=null,[e?"download":"upload"]:!0};t(f)},n)},progressEventDecorator=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},asyncDecorator=t=>(...e)=>utils$1.asap(()=>t(...e)),isURLSameOrigin=platform.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,platform.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(t,e,n,i,s,o){const c=[t+"="+encodeURIComponent(e)];utils$1.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),utils$1.isString(i)&&c.push("path="+i),utils$1.isString(s)&&c.push("domain="+s),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function buildFullPath(t,e,n){let i=!isAbsoluteURL(e);return t&&(i||n==!1)?combineURLs(t,e):e}const headersToObject=t=>t instanceof AxiosHeaders$1?{...t}:t;function mergeConfig$1(t,e){e=e||{};const n={};function i(h,d,f,b){return utils$1.isPlainObject(h)&&utils$1.isPlainObject(d)?utils$1.merge.call({caseless:b},h,d):utils$1.isPlainObject(d)?utils$1.merge({},d):utils$1.isArray(d)?d.slice():d}function s(h,d,f,b){if(utils$1.isUndefined(d)){if(!utils$1.isUndefined(h))return i(void 0,h,f,b)}else return i(h,d,f,b)}function o(h,d){if(!utils$1.isUndefined(d))return i(void 0,d)}function c(h,d){if(utils$1.isUndefined(d)){if(!utils$1.isUndefined(h))return i(void 0,h)}else return i(void 0,d)}function m(h,d,f){if(f in e)return i(h,d);if(f in t)return i(void 0,h)}const _={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:m,headers:(h,d,f)=>s(headersToObject(h),headersToObject(d),f,!0)};return utils$1.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=_[d]||s,b=f(t[d],e[d],d);utils$1.isUndefined(b)&&f!==m||(n[d]=b)}),n}const resolveConfig=t=>{const e=mergeConfig$1({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:c,auth:m}=e;e.headers=c=AxiosHeaders$1.from(c),e.url=buildURL(buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),m&&c.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let _;if(utils$1.isFormData(n)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((_=c.getContentType())!==!1){const[h,...d]=_?_.split(";").map(f=>f.trim()).filter(Boolean):[];c.setContentType([h||"multipart/form-data",...d].join("; "))}}if(platform.hasStandardBrowserEnv&&(i&&utils$1.isFunction(i)&&(i=i(e)),i||i!==!1&&isURLSameOrigin(e.url))){const h=s&&o&&cookies.read(o);h&&c.set(s,h)}return e},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(t){return new Promise(function(n,i){const s=resolveConfig(t);let o=s.data;const c=AxiosHeaders$1.from(s.headers).normalize();let{responseType:m,onUploadProgress:_,onDownloadProgress:h}=s,d,f,b,y,p;function v(){y&&y(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let A=new XMLHttpRequest;A.open(s.method.toUpperCase(),s.url,!0),A.timeout=s.timeout;function w(){if(!A)return;const Z=AxiosHeaders$1.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),z={data:!m||m==="text"||m==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:Z,config:t,request:A};settle(function(j){n(j),v()},function(j){i(j),v()},z),A=null}"onloadend"in A?A.onloadend=w:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(w)},A.onabort=function(){A&&(i(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,t,A)),A=null)},A.onerror=function(){i(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let Q=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const z=s.transitional||transitionalDefaults;s.timeoutErrorMessage&&(Q=s.timeoutErrorMessage),i(new AxiosError$1(Q,z.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,t,A)),A=null},o===void 0&&c.setContentType(null),"setRequestHeader"in A&&utils$1.forEach(c.toJSON(),function(Q,z){A.setRequestHeader(z,Q)}),utils$1.isUndefined(s.withCredentials)||(A.withCredentials=!!s.withCredentials),m&&m!=="json"&&(A.responseType=s.responseType),h&&([b,p]=progressEventReducer(h,!0),A.addEventListener("progress",b)),_&&A.upload&&([f,y]=progressEventReducer(_),A.upload.addEventListener("progress",f),A.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(d=Z=>{A&&(i(!Z||Z.type?new CanceledError$1(null,t,A):Z),A.abort(),A=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const P=parseProtocol(s.url);if(P&&platform.protocols.indexOf(P)===-1){i(new AxiosError$1("Unsupported protocol "+P+":",AxiosError$1.ERR_BAD_REQUEST,t));return}A.send(o||null)})},composeSignals=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const o=function(h){if(!s){s=!0,m();const d=h instanceof Error?h:this.reason;i.abort(d instanceof AxiosError$1?d:new CanceledError$1(d instanceof Error?d.message:d))}};let c=e&&setTimeout(()=>{c=null,o(new AxiosError$1(`timeout ${e} of ms exceeded`,AxiosError$1.ETIMEDOUT))},e);const m=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:_}=i;return _.unsubscribe=()=>utils$1.asap(m),_}},streamChunk=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},readBytes=async function*(t,e){for await(const n of readStream(t))yield*streamChunk(n,e)},readStream=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},trackStream=(t,e,n,i)=>{const s=readBytes(t,e);let o=0,c,m=_=>{c||(c=!0,i&&i(_))};return new ReadableStream({async pull(_){try{const{done:h,value:d}=await s.next();if(h){m(),_.close();return}let f=d.byteLength;if(n){let b=o+=f;n(b)}_.enqueue(new Uint8Array(d))}catch(h){throw m(h),h}},cancel(_){return m(_),s.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),test=(t,...e)=>{try{return!!t(...e)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let t=!1;const e=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(t=>t.body)};isFetchSupported&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!resolvers[e]&&(resolvers[e]=utils$1.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new AxiosError$1(`Response type '${e}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,i)})})})(new Response);const getBodyLength=async t=>{if(t==null)return 0;if(utils$1.isBlob(t))return t.size;if(utils$1.isSpecCompliantForm(t))return(await new Request(platform.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(t)||utils$1.isArrayBuffer(t))return t.byteLength;if(utils$1.isURLSearchParams(t)&&(t=t+""),utils$1.isString(t))return(await encodeText(t)).byteLength},resolveBodyLength=async(t,e)=>{const n=utils$1.toFiniteNumber(t.getContentLength());return n??getBodyLength(e)},fetchAdapter=isFetchSupported&&(async t=>{let{url:e,method:n,data:i,signal:s,cancelToken:o,timeout:c,onDownloadProgress:m,onUploadProgress:_,responseType:h,headers:d,withCredentials:f="same-origin",fetchOptions:b}=resolveConfig(t);h=h?(h+"").toLowerCase():"text";let y=composeSignals([s,o&&o.toAbortSignal()],c),p;const v=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let A;try{if(_&&supportsRequestStream&&n!=="get"&&n!=="head"&&(A=await resolveBodyLength(d,i))!==0){let z=new Request(e,{method:"POST",body:i,duplex:"half"}),K;if(utils$1.isFormData(i)&&(K=z.headers.get("content-type"))&&d.setContentType(K),z.body){const[j,T]=progressEventDecorator(A,progressEventReducer(asyncDecorator(_)));i=trackStream(z.body,DEFAULT_CHUNK_SIZE,j,T)}}utils$1.isString(f)||(f=f?"include":"omit");const w="credentials"in Request.prototype;p=new Request(e,{...b,signal:y,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:w?f:void 0});let P=await fetch(p,b);const Z=supportsResponseStream&&(h==="stream"||h==="response");if(supportsResponseStream&&(m||Z&&v)){const z={};["status","statusText","headers"].forEach(I=>{z[I]=P[I]});const K=utils$1.toFiniteNumber(P.headers.get("content-length")),[j,T]=m&&progressEventDecorator(K,progressEventReducer(asyncDecorator(m),!0))||[];P=new Response(trackStream(P.body,DEFAULT_CHUNK_SIZE,j,()=>{T&&T(),v&&v()}),z)}h=h||"text";let Q=await resolvers[utils$1.findKey(resolvers,h)||"text"](P,t);return!Z&&v&&v(),await new Promise((z,K)=>{settle(z,K,{data:Q,headers:AxiosHeaders$1.from(P.headers),status:P.status,statusText:P.statusText,config:t,request:p})})}catch(w){throw v&&v(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,t,p),{cause:w.cause||w}):AxiosError$1.from(w,w&&w.code,t,p)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const renderReason=t=>`- ${t}`,isResolvedHandle=t=>utils$1.isFunction(t)||t===null||t===!1,adapters={getAdapter:t=>{t=utils$1.isArray(t)?t:[t];const{length:e}=t;let n,i;const s={};for(let o=0;o<e;o++){n=t[o];let c;if(i=n,!isResolvedHandle(n)&&(i=knownAdapters[(c=String(n)).toLowerCase()],i===void 0))throw new AxiosError$1(`Unknown adapter '${c}'`);if(i)break;s[c||"#"+o]=i}if(!i){const o=Object.entries(s).map(([m,_])=>`adapter ${m} `+(_===!1?"is not supported by the environment":"is not available in the build"));let c=e?o.length>1?`since :
`+o.map(renderReason).join(`
`):" "+renderReason(o[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:knownAdapters};function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError$1(null,t)}function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=AxiosHeaders$1.from(t.headers),t.data=transformData.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(t.adapter||defaults.adapter)(t).then(function(i){return throwIfCancellationRequested(t),i.data=transformData.call(t,t.transformResponse,i),i.headers=AxiosHeaders$1.from(i.headers),i},function(i){return isCancel$1(i)||(throwIfCancellationRequested(t),i&&i.response&&(i.response.data=transformData.call(t,t.transformResponse,i.response),i.response.headers=AxiosHeaders$1.from(i.response.headers))),Promise.reject(i)})}const VERSION$1="1.10.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{validators$1[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const deprecatedWarnings={};validators$1.transitional=function(e,n,i){function s(o,c){return"[Axios v"+VERSION$1+"] Transitional option '"+o+"'"+c+(i?". "+i:"")}return(o,c,m)=>{if(e===!1)throw new AxiosError$1(s(c," has been removed"+(n?" in "+n:"")),AxiosError$1.ERR_DEPRECATED);return n&&!deprecatedWarnings[c]&&(deprecatedWarnings[c]=!0,console.warn(s(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,c,m):!0}};validators$1.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function assertOptions(t,e,n){if(typeof t!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const o=i[s],c=e[o];if(c){const m=t[o],_=m===void 0||c(m,o,t);if(_!==!0)throw new AxiosError$1("option "+o+" must be "+_,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new AxiosError$1("Unknown option "+o,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(e){this.defaults=e||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=mergeConfig$1(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:o}=n;i!==void 0&&validator.assertOptions(i,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),s!=null&&(utils$1.isFunction(s)?n.paramsSerializer={serialize:s}:validator.assertOptions(s,{encode:validators.function,serialize:validators.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),validator.assertOptions(n,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=o&&utils$1.merge(o.common,o[n.method]);o&&utils$1.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=AxiosHeaders$1.concat(c,o);const m=[];let _=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(_=_&&v.synchronous,m.unshift(v.fulfilled,v.rejected))});const h=[];this.interceptors.response.forEach(function(v){h.push(v.fulfilled,v.rejected)});let d,f=0,b;if(!_){const p=[dispatchRequest.bind(this),void 0];for(p.unshift.apply(p,m),p.push.apply(p,h),b=p.length,d=Promise.resolve(n);f<b;)d=d.then(p[f++],p[f++]);return d}b=m.length;let y=n;for(f=0;f<b;){const p=m[f++],v=m[f++];try{y=p(y)}catch(A){v.call(this,A);break}}try{d=dispatchRequest.call(this,y)}catch(p){return Promise.reject(p)}for(f=0,b=h.length;f<b;)d=d.then(h[f++],h[f++]);return d}getUri(e){e=mergeConfig$1(this.defaults,e);const n=buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls);return buildURL(n,e.params,e.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(e){Axios$1.prototype[e]=function(n,i){return this.request(mergeConfig$1(i||{},{method:e,url:n,data:(i||{}).data}))}});utils$1.forEach(["post","put","patch"],function(e){function n(i){return function(o,c,m){return this.request(mergeConfig$1(m||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}Axios$1.prototype[e]=n(),Axios$1.prototype[e+"Form"]=n(!0)});let CancelToken$1=class mf{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(s=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](s);i._listeners=null}),this.promise.then=s=>{let o;const c=new Promise(m=>{i.subscribe(m),o=m}).then(s);return c.cancel=function(){i.unsubscribe(o)},c},e(function(o,c,m){i.reason||(i.reason=new CanceledError$1(o,c,m),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new mf(function(s){e=s}),cancel:e}}};function spread$1(t){return function(n){return t.apply(null,n)}}function isAxiosError$1(t){return utils$1.isObject(t)&&t.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([t,e])=>{HttpStatusCode$1[e]=t});function createInstance(t){const e=new Axios$1(t),n=bind(Axios$1.prototype.request,e);return utils$1.extend(n,Axios$1.prototype,e,{allOwnKeys:!0}),utils$1.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return createInstance(mergeConfig$1(t,s))},n}const axios=createInstance(defaults);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(e){return Promise.all(e)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=t=>formDataToJSON(utils$1.isHTMLForm(t)?new FormData(t):t);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all:all$1,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios,API_BASE$2="http://localhost:8000/api",AuthForm=()=>{const[t,e]=reactExports.useState(!0),[n,i]=reactExports.useState({username:"",email:"",password:""}),[s,o]=reactExports.useState({x:0,y:0}),[c,m]=reactExports.useState(!1),_=useNavigate();reactExports.useEffect(()=>{m(!0);const p=v=>{o({x:v.clientX,y:v.clientY})};return window.addEventListener("mousemove",p),()=>window.removeEventListener("mousemove",p)},[]);const h=async p=>{p.preventDefault();try{const{user:v}=await signInWithEmailAndPassword(auth,n.email,n.password),A=await v.getIdToken();localStorage.setItem("token",A),_("/dashboard")}catch(v){console.error(v),alert(`Login failed: ${v.message}`)}},d=async p=>{p.preventDefault();try{const{user:v}=await createUserWithEmailAndPassword(auth,n.email,n.password);await axios.post(`${API_BASE$2}/login/`,{username:n.username,email:v.email},{headers:{"X-Firebase-Uid":v.uid}}),e(!0)}catch(v){console.error(v),alert(`Signup failed: ${v.message}`)}},f=async()=>{const p=new GoogleAuthProvider;try{const v=await signInWithPopup(auth,p),{user:A}=v,w=await fetchSignInMethodsForEmail(auth,A.email);w.length!=1&&w[0]!="google.com"&&await axios.post(`${API_BASE$2}/login/`,{username:A.email,email:A.email},{headers:{"X-Firebase-UID":A.uid}}),e(!0),_("/dashboard")}catch(v){console.error(v),alert(`Google login failed: ${v.message}`)}},b=[{icon:jsxRuntimeExports.jsx(Brain,{className:"w-6 h-6"}),text:"AI-Powered Learning",color:"text-blue-400"},{icon:jsxRuntimeExports.jsx(Video,{className:"w-6 h-6"}),text:"Smart Video Curation",color:"text-purple-400"},{icon:jsxRuntimeExports.jsx(Globe,{className:"w-6 h-6"}),text:"Trusted Resources",color:"text-emerald-400"},{icon:jsxRuntimeExports.jsx(TestTube,{className:"w-6 h-6"}),text:"Adaptive Quizzes",color:"text-indigo-400"},{icon:jsxRuntimeExports.jsx(Shield,{className:"w-6 h-6"}),text:"Privacy Protected",color:"text-teal-400"},{icon:jsxRuntimeExports.jsx(TrendingUp,{className:"w-6 h-6"}),text:"Progress Tracking",color:"text-pink-400"}],y=[{number:"50K+",label:"Active Learners",icon:jsxRuntimeExports.jsx(Users,{className:"w-5 h-5"})},{number:"1M+",label:"Chapters Generated",icon:jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5"})},{number:"99.8%",label:"Success Rate",icon:jsxRuntimeExports.jsx(Star,{className:"w-5 h-5"})}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen overflow-x-hidden bg-gradient-to-br from-gray-900 via-slate-900 to-gray-800 text-white",children:[jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse",style:{left:s.x-192,top:s.y-192,transition:"all 0.3s ease-out"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 via-purple-600/5 to-indigo-700/5 animate-pulse"})]}),jsxRuntimeExports.jsx("div",{className:"relative h-screen flex items-center justify-center p-4 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:`w-full max-w-[800px] h-[800px] overflow-hidden transition-all duration-1000 rounded-3xl ${c?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-gray-800/90 to-slate-900/90 rounded-3xl shadow-2xl overflow-hidden backdrop-blur-sm border border-gray-700/50",children:jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 min-h-[600px]",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-blue-600/20 via-purple-600/20 to-indigo-700/20 p-4 lg:p-6 flex flex-col justify-center relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 via-purple-600/10 to-indigo-700/10 animate-pulse"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 rounded-2xl p-4 shadow-2xl border border-blue-400/30 animate-pulse",children:jsxRuntimeExports.jsx(Target,{className:"w-12 h-12 text-white"})}),jsxRuntimeExports.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-blue-400 via-purple-400 to-indigo-400 rounded-2xl blur opacity-30 animate-pulse"})]}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-white via-blue-100 to-indigo-200 bg-clip-text text-transparent",children:"AI Learning Hub"}),jsxRuntimeExports.jsx("p",{className:"text-blue-200 text-lg",children:"Learn Smarter, Not Harder"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:t?" Welcome Back!":" Join the Future of Learning"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:t?"Continue your personalized learning journey with AI-powered education tools.":"Transform your education with AI-generated content, smart quizzes, and curated resources."})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-4 mb-8",children:b.map((p,v)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center p-3 bg-gradient-to-r from-gray-700/60 to-slate-800/60 rounded-xl border border-gray-600/50 hover:border-indigo-500/50 transition-all duration-300 backdrop-blur-sm group",children:[jsxRuntimeExports.jsx("div",{className:`${p.color} mr-3 bg-gray-800/50 rounded-lg p-2 group-hover:animate-pulse`,children:p.icon}),jsxRuntimeExports.jsx("span",{className:"text-gray-100 font-medium text-sm",children:p.text})]},v))}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-4",children:y.map((p,v)=>jsxRuntimeExports.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-gray-700/60 to-slate-800/60 rounded-xl border border-gray-600/50 backdrop-blur-sm",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-2 text-blue-400",children:p.icon}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-white",children:p.number}),jsxRuntimeExports.jsx("div",{className:"text-gray-300 text-xs",children:p.label})]},v))})]})]}),jsxRuntimeExports.jsx("div",{className:"p-4 lg:p-6 flex flex-col justify-center",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto w-full",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx("div",{className:`bg-gradient-to-r ${t?"from-blue-600 to-indigo-600":"from-purple-600 to-pink-600"} rounded-2xl p-3 shadow-lg animate-pulse`,children:t?jsxRuntimeExports.jsx(LogIn,{className:"h-8 w-8 text-white"}):jsxRuntimeExports.jsx(UserPlus,{className:"h-8 w-8 text-white"})})}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:t?"Sign In":"Create Account"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:t?"Access your personalized learning dashboard":"Start your AI-powered learning journey"})]}),jsxRuntimeExports.jsxs("form",{className:"space-y-6",onSubmit:t?h:d,children:[!t&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center space-x-2",children:[jsxRuntimeExports.jsx(User$1,{className:"h-4 w-4 text-blue-400"}),jsxRuntimeExports.jsx("span",{children:"Username"})]}),jsxRuntimeExports.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 placeholder-gray-400 text-white backdrop-blur-sm",placeholder:"Choose a username",value:n.username,onChange:p=>i({...n,username:p.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4 text-blue-400"}),jsxRuntimeExports.jsx("span",{children:"Email"})]}),jsxRuntimeExports.jsx("input",{type:"email",className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 placeholder-gray-400 text-white backdrop-blur-sm",placeholder:"Enter your email",value:n.email,onChange:p=>i({...n,email:p.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Lock,{className:"h-4 w-4 text-blue-400"}),jsxRuntimeExports.jsx("span",{children:"Password"})]}),jsxRuntimeExports.jsx("input",{type:"password",className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 placeholder-gray-400 text-white backdrop-blur-sm",placeholder:"Enter your password",value:n.password,onChange:p=>i({...n,password:p.target.value}),required:!0})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"group w-full bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 hover:from-blue-700 hover:via-purple-700 hover:to-indigo-800 text-white py-4 px-6 rounded-xl font-bold text-lg shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-105 border border-blue-400/30",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 group-hover:animate-spin"}),t?"Sign In":"Create Account",jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),jsxRuntimeExports.jsxs("div",{className:"relative my-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center",children:jsxRuntimeExports.jsx("div",{className:"w-full border-t border-gray-600/50"})}),jsxRuntimeExports.jsx("div",{className:"relative flex justify-center text-sm",children:jsxRuntimeExports.jsx("span",{className:"px-3 bg-gradient-to-br from-gray-800/90 to-slate-900/90 text-gray-400",children:"or"})})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:f,className:"group w-full bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white py-4 px-6 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 border border-red-400/30",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3",children:[jsxRuntimeExports.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),jsxRuntimeExports.jsx("button",{type:"button",className:"group w-full bg-transparent border-2 border-gray-600/50 hover:border-indigo-500/50 text-gray-300 hover:text-white py-4 px-6 rounded-xl font-medium text-lg hover:bg-gray-700/20 transition-all duration-300 transform hover:scale-105",onClick:()=>e(!t),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3",children:[jsxRuntimeExports.jsx(Heart,{className:"w-5 h-5 group-hover:animate-pulse"}),t?"Need an account? Sign up":"Already have an account? Sign in"]})})]}),jsxRuntimeExports.jsx("div",{className:"text-center mt-8 pt-6 border-t border-gray-700/50",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-2 text-gray-400 text-sm",children:[jsxRuntimeExports.jsx(Coffee,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Join our community of learners"}),jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4"})]})})]})})]})})})})]})},NotFound=()=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h2",{children:"404 - Page Not Found"})}),API_BASE$1="http://localhost:8000/api",api=axios.create({baseURL:API_BASE$1,withCredentials:!0}),getCsrfToken=async()=>{try{return(await api.get("/csrf/")).data.csrfToken}catch(t){throw console.error("Error getting CSRF token:",t),t}},API_BASE="http://localhost:8000/api";async function uploadPdf(t){if(!t)throw new Error("No PDF file provided");const e=new FormData;e.append("pdf",t);const n=await getCsrfToken(),i=await getFirebaseIdToken(),s=await axios.post(`${API_BASE}/process-pdf/`,e,{headers:{"Content-Type":"multipart/form-data","X-CSRFToken":n,Authorization:`Bearer ${i}`},withCredentials:!0});return console.log("PDF upload response:",s.data),s.data}async function analyzeYoutube(t){if(!t)throw new Error("No YouTube URL provided");const e=await getCsrfToken(),n=await getFirebaseIdToken();return(await axios.post(`${API_BASE}/process-youtube/`,{video_url:t},{headers:{"Content-Type":"application/json","X-CSRFToken":e,Authorization:`Bearer ${n}`},withCredentials:!0})).data}async function askPdfQuestion(t,e){if(!t||!e?.trim())throw new Error("pdfId and question are required");const n=await getCsrfToken(),i=await getFirebaseIdToken();return(await axios.post(`${API_BASE}/answer-question/`,{pdf_id:t,question:e.trim()},{headers:{"Content-Type":"application/json","X-CSRFToken":n,Authorization:`Bearer ${i}`}})).data}async function fetchUserPDFList(){try{const t=await getFirebaseIdToken(),e=await getCsrfToken();if(!t)throw new Error("User not authenticated");const n=await fetch(`${API_BASE}/user/pdfs/`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"X-CSRFToken":e,"Content-Type":"application/json"}}),i=await n.json();if(!n.ok||!i.status)throw new Error(i.error||"Failed to fetch PDF list.");return i.data}catch(t){throw console.error("Error fetching user PDFs:",t),t}}async function deletePdf(t){try{const e=await getFirebaseIdToken(),n=await getCsrfToken();if(!e)throw new Error("User not authenticated");return{success:!0,message:(await axios.delete(`${API_BASE}/user/pdfs/${t}/`,{headers:{"X-CSRFToken":n,"Content-Type":"application/json",Authorization:`Bearer ${e}`}})).data.message}}catch(e){return console.error("Delete PDF error:",e.response?.data||e.message),{success:!1,message:e.response?.data?.message||"Something went wrong",error:e.response?.data?.error||null}}}async function askYoutubeQuestion(t,e){const n=await getFirebaseIdToken(),i=await getCsrfToken();if(!n)throw new Error("User not authenticated");return(await axios.post("http://localhost:8000/api/ask-youtube-question/",{video_id:t,question:e},{headers:{Authorization:`Bearer ${n}`,"X-CSRFToken":i,"Content-Type":"application/json"}})).data}async function fetchYouTubeHistory(){const t=await getFirebaseIdToken(),e=await getCsrfToken();if(!t)throw new Error("User not authenticated");const i=await(await fetch(`${API_BASE}/user/youtube-videos/`,{headers:{Authorization:`Bearer ${t}`,"X-CSRFToken":e,"Content-Type":"application/json"}})).json();if(!i.status)throw new Error("Failed to fetch YouTube history");return i.data}async function deleteYoutubeVideo(t){const e=await getFirebaseIdToken(),n=await getCsrfToken();if(!e)throw new Error("User not authenticated");const s=await(await fetch(`${API_BASE}/user/youtube-videos/${t}/`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"X-CSRFToken":n,"Content-Type":"application/json"}})).json();if(!s.status)throw new Error(s.error||"Failed to delete video");return s}async function fetchChapterGenerationHistory(){const t=await getFirebaseIdToken(),e=await getCsrfToken();if(!t)throw new Error("User not authenticated");return(await axios.get(`${API_BASE}/chapters/history/`,{withCredentials:!0,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json","X-CSRFToken":e}})).data.data}async function deleteChapterGeneration(t){const e=await getFirebaseIdToken(),n=await getCsrfToken(),i=await fetch(`${API_BASE}/chapters/${t}/`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"X-CSRFToken":n,"Content-Type":"application/json"},credentials:"include"});if(!i.ok){const s=await i.json();throw new Error(s.error||"Failed to delete generation")}return await i.json()}async function fetchChapterResources(t){try{const e=await getFirebaseIdToken(),n=await getCsrfToken();if(!e)throw new Error("User not authenticated");return(await axios.get(`${API_BASE}/chapters/${t}/resources/`,{headers:{Authorization:`Bearer ${e}`,"X-CSRFToken":n,"Content-Type":"application/json"}})).data.data}catch(e){throw console.error("Error fetching chapter resources:",e),e}}async function generateMultiVideoMCQs(t){if(!Array.isArray(t)||t.length!==4)throw new Error("You must provide exactly 4 video URLs.");const e=await getFirebaseIdToken(),n=await getCsrfToken();if(!e)throw new Error("User not authenticated");try{return(await axios.post(`${API_BASE}/generate-multi-mcqs/`,{video_urls:t,headers:{Authorization:`Bearer ${e}`,"X-CSRFToken":n,"Content-Type":"application/json"}})).data}catch(i){throw console.error("Failed to generate MCQs:",i.response?.data||i.message),i}}const QuizContext=reactExports.createContext(),QuizProvider=({children:t})=>{const[e,n]=reactExports.useState([]),[i,s]=reactExports.useState({}),[o,c]=reactExports.useState(0),[m,_]=reactExports.useState(!1);return jsxRuntimeExports.jsx(QuizContext.Provider,{value:{questions:e,setQuestions:n,userAnswers:i,setUserAnswers:s,current:o,setCurrent:c,showResults:m,setShowResults:_},children:t})},useQuiz=()=>reactExports.useContext(QuizContext),QuizLoading=()=>jsxRuntimeExports.jsx("div",{className:"min-h-screen p-6 overflow-x-hidden",children:jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto space-y-8",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-slate-800 to-gray-900 rounded-3xl shadow-2xl border border-gray-700/50 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:" p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-white/20 backdrop-blur-lg rounded-2xl p-3 shadow-lg",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-7 h-7 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white",children:"AI is Generating Your Quiz"}),jsxRuntimeExports.jsx("p",{className:"text-purple-100 font-medium",children:"Please wait while we analyze your videos and create intelligent questions"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-600 rounded-full p-1 animate-spin",children:jsxRuntimeExports.jsx("div",{className:"bg-gray-800 rounded-full w-20 h-20"})}),jsxRuntimeExports.jsx("div",{className:"relative bg-gradient-to-r from-purple-500 via-indigo-500 to-blue-600 rounded-full p-5 shadow-lg",children:jsxRuntimeExports.jsx(Brain,{className:"w-10 h-10 text-white animate-pulse"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full p-2 animate-bounce",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-3 h-3 text-white"})}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-2 -left-2 bg-gradient-to-r from-pink-400 to-red-500 rounded-full p-2 animate-bounce delay-75",children:jsxRuntimeExports.jsx(Zap,{className:"w-3 h-3 text-white"})})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-100 mb-2",children:"Crafting Your Personalized Quiz"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 font-medium",children:"Our AI is analyzing video content to create meaningful questions just for you"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"group bg-gradient-to-r from-gray-700 to-slate-800 rounded-xl p-4 border border-gray-600/50 transform hover:scale-105 transition-all duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl p-2 shadow-lg",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("h4",{className:"text-lg font-bold text-gray-100",children:"Analyzing Content"})}),jsxRuntimeExports.jsx("div",{className:"bg-green-500/20 rounded-full p-1",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4 text-green-400"})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 font-medium text-sm",children:"Processing video transcripts and identifying key learning points"})]}),jsxRuntimeExports.jsxs("div",{className:"group bg-gradient-to-r from-gray-700 to-slate-800 rounded-xl p-4 border border-gray-600/50 transform hover:scale-105 transition-all duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl p-2 shadow-lg",children:jsxRuntimeExports.jsx(Target,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("h4",{className:"text-lg font-bold text-gray-100",children:"Creating Questions"})}),jsxRuntimeExports.jsx("div",{className:"bg-blue-500/20 rounded-full p-1",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 text-blue-400 animate-spin"})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 font-medium text-sm",children:"Generating intelligent multiple-choice questions with explanations"})]}),jsxRuntimeExports.jsxs("div",{className:"group bg-gradient-to-r from-gray-700 to-slate-800 rounded-xl p-4 border border-gray-600/50 transform hover:scale-105 transition-all duration-300 opacity-60",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl p-2 shadow-lg",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("h4",{className:"text-lg font-bold text-gray-100",children:"Finalizing Quiz"})}),jsxRuntimeExports.jsx("div",{className:"bg-gray-500/20 rounded-full p-1",children:jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-gray-400"})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 font-medium text-sm",children:"Preparing your personalized learning experience"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-indigo-600/20 rounded-xl p-3 border border-blue-500/30 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold text-blue-300 mb-1",children:"AI"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-blue-200 font-medium",children:"Powered"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-xl p-3 border border-purple-500/30 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold text-purple-300 mb-1",children:""}),jsxRuntimeExports.jsx("div",{className:"text-xs text-purple-200 font-medium",children:"Possibilities"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-emerald-600/20 to-teal-600/20 rounded-xl p-3 border border-emerald-500/30 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold text-emerald-300 mb-1",children:"100%"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-emerald-200 font-medium",children:"Personalized"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-orange-600/20 to-red-600/20 rounded-xl p-3 border border-orange-500/30 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold text-orange-300 mb-1",children:""}),jsxRuntimeExports.jsx("div",{className:"text-xs text-orange-200 font-medium",children:"Smart"})]})]})]})]})})});function ResultsView({chapters:t,videos:e,websites:n,error:i,topic:s,grade:o,fromHistory:c,setError:m,fetchVideoResources:_,fetchWebResources:h,setVideos:d,setWebsites:f,activeTab:b,setActiveTab:y,chapterHistory:p,onBack:v}){const[A,w]=reactExports.useState(!1),[P,Z]=reactExports.useState(!1),Q=useNavigate(),{setQuestions:z,setUserAnswers:K,setCurrent:j,setShowResults:T}=useQuiz(),I=async R=>{if(!R)return m("Chapter cannot be blank");d([]),f([]),m("");const U=t.findIndex(G=>G.toLowerCase().trim()===R.toLowerCase().trim());if(U===-1)return m("Chapter not found in list.");if(c){const G=p[U];G?(d(G.videos||[]),f(G.websites||[])):m("No history found for this chapter.")}else{if(!s?.trim())return m("Topic cannot be blank");if(!o?.trim())return m("Grade cannot be blank");try{w(!0),await _(R);const G=await h({topic:s,grade:o,chapter:R});f(G)}catch(G){const ue=G?.response?.data?.error;m(ue||G.message||"Failed to fetch resources"),d([]),f([])}finally{w(!1)}}},Y=async()=>{console.log("Generating quiz for these videos:",e),Z(!0);try{const R=await generateMultiVideoMCQs(e);R.error?m(R.error):(console.log("Quiz generated successfully:",R),z(R.questions),K({}),j(0),Q("/quiz"))}catch(R){m(R.message||"Failed to generate quiz")}finally{Z(!1)}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen p-6 overflow-x-hidden",children:[P&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center",children:jsxRuntimeExports.jsx(QuizLoading,{})}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 rounded-3xl p-8 text-white shadow-2xl border border-blue-400/20",children:[jsxRuntimeExports.jsxs("button",{onClick:v,className:"inline-flex items-center gap-2 text-blue-100 hover:text-white hover:bg-white/15 px-4 py-2 rounded-xl transition-all duration-200 mb-6 backdrop-blur-sm",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back to input"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-white/20 backdrop-blur-lg rounded-2xl p-4 shadow-lg",children:jsxRuntimeExports.jsx(Target,{className:"w-8 h-8 text-blue-100"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"AI Learning Hub"}),jsxRuntimeExports.jsx("p",{className:"text-blue-100 text-lg font-medium",children:"Discover personalized educational resources powered by AI"})]})]})]}),i&&jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-red-900/40 to-pink-900/40 border border-red-500/50 rounded-2xl p-6 shadow-lg backdrop-blur-sm",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-red-500/20 rounded-full p-2",children:jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 text-red-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-red-300",children:"Error Detected"}),jsxRuntimeExports.jsx("p",{className:"text-red-200 font-medium",children:i})]})]})}),t.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-slate-800 to-gray-900 rounded-3xl shadow-2xl overflow-hidden border border-gray-700/50",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 border-b border-gray-700/30",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-white/20 backdrop-blur-lg rounded-2xl p-3 shadow-lg",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-7 h-7 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white",children:"AI-Generated Chapters"}),jsxRuntimeExports.jsx("p",{className:"text-blue-100 font-medium",children:"Click on any chapter to explore AI-curated resources"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white/20 backdrop-blur-lg text-white px-5 py-2 rounded-full font-bold border border-white/30",children:[t.length," chapters"]})]})}),jsxRuntimeExports.jsx("div",{className:"p-8",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((R,U)=>jsxRuntimeExports.jsxs("div",{onClick:()=>I(R),className:"group relative bg-gradient-to-br from-gray-700 to-slate-800 hover:from-gray-600 hover:to-slate-700 rounded-2xl p-6 transition-all duration-300 cursor-pointer transform hover:scale-105 hover:shadow-xl border border-gray-600/50 hover:border-indigo-500/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center text-white font-bold text-lg shadow-lg",children:U+1}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-gray-100 font-bold group-hover:text-indigo-300 transition-colors leading-relaxed overflow-hidden text-ellipsis break-words",children:R}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-3 text-gray-400",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-blue-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Click to explore"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/0 to-indigo-500/0 group-hover:from-blue-500/10 group-hover:to-indigo-500/20 rounded-2xl transition-all duration-300"})]},U))})})]}),A&&jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-gray-800 to-slate-900 rounded-3xl shadow-2xl border border-gray-700/50 p-12",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-600 rounded-full p-6 shadow-lg",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-10 h-10 text-white animate-spin"})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-600 rounded-full animate-pulse opacity-30"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-100 mb-2",children:"AI is Processing Resources"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 font-medium",children:"Our AI is curating the best personalized learning materials for you..."})]})]})}),(e.length>0||n.length>0)&&jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-red-900/20 rounded-3xl shadow-2xl border border-gray-700/50 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-red-600 to-pink-700 p-6 border-b border-gray-700/30",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-white/20 backdrop-blur-lg rounded-2xl p-3 shadow-lg",children:jsxRuntimeExports.jsx(Play,{className:"w-7 h-7 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white",children:"AI-Curated Videos"}),jsxRuntimeExports.jsx("p",{className:"text-red-100 font-medium",children:"Personalized video content for visual learning"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white/20 backdrop-blur-lg text-white px-5 py-2 rounded-full font-bold border border-white/30",children:[e.length," videos"]})]})}),jsxRuntimeExports.jsx("div",{className:"p-6 space-y-4",children:e.map((R,U)=>jsxRuntimeExports.jsxs("a",{href:R.url,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-4 p-5 bg-gradient-to-r from-gray-700 to-red-900/20 hover:from-red-900/20 hover:to-pink-900/20 rounded-2xl border border-gray-600/50 hover:border-pink-500/50 transition-all duration-300 transform hover:scale-102 hover:shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-red-500 to-pink-600 rounded-2xl flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsx(Play,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"text-gray-100 font-bold group-hover:text-red-300 transition-colors overflow-hidden text-ellipsis break-words",children:R.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mt-1 font-medium",children:"Click to watch AI-recommended video"})]}),jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 bg-gray-600 rounded-full p-2 shadow-sm group-hover:shadow-md transition-shadow border border-gray-500/50",children:jsxRuntimeExports.jsx(ExternalLink,{className:"w-5 h-5 text-gray-300 group-hover:text-red-400 transition-colors"})})]},U))})]}),n.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-emerald-900/20 rounded-3xl shadow-2xl border border-gray-700/50 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-700 p-6 border-b border-gray-700/30",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-white/20 backdrop-blur-lg rounded-2xl p-3 shadow-lg",children:jsxRuntimeExports.jsx(ExternalLink,{className:"w-7 h-7 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white",children:"AI-Selected Resources"}),jsxRuntimeExports.jsx("p",{className:"text-emerald-100 font-medium",children:"Intelligent reading materials and references"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white/20 backdrop-blur-lg text-white px-5 py-2 rounded-full font-bold border border-white/30",children:[n.length," sites"]})]})}),jsxRuntimeExports.jsx("div",{className:"p-6 space-y-4",children:n.map((R,U)=>jsxRuntimeExports.jsxs("a",{href:R.url,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-4 p-5 bg-gradient-to-r from-gray-700 to-emerald-900/20 hover:from-emerald-900/20 hover:to-teal-900/20 rounded-2xl border border-gray-600/50 hover:border-teal-500/50 transition-all duration-300 transform hover:scale-102 hover:shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsx(ExternalLink,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"text-gray-100 font-bold group-hover:text-emerald-300 transition-colors overflow-hidden text-ellipsis break-words",children:R.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mt-1 font-medium",children:"Click to visit AI-recommended website"})]}),jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 bg-gray-600 rounded-full p-2 shadow-sm group-hover:shadow-md transition-shadow border border-gray-500/50",children:jsxRuntimeExports.jsx(ExternalLink,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-400 transition-colors"})})]},U))})]})]}),e.length>0&&jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsxs("button",{onClick:Y,className:"group relative bg-gradient-to-r from-purple-600 via-indigo-600 to-blue-600 hover:from-purple-700 hover:via-indigo-700 hover:to-blue-700 text-white font-bold px-10 py-5 rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-105 border border-purple-300/30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{className:"text-lg",children:"Generate AI Quiz"})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 via-indigo-400 to-blue-400 rounded-2xl blur opacity-0 group-hover:opacity-30 transition-opacity duration-300"})]})})]})]})]})}function Model1history({setFromHistory:t,setChapterHistory:e,loading:n,setLoading:i}){const[s,o]=reactExports.useState([]),c=async()=>{try{const h=await fetchChapterGenerationHistory();o(h)}catch(h){console.error("Failed to load history:",h)}},m=async h=>{if(window.confirm("Are you sure you want to delete this generation?"))try{await deleteChapterGeneration(h),o(d=>d.filter(f=>f.id!==h))}catch(d){console.error("Delete failed:",d),alert("Failed to delete. Try again.")}};reactExports.useEffect(()=>{setTimeout(()=>{c()},1e3)},[]);const _=async h=>{if(!n){i(!0);try{const d=await fetchChapterResources(h.id);e(d),t(!0),i(!1)}catch(d){console.error("Failed to fetch chapter resources:",d),alert("Failed to load resources for this chapter. Try again.")}}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 rounded-3xl p-8 shadow-2xl border border-blue-400/20",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-white/20 backdrop-blur-lg rounded-2xl p-4 shadow-lg",children:jsxRuntimeExports.jsx(Clock,{className:"w-8 h-8 text-blue-100"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Chapter Generation History"}),jsxRuntimeExports.jsx("p",{className:"text-blue-100 text-lg font-medium",children:"Discover your previously generated AI-powered chapter outlines"})]})]})}),jsxRuntimeExports.jsx("div",{className:" rounded-3xl overflow-hidden ",children:jsxRuntimeExports.jsx("div",{className:"p-8",children:s.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-16",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-gray-700 to-slate-800 rounded-full p-6 w-24 h-24 mx-auto mb-6 shadow-lg",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-12 h-12 text-blue-400 mx-auto"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-100 mb-4",children:"No AI Learning History Yet"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg font-medium mb-2",children:"Your personalized chapter outlines will appear here"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Generate your first AI-powered chapter outline to get started"})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-3 shadow-lg",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-7 h-7 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white",children:"AI-Generated Learning Paths"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 font-medium",children:"Click on any entry to explore curated resources"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white/20 backdrop-blur-lg text-white px-5 py-2 rounded-full font-bold border border-white/30 ml-auto",children:[s.length," entries"]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.map(h=>jsxRuntimeExports.jsxs("div",{onClick:()=>_(h),className:"group relative bg-gradient-to-br from-gray-700 to-slate-800 hover:from-gray-600 hover:to-slate-700 rounded-2xl p-6 transition-all duration-300 cursor-pointer transform hover:scale-105 hover:shadow-xl border border-gray-600/50 hover:border-indigo-500/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 rounded-xl p-2 shadow-lg",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"font-bold text-xl text-gray-100 group-hover:text-indigo-300 transition-colors leading-relaxed",children:h.topic})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-gray-300 bg-gray-800/50 rounded-xl px-3 py-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4 text-emerald-400"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["Grade: ",h.grade]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-gray-300 bg-gray-800/50 rounded-xl px-3 py-2",children:[jsxRuntimeExports.jsx(Hash,{className:"w-4 h-4 text-blue-400"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[h.chapter_count," chapters"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mt-4 bg-gray-800/30 rounded-xl px-3 py-2",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-purple-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:new Date(h.created_at).toLocaleString()})]})]}),jsxRuntimeExports.jsx("button",{onClick:d=>{n||(d.stopPropagation(),m(h.id))},className:"flex-shrink-0 p-3 bg-red-900/20 hover:bg-red-900/40 text-red-400 hover:text-red-300 rounded-xl transition-all duration-200 border border-red-500/30 hover:border-red-500/50 shadow-lg",title:"Delete AI Generation",children:jsxRuntimeExports.jsx(Trash2,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/0 to-indigo-500/0 group-hover:from-blue-500/10 group-hover:to-indigo-500/20 rounded-2xl transition-all duration-300"})]},h.id))})]})})})]})})}function LoadingScreen(){const[t,e]=reactExports.useState(0),[n,i]=reactExports.useState(0),s=[{icon:Brain,text:"Initializing AI Learning Engine...",description:"Preparing personalized education algorithms",color:"from-blue-500 to-cyan-500"},{icon:BookOpen,text:"Analyzing Educational Content...",description:"Processing vast knowledge databases",color:"from-purple-500 to-pink-500"},{icon:Target,text:"Customizing Learning Path...",description:"Tailoring content to your needs",color:"from-emerald-500 to-teal-500"},{icon:Sparkles,text:"Generating Smart Resources...",description:"Creating your personalized study materials",color:"from-orange-500 to-red-500"},{icon:Zap,text:"Finalizing AI Experience...",description:"Almost ready for your learning journey",color:"from-indigo-500 to-purple-500"}];reactExports.useEffect(()=>{const c=setInterval(()=>{i(_=>_>=100?(clearInterval(c),100):_+2)},100),m=setInterval(()=>{e(_=>_>=s.length-1?(clearInterval(m),_):_+1)},2e3);return()=>{clearInterval(c),clearInterval(m)}},[]);const o=({icon:c,delay:m,size:_="w-6 h-6"})=>jsxRuntimeExports.jsx("div",{className:"absolute text-white/30 animate-pulse",style:{animationDelay:`${m}s`,animationDuration:"3s",top:`${Math.random()*80+10}%`,left:`${Math.random()*80+10}%`},children:jsxRuntimeExports.jsx(c,{className:_})});return jsxRuntimeExports.jsxs("div",{className:"min-h-screen min-w-screen bg-gradient-to-br from-slate-900/80 via-gray-900/80 to-slate-800/80 backdrop-blur-sm flex items-center justify-center p-6 relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((c,m)=>jsxRuntimeExports.jsx(o,{icon:[BookOpen,Brain,Lightbulb,Cpu,Sparkles][m%5],delay:m*.3,size:m%3===0?"w-8 h-8":"w-6 h-6"},m))}),jsxRuntimeExports.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-3xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-gradient-to-r from-pink-500/20 to-orange-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 bg-gradient-to-br from-gray-800/80 via-slate-800/80 to-gray-900/80 backdrop-blur-2xl rounded-3xl p-6 shadow-2xl border border-gray-700/50 max-w-xl w-full mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 rounded-full p-3 shadow-lg",children:jsxRuntimeExports.jsx(Brain,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"AI Learning Hub"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm font-medium",children:"Preparing your personalized educational experience"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center mb-4",children:jsxRuntimeExports.jsxs("div",{className:"relative mb-4",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 border-3 border-gray-700 rounded-full animate-spin border-t-transparent",children:jsxRuntimeExports.jsx("div",{className:`w-full h-full rounded-full bg-gradient-to-r ${s[t].color} p-1`,children:jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-gray-800 rounded-full flex items-center justify-center",children:React.createElement(s[t].icon,{className:"w-8 h-8 text-white animate-pulse"})})})}),jsxRuntimeExports.jsx("div",{className:`absolute inset-0 rounded-full bg-gradient-to-r ${s[t].color} opacity-20 animate-ping`})]})}),jsxRuntimeExports.jsxs("div",{className:"text-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-white mb-1",children:s[t].text}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm font-medium",children:s[t].description})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-400",children:"Progress"}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-bold text-white",children:[Math.round(n),"%"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:`h-full bg-gradient-to-r ${s[t].color} transition-all duration-300 ease-out rounded-full relative`,style:{width:`${n}%`},children:jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center space-x-3",children:s.map((c,m)=>jsxRuntimeExports.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-300 ${m<=t?`bg-gradient-to-r ${c.color} shadow-lg`:"bg-gray-600"}`,children:m===t&&jsxRuntimeExports.jsx("div",{className:`w-full h-full rounded-full bg-gradient-to-r ${c.color} animate-pulse`})},m))}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-blue-900/20 to-purple-900/20 rounded-xl p-3 border border-blue-500/20",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-4 h-4 text-yellow-400"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold text-yellow-400",children:"AI Fact"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-xs",children:"Our AI processes over 10 million educational resources to find the perfect content for you!"})]})})]})]})}function Resources(){const[t,e]=reactExports.useState(""),[n,i]=reactExports.useState(""),[s,o]=reactExports.useState([]),[c,m]=reactExports.useState(""),[_,h]=reactExports.useState(""),[d,f]=reactExports.useState(!1),[b,y]=reactExports.useState([]),[p,v]=reactExports.useState([]),[A,w]=reactExports.useState("form"),[P,Z]=reactExports.useState([]),[Q,z]=reactExports.useState(!1),K=[{value:"school",label:"Elementary School",icon:""},{value:"high school",label:"High School",icon:""},{value:"college",label:"College",icon:""},{value:"phd",label:"PhD Level",icon:""}],j="http://localhost:8000/api",T=async()=>{if(!d){if(!t.trim()||!n.trim()){h("Please fill in both the topic and grade."),o([]);return}f(!0);try{const U=await getCsrfToken(),G=await getFirebaseIdToken(),ue=await axios.post(`${j}/chapters/`,{topic:t,grade:n},{withCredentials:!0,headers:{"X-CSRFToken":U,"Content-Type":"application/json",Authorization:`Bearer ${G}`}});console.log("Response from server:",ue.data),o(ue.data?.data?.chapters||[]),m(""),h(""),w("results")}catch(U){m(U.response?.data?.error||"Something went wrong"),o([])}finally{f(!1)}}},I=async U=>{if(!t?.trim())return m("Topic cannot be blank");if(!n?.trim())return m("Grade cannot be blank");if(!U)return m("Chapter cannot be blank");try{m("");const G=await getFirebaseIdToken(),ue=await getCsrfToken(),he=await axios.post(`${j}/videos/`,{topic:t,grade:n,chapter:U},{withCredentials:!0,headers:{"X-CSRFToken":ue,"Content-Type":"application/json",Authorization:`Bearer ${G}`}});console.log("Video response:",he.data.data.videos),y(he.data?.data?.videos||[])}catch(G){const ue=G?.response?.data?.error;m(ue||G.message||"Failed to fetch videos"),y([])}},Y=async({topic:U,grade:G,chapter:ue})=>{const he=await getCsrfToken(),se=await getFirebaseIdToken();return(await axios.post(`${j}/websites/`,{topic:U,grade:G,chapter:ue},{withCredentials:!0,headers:{"X-CSRFToken":he,"Content-Type":"application/json",Authorization:`Bearer ${se}`}})).data?.data?.websites||[]},R=()=>K.find(U=>U.value===n);return reactExports.useEffect(()=>{if(Q){const U=P.map(G=>G.name);o(U),console.log("Chapter names:",U),w("results")}},[Q,P]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen p-4",children:[d&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-white/60 dark:bg-slate-900/60 backdrop-blur-sm flex flex-col items-center justify-center",children:jsxRuntimeExports.jsx(LoadingScreen,{})}),jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[A==="form"&&jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-lg rounded-2xl shadow-xl border border-slate-200/50 dark:border-slate-700/50 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"relative bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 p-8",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 backdrop-blur-sm"}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-white/20 backdrop-blur-sm rounded-xl border border-white/30",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white",children:"Create Your Learning Path"}),jsxRuntimeExports.jsx("p",{className:"text-white/90 text-lg mt-1",children:"Generate comprehensive chapter outlines tailored to your level"})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 w-20 h-20 bg-white/10 rounded-full blur-xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-4 right-8 w-16 h-16 bg-white/10 rounded-full blur-lg animate-pulse"})]}),jsxRuntimeExports.jsxs("div",{className:"p-8 space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Target,{className:"w-5 h-5 text-blue-500"}),jsxRuntimeExports.jsx("label",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"What would you like to learn?"})]}),jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter your topic (e.g., Machine Learning, History of Rome, Quantum Physics)",value:t,onChange:U=>e(U.target.value),className:"w-full p-4 pl-12 text-lg border-2 border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-300 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 group-hover:border-blue-300 dark:group-hover:border-blue-400"}),jsxRuntimeExports.jsx(Sparkles,{className:"absolute left-4 top-4 w-6 h-6 text-blue-500 group-focus-within:animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-blue-500/0 via-purple-500/0 to-pink-500/0 group-focus-within:from-blue-500/5 group-focus-within:via-purple-500/5 group-focus-within:to-pink-500/5 transition-all duration-300 pointer-events-none"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(GraduationCap,{className:"w-5 h-5 text-purple-500"}),jsxRuntimeExports.jsx("label",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"Choose your academic level"})]}),jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsxs("select",{value:n,onChange:U=>i(U.target.value),className:"w-full p-4 pl-12 pr-12 text-lg border-2 border-slate-200 dark:border-slate-600 rounded-xl focus:outline-none focus:ring-4 focus:ring-purple-500/20 focus:border-purple-500 transition-all duration-300 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 appearance-none cursor-pointer group-hover:border-purple-300 dark:group-hover:border-purple-400",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select your academic level"}),K.map(U=>jsxRuntimeExports.jsxs("option",{value:U.value,children:[U.icon," ",U.label]},U.value))]}),jsxRuntimeExports.jsx(GraduationCap,{className:"absolute left-4 top-4 w-6 h-6 text-purple-500 group-focus-within:animate-pulse"}),jsxRuntimeExports.jsx(ChevronDown,{className:"absolute right-4 top-4 w-6 h-6 text-slate-400 group-focus-within:text-purple-500 transition-colors duration-200"})]})]}),n&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-slate-50 to-blue-50 dark:from-slate-700 dark:to-slate-600 rounded-xl border border-slate-200 dark:border-slate-600 transition-all duration-300",children:[jsxRuntimeExports.jsx("div",{className:`w-3 h-3 rounded-full bg-gradient-to-r ${R()?.color||"from-blue-400 to-purple-500"}`}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:["Selected: ",R()?.icon," ",R()?.label]})]}),_&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 border-2 border-red-200 dark:border-red-800 rounded-xl transition-all duration-300",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 text-red-500 flex-shrink-0 animate-pulse"}),jsxRuntimeExports.jsx("p",{className:"text-red-700 dark:text-red-400 font-medium",children:_})]}),jsxRuntimeExports.jsxs("button",{onClick:T,disabled:d,className:`w-full font-bold py-4 px-8 rounded-xl text-lg transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-offset-2 transform hover:scale-[1.02] active:scale-[0.98] ${d?"bg-slate-400 cursor-not-allowed scale-100":"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 shadow-lg hover:shadow-xl focus:ring-blue-500/50"} text-white relative overflow-hidden group`,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 opacity-0 group-hover:opacity-20 transition-opacity duration-300"}),d?jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-3",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-6 h-6 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Generating Amazing Chapters..."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-1 bg-white/60 rounded-full animate-bounce"}),jsxRuntimeExports.jsx("div",{className:"w-1 h-1 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),jsxRuntimeExports.jsx("div",{className:"w-1 h-1 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]}):jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-3 relative",children:[jsxRuntimeExports.jsx(Zap,{className:"w-6 h-6 group-hover:animate-pulse"}),jsxRuntimeExports.jsx("span",{children:"Generate Chapters"}),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-200"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-lg rounded-2xl shadow-lg border border-slate-200/50 dark:border-slate-700/50 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[jsxRuntimeExports.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Recent Learning Sessions"]}),jsxRuntimeExports.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Continue from where you left off"})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsx(Model1history,{setFromHistory:z,setChapterHistory:Z,loading:d,setLoading:f})})]})]}),A==="results"&&jsxRuntimeExports.jsx("div",{className:"transition-all duration-500 ease-in-out",children:jsxRuntimeExports.jsx(ResultsView,{chapters:s,videos:b,websites:p,error:c,setError:m,topic:t,fetchVideoResources:I,fetchWebResources:Y,grade:n,setVideos:y,setWebsites:v,fromHistory:Q,chapterHistory:P,onBack:()=>w("form")})})]})]})}var lib$i={exports:{}},core_min={};function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(e,n){module.exports=e.pdfjsLib=n()})(globalThis,()=>(()=>{var __webpack_modules__=[,(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=$,e.bytesToString=ye,e.createValidAbsoluteUrl=J,e.getModificationDate=Ve,e.getUuid=gn,e.getVerbosityLevel=he,e.info=se,e.isArrayBuffer=Pt,e.isArrayEqual=Be,e.isNodeJS=void 0,e.normalizeUnicode=Ut,e.objectFromMap=Le,e.objectSize=Je,e.setVerbosityLevel=ue,e.shadow=ae,e.string32=je,e.stringToBytes=xe,e.stringToPDFString=rt,e.stringToUTF8String=pt,e.unreachable=W,e.utf8StringToString=vt,e.warn=ee;const n=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=n;const i=[1,0,0,1,0,0];e.IDENTITY_MATRIX=i;const s=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=s;const o=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=o;const c=1.35;e.LINE_FACTOR=c;const m=.35;e.LINE_DESCENT_FACTOR=m;const _=m/c;e.BASELINE_FACTOR=_;const h={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=h;const d={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=d;const f="pdfjs_internal_editor_";e.AnnotationEditorPrefix=f;const b={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=b;const y={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=y;const p={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=p;const v={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=v;const A={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=A;const w={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=w;const P={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=P;const Z={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=Z;const Q={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=Q;const z={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=z;const K={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=K;const j={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=j;const T={O:"PageOpen",C:"PageClose"};e.PageActionEventType=T;const I={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=I;const Y={NONE:0,BINARY:1};e.CMapCompressionType=Y;const R={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=R;const U={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=U;let G=I.WARNINGS;function ue(et){Number.isInteger(et)&&(G=et)}function he(){return G}function se(et){G>=I.INFOS&&console.log(`Info: ${et}`)}function ee(et){G>=I.WARNINGS&&console.log(`Warning: ${et}`)}function W(et){throw new Error(et)}function $(et,Pe){et||W(Pe)}function S(et){switch(et?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function J(et,Pe=null,Te=null){if(!et)return null;try{if(Te&&typeof et=="string"&&(Te.addDefaultProtocol&&et.startsWith("www.")&&et.match(/\./g)?.length>=2&&(et=`http://${et}`),Te.tryConvertEncoding))try{et=pt(et)}catch{}const ct=Pe?new URL(et,Pe):new URL(et);if(S(ct))return ct}catch{}return null}function ae(et,Pe,Te,ct=!1){return Object.defineProperty(et,Pe,{value:Te,enumerable:!ct,configurable:!0,writable:!1}),Te}const D=function(){function Pe(Te,ct){this.constructor===Pe&&W("Cannot initialize BaseException."),this.message=Te,this.name=ct}return Pe.prototype=new Error,Pe.constructor=Pe,Pe}();e.BaseException=D;class de extends D{constructor(Pe,Te){super(Pe,"PasswordException"),this.code=Te}}e.PasswordException=de;class ce extends D{constructor(Pe,Te){super(Pe,"UnknownErrorException"),this.details=Te}}e.UnknownErrorException=ce;class H extends D{constructor(Pe){super(Pe,"InvalidPDFException")}}e.InvalidPDFException=H;class ne extends D{constructor(Pe){super(Pe,"MissingPDFException")}}e.MissingPDFException=ne;class oe extends D{constructor(Pe,Te){super(Pe,"UnexpectedResponseException"),this.status=Te}}e.UnexpectedResponseException=oe;class me extends D{constructor(Pe){super(Pe,"FormatError")}}e.FormatError=me;class ve extends D{constructor(Pe){super(Pe,"AbortException")}}e.AbortException=ve;function ye(et){(typeof et!="object"||et?.length===void 0)&&W("Invalid argument for bytesToString");const Pe=et.length,Te=8192;if(Pe<Te)return String.fromCharCode.apply(null,et);const ct=[];for(let zt=0;zt<Pe;zt+=Te){const It=Math.min(zt+Te,Pe),Wt=et.subarray(zt,It);ct.push(String.fromCharCode.apply(null,Wt))}return ct.join("")}function xe(et){typeof et!="string"&&W("Invalid argument for stringToBytes");const Pe=et.length,Te=new Uint8Array(Pe);for(let ct=0;ct<Pe;++ct)Te[ct]=et.charCodeAt(ct)&255;return Te}function je(et){return String.fromCharCode(et>>24&255,et>>16&255,et>>8&255,et&255)}function Je(et){return Object.keys(et).length}function Le(et){const Pe=Object.create(null);for(const[Te,ct]of et)Pe[Te]=ct;return Pe}function qe(){const et=new Uint8Array(4);return et[0]=1,new Uint32Array(et.buffer,0,1)[0]===1}function ze(){try{return new Function(""),!0}catch{return!1}}class ke{static get isLittleEndian(){return ae(this,"isLittleEndian",qe())}static get isEvalSupported(){return ae(this,"isEvalSupported",ze())}static get isOffscreenCanvasSupported(){return ae(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?ae(this,"platform",{isWin:!1,isMac:!1}):ae(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return ae(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}e.FeatureTest=ke;const De=[...Array(256).keys()].map(et=>et.toString(16).padStart(2,"0"));class tt{static makeHexColor(Pe,Te,ct){return`#${De[Pe]}${De[Te]}${De[ct]}`}static scaleMinMax(Pe,Te){let ct;Pe[0]?(Pe[0]<0&&(ct=Te[0],Te[0]=Te[1],Te[1]=ct),Te[0]*=Pe[0],Te[1]*=Pe[0],Pe[3]<0&&(ct=Te[2],Te[2]=Te[3],Te[3]=ct),Te[2]*=Pe[3],Te[3]*=Pe[3]):(ct=Te[0],Te[0]=Te[2],Te[2]=ct,ct=Te[1],Te[1]=Te[3],Te[3]=ct,Pe[1]<0&&(ct=Te[2],Te[2]=Te[3],Te[3]=ct),Te[2]*=Pe[1],Te[3]*=Pe[1],Pe[2]<0&&(ct=Te[0],Te[0]=Te[1],Te[1]=ct),Te[0]*=Pe[2],Te[1]*=Pe[2]),Te[0]+=Pe[4],Te[1]+=Pe[4],Te[2]+=Pe[5],Te[3]+=Pe[5]}static transform(Pe,Te){return[Pe[0]*Te[0]+Pe[2]*Te[1],Pe[1]*Te[0]+Pe[3]*Te[1],Pe[0]*Te[2]+Pe[2]*Te[3],Pe[1]*Te[2]+Pe[3]*Te[3],Pe[0]*Te[4]+Pe[2]*Te[5]+Pe[4],Pe[1]*Te[4]+Pe[3]*Te[5]+Pe[5]]}static applyTransform(Pe,Te){const ct=Pe[0]*Te[0]+Pe[1]*Te[2]+Te[4],zt=Pe[0]*Te[1]+Pe[1]*Te[3]+Te[5];return[ct,zt]}static applyInverseTransform(Pe,Te){const ct=Te[0]*Te[3]-Te[1]*Te[2],zt=(Pe[0]*Te[3]-Pe[1]*Te[2]+Te[2]*Te[5]-Te[4]*Te[3])/ct,It=(-Pe[0]*Te[1]+Pe[1]*Te[0]+Te[4]*Te[1]-Te[5]*Te[0])/ct;return[zt,It]}static getAxialAlignedBoundingBox(Pe,Te){const ct=this.applyTransform(Pe,Te),zt=this.applyTransform(Pe.slice(2,4),Te),It=this.applyTransform([Pe[0],Pe[3]],Te),Wt=this.applyTransform([Pe[2],Pe[1]],Te);return[Math.min(ct[0],zt[0],It[0],Wt[0]),Math.min(ct[1],zt[1],It[1],Wt[1]),Math.max(ct[0],zt[0],It[0],Wt[0]),Math.max(ct[1],zt[1],It[1],Wt[1])]}static inverseTransform(Pe){const Te=Pe[0]*Pe[3]-Pe[1]*Pe[2];return[Pe[3]/Te,-Pe[1]/Te,-Pe[2]/Te,Pe[0]/Te,(Pe[2]*Pe[5]-Pe[4]*Pe[3])/Te,(Pe[4]*Pe[1]-Pe[5]*Pe[0])/Te]}static singularValueDecompose2dScale(Pe){const Te=[Pe[0],Pe[2],Pe[1],Pe[3]],ct=Pe[0]*Te[0]+Pe[1]*Te[2],zt=Pe[0]*Te[1]+Pe[1]*Te[3],It=Pe[2]*Te[0]+Pe[3]*Te[2],Wt=Pe[2]*Te[1]+Pe[3]*Te[3],Wn=(ct+Wt)/2,Vn=Math.sqrt((ct+Wt)**2-4*(ct*Wt-It*zt))/2,cr=Wn+Vn||1,Cn=Wn-Vn||1;return[Math.sqrt(cr),Math.sqrt(Cn)]}static normalizeRect(Pe){const Te=Pe.slice(0);return Pe[0]>Pe[2]&&(Te[0]=Pe[2],Te[2]=Pe[0]),Pe[1]>Pe[3]&&(Te[1]=Pe[3],Te[3]=Pe[1]),Te}static intersect(Pe,Te){const ct=Math.max(Math.min(Pe[0],Pe[2]),Math.min(Te[0],Te[2])),zt=Math.min(Math.max(Pe[0],Pe[2]),Math.max(Te[0],Te[2]));if(ct>zt)return null;const It=Math.max(Math.min(Pe[1],Pe[3]),Math.min(Te[1],Te[3])),Wt=Math.min(Math.max(Pe[1],Pe[3]),Math.max(Te[1],Te[3]));return It>Wt?null:[ct,It,zt,Wt]}static bezierBoundingBox(Pe,Te,ct,zt,It,Wt,Wn,Vn){const cr=[],Cn=[[],[]];let fr,Qn,yr,yn,Mr,vn,zn,jn;for(let Dr=0;Dr<2;++Dr){if(Dr===0?(Qn=6*Pe-12*ct+6*It,fr=-3*Pe+9*ct-9*It+3*Wn,yr=3*ct-3*Pe):(Qn=6*Te-12*zt+6*Wt,fr=-3*Te+9*zt-9*Wt+3*Vn,yr=3*zt-3*Te),Math.abs(fr)<1e-12){if(Math.abs(Qn)<1e-12)continue;yn=-yr/Qn,0<yn&&yn<1&&cr.push(yn);continue}zn=Qn*Qn-4*yr*fr,jn=Math.sqrt(zn),!(zn<0)&&(Mr=(-Qn+jn)/(2*fr),0<Mr&&Mr<1&&cr.push(Mr),vn=(-Qn-jn)/(2*fr),0<vn&&vn<1&&cr.push(vn))}let rr=cr.length,Jn;const ui=rr;for(;rr--;)yn=cr[rr],Jn=1-yn,Cn[0][rr]=Jn*Jn*Jn*Pe+3*Jn*Jn*yn*ct+3*Jn*yn*yn*It+yn*yn*yn*Wn,Cn[1][rr]=Jn*Jn*Jn*Te+3*Jn*Jn*yn*zt+3*Jn*yn*yn*Wt+yn*yn*yn*Vn;return Cn[0][ui]=Pe,Cn[1][ui]=Te,Cn[0][ui+1]=Wn,Cn[1][ui+1]=Vn,Cn[0].length=Cn[1].length=ui+2,[Math.min(...Cn[0]),Math.min(...Cn[1]),Math.max(...Cn[0]),Math.max(...Cn[1])]}}e.Util=tt;const Xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function rt(et){if(et[0]>=""){let Te;if(et[0]===""&&et[1]===""?Te="utf-16be":et[0]===""&&et[1]===""?Te="utf-16le":et[0]===""&&et[1]===""&&et[2]===""&&(Te="utf-8"),Te)try{const ct=new TextDecoder(Te,{fatal:!0}),zt=xe(et);return ct.decode(zt)}catch(ct){ee(`stringToPDFString: "${ct}".`)}}const Pe=[];for(let Te=0,ct=et.length;Te<ct;Te++){const zt=Xe[et.charCodeAt(Te)];Pe.push(zt?String.fromCharCode(zt):et.charAt(Te))}return Pe.join("")}function pt(et){return decodeURIComponent(escape(et))}function vt(et){return unescape(encodeURIComponent(et))}function Pt(et){return typeof et=="object"&&et?.byteLength!==void 0}function Be(et,Pe){if(et.length!==Pe.length)return!1;for(let Te=0,ct=et.length;Te<ct;Te++)if(et[Te]!==Pe[Te])return!1;return!0}function Ve(et=new Date){return[et.getUTCFullYear().toString(),(et.getUTCMonth()+1).toString().padStart(2,"0"),et.getUTCDate().toString().padStart(2,"0"),et.getUTCHours().toString().padStart(2,"0"),et.getUTCMinutes().toString().padStart(2,"0"),et.getUTCSeconds().toString().padStart(2,"0")].join("")}class mt{#e=!1;constructor(){this.promise=new Promise((Pe,Te)=>{this.resolve=ct=>{this.#e=!0,Pe(ct)},this.reject=ct=>{this.#e=!0,Te(ct)}})}get settled(){return this.#e}}e.PromiseCapability=mt;let ht=null,wt=null;function Ut(et){return ht||(ht=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,wt=new Map([["","t"]])),et.replaceAll(ht,(Pe,Te,ct)=>Te?Te.normalize("NFKC"):wt.get(ct))}function gn(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const et=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(et);else for(let Pe=0;Pe<32;Pe++)et[Pe]=Math.floor(Math.random()*255);return ye(et)}const Gt="pdfjs_internal_id_";e.AnnotationPrefix=Gt},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(t){if(typeof t=="string"||t instanceof URL?t={url:t}:(0,_util.isArrayBuffer)(t)&&(t={data:t}),typeof t!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const e=new PDFDocumentLoadingTask,{docId:n}=e,i=t.url?getUrlProp(t.url):null,s=t.data?getDataProp(t.data):null,o=t.httpHeaders||null,c=t.withCredentials===!0,m=t.password??null,_=t.range instanceof PDFDataRangeTransport?t.range:null,h=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let d=t.worker instanceof PDFWorker?t.worker:null;const f=t.verbosity,b=typeof t.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(t.docBaseUrl)?t.docBaseUrl:null,y=typeof t.cMapUrl=="string"?t.cMapUrl:null,p=t.cMapPacked!==!1,v=t.CMapReaderFactory||DefaultCMapReaderFactory,A=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,w=t.StandardFontDataFactory||DefaultStandardFontDataFactory,P=t.stopAtErrors!==!0,Z=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,Q=t.isEvalSupported!==!1,z=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!_util.isNodeJS,K=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,j=typeof t.disableFontFace=="boolean"?t.disableFontFace:_util.isNodeJS,T=t.fontExtraProperties===!0,I=t.enableXfa===!0,Y=t.ownerDocument||globalThis.document,R=t.disableRange===!0,U=t.disableStream===!0,G=t.disableAutoFetch===!0,ue=t.pdfBug===!0,he=_?_.length:t.length??NaN,se=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!_util.isNodeJS&&!j,ee=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:v===_display_utils.DOMCMapReaderFactory&&w===_display_utils.DOMStandardFontDataFactory&&y&&A&&(0,_display_utils.isValidFetchUrl)(y,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(A,document.baseURI),W=t.canvasFactory||new DefaultCanvasFactory({ownerDocument:Y}),$=t.filterFactory||new DefaultFilterFactory({docId:n,ownerDocument:Y}),S=null;(0,_util.setVerbosityLevel)(f);const J={canvasFactory:W,filterFactory:$};if(ee||(J.cMapReaderFactory=new v({baseUrl:y,isCompressed:p}),J.standardFontDataFactory=new w({baseUrl:A})),!d){const de={verbosity:f,port:_worker_options.GlobalWorkerOptions.workerPort};d=de.port?PDFWorker.fromPort(de):new PDFWorker(de),e._worker=d}const ae={docId:n,apiVersion:"3.11.174",data:s,password:m,disableAutoFetch:G,rangeChunkSize:h,length:he,docBaseUrl:b,enableXfa:I,evaluatorOptions:{maxImageSize:Z,disableFontFace:j,ignoreErrors:P,isEvalSupported:Q,isOffscreenCanvasSupported:z,canvasMaxAreaInBytes:K,fontExtraProperties:T,useSystemFonts:se,cMapUrl:ee?y:null,standardFontDataUrl:ee?A:null}},D={ignoreErrors:P,isEvalSupported:Q,disableFontFace:j,fontExtraProperties:T,enableXfa:I,ownerDocument:Y,disableAutoFetch:G,pdfBug:ue,styleElement:S};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");const de=_fetchDocument(d,ae),ce=new Promise(function(H){let ne;_?ne=new _transport_stream.PDFDataTransportStream({length:he,initialData:_.initialData,progressiveDone:_.progressiveDone,contentDispositionFilename:_.contentDispositionFilename,disableRange:R,disableStream:U},_):s||(ne=(me=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(me):(0,_display_utils.isValidFetchUrl)(me.url)?new _displayFetch_stream.PDFFetchStream(me):new _displayNetwork.PDFNetworkStream(me))({url:i,length:he,httpHeaders:o,withCredentials:c,rangeChunkSize:h,disableRange:R,disableStream:U})),H(ne)});return Promise.all([de,ce]).then(function([H,ne]){if(e.destroyed)throw new Error("Loading aborted");const oe=new _message_handler.MessageHandler(n,H,d.port),me=new WorkerTransport(oe,e,ne,D,J);e._transport=me,oe.send("Ready",null)})}).catch(e._capability.reject),e}async function _fetchDocument(t,e){if(t.destroyed)throw new Error("Worker was destroyed");const n=await t.messageHandler.sendWithPromise("GetDocRequest",e,e.data?[e.data.buffer]:null);if(t.destroyed)throw new Error("Worker was destroyed");return n}function getUrlProp(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(_util.isNodeJS&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(t){if(_util.isNodeJS&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return(0,_util.stringToBytes)(t);if(typeof t=="object"&&!isNaN(t?.length)||(0,_util.isArrayBuffer)(t))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,n,i=!1,s=null){this.length=e,this.initialData=n,this.progressiveDone=i,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(const i of this._rangeListeners)i(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,n){this._pdfInfo=e,this._transport=n,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(i=>{if(!i)return i;const s=[];for(const o in i)s.push(...i[o]);return s}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(e,n,i,s=!1){this._pageIndex=e,this._pageInfo=n,this._transport=i,this._stats=s?new _display_utils.StatTimer:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:n,offsetX:i,offsetY:s,dontFlip:o})}getAnnotations({intent:e="display"}={}){const n=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:n,intent:i="display",annotationMode:s=_util.AnnotationMode.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:m=null,annotationCanvasMap:_=null,pageColors:h=null,printAnnotationStorage:d=null}){this._stats?.time("Overall");const f=this._transport.getRenderingIntent(i,s,d);this.#t=!1,this.#r(),m||(m=this._transport.getOptionalContentConfig());let b=this._intentStates.get(f.cacheKey);b||(b=Object.create(null),this._intentStates.set(f.cacheKey,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const y=!!(f.renderingIntent&_util.RenderingIntentFlag.PRINT);b.displayReadyCapability||(b.displayReadyCapability=new _util.PromiseCapability,b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(f));const p=w=>{b.renderTasks.delete(v),(this._maybeCleanupAfterRender||y)&&(this.#t=!0),this.#n(!y),w?(v.capability.reject(w),this._abortOperatorList({intentState:b,reason:w instanceof Error?w:new Error(w)})):v.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},v=new InternalRenderTask({callback:p,params:{canvasContext:e,viewport:n,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:_,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:h});(b.renderTasks||=new Set).add(v);const A=v.task;return Promise.all([b.displayReadyCapability.promise,m]).then(([w,P])=>{if(this.destroyed){p();return}this._stats?.time("Rendering"),v.initializeGraphics({transparency:w,optionalContentConfig:P}),v.operatorListChanged()}).catch(p),A}getOperatorList({intent:e="display",annotationMode:n=_util.AnnotationMode.ENABLE,printAnnotationStorage:i=null}={}){function s(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(m))}const o=this._transport.getRenderingIntent(e,n,i,!0);let c=this._intentStates.get(o.cacheKey);c||(c=Object.create(null),this._intentStates.set(o.cacheKey,c));let m;return c.opListReadCapability||(m=Object.create(null),m.operatorListChanged=s,c.opListReadCapability=new _util.PromiseCapability,(c.renderTasks||=new Set).add(m),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const n=this.streamTextContent(e);return new Promise(function(i,s){function o(){c.read().then(function({value:_,done:h}){if(h){i(m);return}Object.assign(m.styles,_.styles),m.items.push(..._.items),o()},s)}const c=n.getReader(),m={items:[],styles:Object.create(null)};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const i of n.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(e)}cleanup(e=!1){this.#t=!0;const n=this.#n(!1);return e&&n&&(this._stats&&=new _display_utils.StatTimer),n}#n(e=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:n,operatorList:i}of this._intentStates.values())if(n.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,n){const i=this._intentStates.get(n);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(e))}_renderPageChunk(e,n){for(let i=0,s=e.length;i<s;i++)n.operatorList.fnArray.push(e.fnArray[i]),n.operatorList.argsArray.push(e.argsArray[i]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const i of n.renderTasks)i.operatorListChanged();e.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:i}){const{map:s,transfers:o}=i,m=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:s},o).getReader(),_=this._intentStates.get(n);_.streamReader=m;const h=()=>{m.read().then(({value:d,done:f})=>{if(f){_.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,_),h())},d=>{if(_.streamReader=null,!this._transport.destroyed){if(_.operatorList){_.operatorList.lastChunk=!0;for(const f of _.renderTasks)f.operatorListChanged();this.#n(!0)}if(_.displayReadyCapability)_.displayReadyCapability.reject(d);else if(_.opListReadCapability)_.opListReadCapability.reject(d);else throw d}})};h()}_abortOperatorList({intentState:e,reason:n,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException){let s=RENDERING_CANCELLED_TIMEOUT;n.extraDelay>0&&n.extraDelay<1e3&&(s+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},s);return}}if(e.streamReader.cancel(new _util.AbortException(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,o]of this._intentStates)if(o===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(e,n){const i={data:structuredClone(e,n?{transfer:n}:null)};this.#t.then(()=>{for(const s of this.#e)s.call(this,i)})}addEventListener(e,n){this.#e.add(n)}removeEventListener(e,n){this.#e.delete(n)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const t=document?.currentScript?.src;t&&(PDFWorkerUtil.fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(e,n);return n.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(t){const e=`importScripts("${t}");`;return URL.createObjectURL(new Blob([e]))}}class PDFWorker{static#workerPorts;constructor({name:t=null,port:e=null,verbosity:n=(0,_util.getVerbosityLevel)()}={}){if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,e){if(PDFWorker.#workerPorts?.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:t}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t),n=new _message_handler.MessageHandler("main","worker",e),i=()=>{e.removeEventListener("error",s),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||i()};e.addEventListener("error",s),n.on("test",c=>{if(e.removeEventListener("error",s),this.destroyed){i();return}c?(this._messageHandler=n,this._port=e,this._webWorker=e,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),e.terminate())}),n.on("ready",c=>{if(e.removeEventListener("error",s),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};o();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new LoopbackPort;this._port=e;const n=`fake${PDFWorkerUtil.fakeWorkerId++}`,i=new _message_handler.MessageHandler(n+"_worker",n,e);t.setup(i,e);const s=new _message_handler.MessageHandler(n,n+"_worker",e);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const e=this.#workerPorts?.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new PDFWorker(t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(e,n,i,s,o){this.messageHandler=e,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this._params=s,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#o(e,n=null){const i=this.#e.get(e);if(i)return i;const s=this.messageHandler.sendWithPromise(e,n);return this.#e.set(e,s),s}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(e,n=_util.AnnotationMode.ENABLE,i=null,s=!1){let o=_util.RenderingIntentFlag.DISPLAY,c=_annotation_storage.SerializableEmpty;switch(e){case"any":o=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":o=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(n){case _util.AnnotationMode.DISABLE:o+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:o+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:o+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,c=(o&_util.RenderingIntentFlag.PRINT&&i instanceof _annotation_storage.PrintAnnotationStorage?i:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${n}`)}return s&&(o+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:o,cacheKey:`${o}_${c.hash}`,annotationStorageSerializable:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of this.#t.values())e.push(i._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(i,s)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},s.onPull=()=>{this._fullReader.read().then(function({value:o,done:c}){if(c){s.close();return}(0,_util.assert)(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{this._fullReader.cancel(o),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("ReaderHeadersReady",i=>{const s=new _util.PromiseCapability,o=this._fullReader;return o.headersReady.then(()=>{(!o.isStreamingSupported||!o.isRangeSupported)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),o.onProgress=c=>{n.onProgress?.({loaded:c.loaded,total:c.total})}),s.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})},s.reject),s.promise}),e.on("GetRangeReader",(i,s)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(i.begin,i.end);if(!o){s.close();return}s.onPull=()=>{o.read().then(function({value:c,done:m}){if(m){s.close();return}(0,_util.assert)(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{s.error(c)})},s.onCancel=c=>{o.cancel(c),s.ready.catch(m=>{if(!this.destroyed)throw m})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,n._capability.resolve(new PDFDocumentProxy(i,this))}),e.on("DocException",function(i){let s;switch(i.name){case"PasswordException":s=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":s=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":s=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":s=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":s=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}n._capability.reject(s)}),e.on("PasswordRequest",i=>{if(this.#r=new _util.PromiseCapability,n.onPassword){const s=o=>{o instanceof Error?this.#r.reject(o):this.#r.resolve({password:o})};try{n.onPassword(s,i.code)}catch(o){this.#r.reject(o)}}else this.#r.reject(new _util.PasswordException(i.message,i.code));return this.#r.promise}),e.on("DataLoaded",i=>{n.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;this.#t.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,s,o])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(s){case"Font":const c=this._params;if("error"in o){const h=o.error;(0,_util.warn)(`Error during font loading: ${h}`),this.commonObjs.resolve(i,h);break}const m=c.pdfBug&&globalThis.FontInspector?.enabled?(h,d)=>globalThis.FontInspector.fontAdded(h,d):null,_=new _font_loader.FontFaceObject(o,{isEvalSupported:c.isEvalSupported,disableFontFace:c.disableFontFace,ignoreErrors:c.ignoreErrors,inspectFont:m});this.fontLoader.bind(_).catch(h=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!c.fontExtraProperties&&_.data&&(_.data=null),this.commonObjs.resolve(i,_)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,o);break;default:throw new Error(`Got unknown common object type ${s}`)}}),e.on("obj",([i,s,o,c])=>{if(this.destroyed)return;const m=this.#t.get(s);if(!m.objs.has(i))switch(o){case"Image":if(m.objs.resolve(i,c),c){let _;if(c.bitmap){const{width:h,height:d}=c;_=h*d*4}else _=c.data?.length||0;_>_util.MAX_IMAGE_SIZE_TO_CACHE&&(m._maybeCleanupAfterRender=!0)}break;case"Pattern":m.objs.resolve(i,c);break;default:throw new Error(`Got unknown object type ${o}`)}}),e.on("DocProgress",i=>{this.destroyed||n.onProgress?.({loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfers:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,i=this.#n.get(n);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");const c=new PDFPageProxy(n,o,this,this._params.pdfBug);return this.#t.set(n,c),c});return this.#n.set(n,s),s}getPageIndex(e){return typeof e!="object"||e===null||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=this.#e.get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,null).then(s=>({info:s[0],metadata:s[1]?new _metadata.Metadata(s[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:e,enableXfa:n}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:n})}}class PDFObjects{#e=Object.create(null);#t(e){return this.#e[e]||={capability:new _util.PromiseCapability,data:null}}get(e,n=null){if(n){const s=this.#t(e);return s.capability.promise.then(()=>n(s.data)),null}const i=this.#e[e];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){return this.#e[e]?.capability.settled||!1}resolve(e,n=null){const i=this.#t(e);i.data=n,i.capability.resolve()}clear(){for(const e in this.#e){const{data:n}=this.#e[e];n?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:n}=this.#e;return e.form||e.canvas&&n?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:e,params:n,objs:i,commonObjs:s,annotationCanvasMap:o,operatorList:c,pageIndex:m,canvasFactory:_,filterFactory:h,useRequestAnimationFrame:d=!1,pdfBug:f=!1,pageColors:b=null}){this.callback=e,this.params=n,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=m,this.canvasFactory=_,this.filterFactory=h,this._pdfBug=f,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:o,background:c}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:s,transparency:e,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var i=n(1),s=n(4),o=n(8);const c=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=c;class m{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(d,f){const b=this.#t.get(d);return b===void 0?f:Object.assign(f,b)}getRawValue(d){return this.#t.get(d)}remove(d){if(this.#t.delete(d),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const f of this.#t.values())if(f instanceof s.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(d,f){const b=this.#t.get(d);let y=!1;if(b!==void 0)for(const[p,v]of Object.entries(f))b[p]!==v&&(y=!0,b[p]=v);else y=!0,this.#t.set(d,f);y&&this.#n(),f instanceof s.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(f.constructor._type)}has(d){return this.#t.has(d)}getAll(){return this.#t.size>0?(0,i.objectFromMap)(this.#t):null}setAll(d){for(const[f,b]of Object.entries(d))this.setValue(f,b)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new _(this)}get serializable(){if(this.#t.size===0)return c;const d=new Map,f=new o.MurmurHash3_64,b=[],y=Object.create(null);let p=!1;for(const[v,A]of this.#t){const w=A instanceof s.AnnotationEditor?A.serialize(!1,y):A;w&&(d.set(v,w),f.update(`${v}:${JSON.stringify(w)}`),p||=!!w.bitmap)}if(p)for(const v of d.values())v.bitmap&&b.push(v.bitmap);return d.size>0?{map:d,hash:f.hexdigest(),transfers:b}:c}}e.AnnotationStorage=m;class _ extends m{#e;constructor(d){super();const{map:f,hash:b,transfers:y}=d.serializable,p=structuredClone(f,y?{transfer:y}:null);this.#e={map:p,hash:b,transfers:y}}get print(){(0,i.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}e.PrintAnnotationStorage=_},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var i=n(5),s=n(1),o=n(6);class c{#e="";#t=!1;#n=null;#r=null;#o=null;#s=!1;#a=null;#l=this.focusin.bind(this);#c=this.focusout.bind(this);#i=!1;#f=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#h=!1;#p=c._zIndex++;static _borderLineWidth=-1;static _colorManager=new i.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(h){this.constructor===c&&(0,s.unreachable)("Cannot initialize AnnotationEditor."),this.parent=h.parent,this.id=h.id,this.width=this.height=null,this.pageIndex=h.parent.pageIndex,this.name=h.name,this.div=null,this._uiManager=h.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=h.isCentered,this._structTreeParentId=null;const{rotation:d,rawDims:{pageWidth:f,pageHeight:b,pageX:y,pageY:p}}=this.parent.viewport;this.rotation=d,this.pageRotation=(360+d-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[f,b],this.pageTranslation=[y,p];const[v,A]=this.parentDimensions;this.x=h.x/v,this.y=h.y/A,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,s.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(h){const d=new m({id:h.parent.getNextId(),parent:h.parent,uiManager:h._uiManager});d.annotationElementId=h.annotationElementId,d.deleted=!0,d._uiManager.addToAnnotationStorage(d)}static initialize(h,d=null){if(c._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(b=>[b,h.get(b)])),d?.strings)for(const b of d.strings)c._l10nPromise.set(b,h.get(b));if(c._borderLineWidth!==-1)return;const f=getComputedStyle(document.documentElement);c._borderLineWidth=parseFloat(f.getPropertyValue("--outline-width"))||0}static updateDefaultParams(h,d){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(h){return!1}static paste(h,d){(0,s.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#h}set _isDraggable(h){this.#h=h,this.div?.classList.toggle("draggable",h)}center(){const[h,d]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*d/(h*2),this.y+=this.width*h/(d*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*d/(h*2),this.y-=this.width*h/(d*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(h){this._uiManager.addCommands(h)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(h){h!==null&&(this.pageIndex=h.pageIndex,this.pageDimensions=h.pageDimensions),this.parent=h}focusin(h){this._focusEventsAllowed&&(this.#i?this.#i=!1:this.parent.setSelected(this))}focusout(h){!this._focusEventsAllowed||!this.isAttachedToDOM||h.relatedTarget?.closest(`#${this.id}`)||(h.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(h,d,f,b){const[y,p]=this.parentDimensions;[f,b]=this.screenToPageTranslation(f,b),this.x=(h+f)/y,this.y=(d+b)/p,this.fixAndSetPosition()}#v([h,d],f,b){[f,b]=this.screenToPageTranslation(f,b),this.x+=f/h,this.y+=b/d,this.fixAndSetPosition()}translate(h,d){this.#v(this.parentDimensions,h,d)}translateInPage(h,d){this.#v(this.pageDimensions,h,d),this.div.scrollIntoView({block:"nearest"})}drag(h,d){const[f,b]=this.parentDimensions;if(this.x+=h/f,this.y+=d/b,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:w,y:P}=this.div.getBoundingClientRect();this.parent.findNewParent(this,w,P)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:y,y:p}=this;const[v,A]=this.#g();y+=v,p+=A,this.div.style.left=`${(100*y).toFixed(2)}%`,this.div.style.top=`${(100*p).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#g(){const[h,d]=this.parentDimensions,{_borderLineWidth:f}=c,b=f/h,y=f/d;switch(this.rotation){case 90:return[-b,y];case 180:return[b,y];case 270:return[b,-y];default:return[-b,-y]}}fixAndSetPosition(){const[h,d]=this.pageDimensions;let{x:f,y:b,width:y,height:p}=this;switch(y*=h,p*=d,f*=h,b*=d,this.rotation){case 0:f=Math.max(0,Math.min(h-y,f)),b=Math.max(0,Math.min(d-p,b));break;case 90:f=Math.max(0,Math.min(h-p,f)),b=Math.min(d,Math.max(y,b));break;case 180:f=Math.min(h,Math.max(y,f)),b=Math.min(d,Math.max(p,b));break;case 270:f=Math.min(h,Math.max(p,f)),b=Math.max(0,Math.min(d-y,b));break}this.x=f/=h,this.y=b/=d;const[v,A]=this.#g();f+=v,b+=A;const{style:w}=this.div;w.left=`${(100*f).toFixed(2)}%`,w.top=`${(100*b).toFixed(2)}%`,this.moveInDOM()}static#m(h,d,f){switch(f){case 90:return[d,-h];case 180:return[-h,-d];case 270:return[-d,h];default:return[h,d]}}screenToPageTranslation(h,d){return c.#m(h,d,this.parentRotation)}pageTranslationToScreen(h,d){return c.#m(h,d,360-this.parentRotation)}#u(h){switch(h){case 90:{const[d,f]=this.pageDimensions;return[0,-d/f,f/d,0]}case 180:return[-1,0,0,-1];case 270:{const[d,f]=this.pageDimensions;return[0,d/f,-f/d,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:h,pageDimensions:[d,f]}=this,b=d*h,y=f*h;return s.FeatureTest.isCSSRoundSupported?[Math.round(b),Math.round(y)]:[b,y]}setDims(h,d){const[f,b]=this.parentDimensions;this.div.style.width=`${(100*h/f).toFixed(2)}%`,this.#s||(this.div.style.height=`${(100*d/b).toFixed(2)}%`),this.#n?.classList.toggle("small",h<c.SMALL_EDITOR_SIZE||d<c.SMALL_EDITOR_SIZE)}fixDims(){const{style:h}=this.div,{height:d,width:f}=h,b=f.endsWith("%"),y=!this.#s&&d.endsWith("%");if(b&&y)return;const[p,v]=this.parentDimensions;b||(h.width=`${(100*parseFloat(f)/p).toFixed(2)}%`),!this.#s&&!y&&(h.height=`${(100*parseFloat(d)/v).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#y(){if(this.#a)return;this.#a=document.createElement("div"),this.#a.classList.add("resizers");const h=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||h.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const d of h){const f=document.createElement("div");this.#a.append(f),f.classList.add("resizer",d),f.addEventListener("pointerdown",this.#S.bind(this,d)),f.addEventListener("contextmenu",o.noContextMenu)}this.div.prepend(this.#a)}#S(h,d){d.preventDefault();const{isMac:f}=s.FeatureTest.platform;if(d.button!==0||d.ctrlKey&&f)return;const b=this.#E.bind(this,h),y=this._isDraggable;this._isDraggable=!1;const p={passive:!0,capture:!0};window.addEventListener("pointermove",b,p);const v=this.x,A=this.y,w=this.width,P=this.height,Z=this.parent.div.style.cursor,Q=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(d.target).cursor;const z=()=>{this._isDraggable=y,window.removeEventListener("pointerup",z),window.removeEventListener("blur",z),window.removeEventListener("pointermove",b,p),this.parent.div.style.cursor=Z,this.div.style.cursor=Q;const K=this.x,j=this.y,T=this.width,I=this.height;K===v&&j===A&&T===w&&I===P||this.addCommands({cmd:()=>{this.width=T,this.height=I,this.x=K,this.y=j;const[Y,R]=this.parentDimensions;this.setDims(Y*T,R*I),this.fixAndSetPosition()},undo:()=>{this.width=w,this.height=P,this.x=v,this.y=A;const[Y,R]=this.parentDimensions;this.setDims(Y*w,R*P),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",z),window.addEventListener("blur",z)}#E(h,d){const[f,b]=this.parentDimensions,y=this.x,p=this.y,v=this.width,A=this.height,w=c.MIN_SIZE/f,P=c.MIN_SIZE/b,Z=ce=>Math.round(ce*1e4)/1e4,Q=this.#u(this.rotation),z=(ce,H)=>[Q[0]*ce+Q[2]*H,Q[1]*ce+Q[3]*H],K=this.#u(360-this.rotation),j=(ce,H)=>[K[0]*ce+K[2]*H,K[1]*ce+K[3]*H];let T,I,Y=!1,R=!1;switch(h){case"topLeft":Y=!0,T=(ce,H)=>[0,0],I=(ce,H)=>[ce,H];break;case"topMiddle":T=(ce,H)=>[ce/2,0],I=(ce,H)=>[ce/2,H];break;case"topRight":Y=!0,T=(ce,H)=>[ce,0],I=(ce,H)=>[0,H];break;case"middleRight":R=!0,T=(ce,H)=>[ce,H/2],I=(ce,H)=>[0,H/2];break;case"bottomRight":Y=!0,T=(ce,H)=>[ce,H],I=(ce,H)=>[0,0];break;case"bottomMiddle":T=(ce,H)=>[ce/2,H],I=(ce,H)=>[ce/2,0];break;case"bottomLeft":Y=!0,T=(ce,H)=>[0,H],I=(ce,H)=>[ce,0];break;case"middleLeft":R=!0,T=(ce,H)=>[0,H/2],I=(ce,H)=>[ce,H/2];break}const U=T(v,A),G=I(v,A);let ue=z(...G);const he=Z(y+ue[0]),se=Z(p+ue[1]);let ee=1,W=1,[$,S]=this.screenToPageTranslation(d.movementX,d.movementY);if([$,S]=j($/f,S/b),Y){const ce=Math.hypot(v,A);ee=W=Math.max(Math.min(Math.hypot(G[0]-U[0]-$,G[1]-U[1]-S)/ce,1/v,1/A),w/v,P/A)}else R?ee=Math.max(w,Math.min(1,Math.abs(G[0]-U[0]-$)))/v:W=Math.max(P,Math.min(1,Math.abs(G[1]-U[1]-S)))/A;const J=Z(v*ee),ae=Z(A*W);ue=z(...I(J,ae));const D=he-ue[0],de=se-ue[1];this.width=J,this.height=ae,this.x=D,this.y=de,this.setDims(f*J,b*ae),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;const h=this.#n=document.createElement("button");h.className="altText";const d=await c._l10nPromise.get("editor_alt_text_button_label");h.textContent=d,h.setAttribute("aria-label",d),h.tabIndex="0",h.addEventListener("contextmenu",o.noContextMenu),h.addEventListener("pointerdown",f=>f.stopPropagation()),h.addEventListener("click",f=>{f.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),h.addEventListener("keydown",f=>{f.target===h&&f.key==="Enter"&&(f.preventDefault(),this._uiManager.editAltText(this))}),this.#R(),this.div.append(h),c.SMALL_EDITOR_SIZE||(c.SMALL_EDITOR_SIZE=Math.min(128,Math.round(h.getBoundingClientRect().width*1.4)))}async#R(){const h=this.#n;if(!h)return;if(!this.#e&&!this.#t){h.classList.remove("done"),this.#r?.remove();return}c._l10nPromise.get("editor_alt_text_edit_button_label").then(f=>{h.setAttribute("aria-label",f)});let d=this.#r;if(!d){this.#r=d=document.createElement("span"),d.className="tooltip",d.setAttribute("role","tooltip");const f=d.id=`alt-text-tooltip-${this.id}`;h.setAttribute("aria-describedby",f);const b=100;h.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#r.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},b)}),h.addEventListener("mouseleave",()=>{clearTimeout(this.#o),this.#o=null,this.#r?.classList.remove("show")})}h.classList.add("done"),d.innerText=this.#t?await c._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,d.parentNode||h.append(d)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:h,decorative:d}){this.#e===h&&this.#t===d||(this.#e=h,this.#t=d,this.#R())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#c);const[h,d]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*d/h).toFixed(2)}%`,this.div.style.maxHeight=`${(100*h/d).toFixed(2)}%`);const[f,b]=this.getInitialTranslation();return this.translate(f,b),(0,i.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(h){const{isMac:d}=s.FeatureTest.platform;if(h.button!==0||h.ctrlKey&&d){h.preventDefault();return}this.#i=!0,this.#C(h)}#C(h){if(!this._isDraggable)return;const d=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let f,b;d&&(f={passive:!0,capture:!0},b=p=>{const[v,A]=this.screenToPageTranslation(p.movementX,p.movementY);this._uiManager.dragSelectedEditors(v,A)},window.addEventListener("pointermove",b,f));const y=()=>{if(window.removeEventListener("pointerup",y),window.removeEventListener("blur",y),d&&window.removeEventListener("pointermove",b,f),this.#i=!1,!this._uiManager.endDragSession()){const{isMac:p}=s.FeatureTest.platform;h.ctrlKey&&!p||h.shiftKey||h.metaKey&&p?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",y),window.addEventListener("blur",y)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(h,d,f){h.changeParent(this),this.x=d,this.y=f,this.fixAndSetPosition()}getRect(h,d){const f=this.parentScale,[b,y]=this.pageDimensions,[p,v]=this.pageTranslation,A=h/f,w=d/f,P=this.x*b,Z=this.y*y,Q=this.width*b,z=this.height*y;switch(this.rotation){case 0:return[P+A+p,y-Z-w-z+v,P+A+Q+p,y-Z-w+v];case 90:return[P+w+p,y-Z+A+v,P+w+z+p,y-Z+A+Q+v];case 180:return[P-A-Q+p,y-Z+w+v,P-A+p,y-Z+w+z+v];case 270:return[P-w-z+p,y-Z-A-Q+v,P-w+p,y-Z-A+v];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(h,d){const[f,b,y,p]=h,v=y-f,A=p-b;switch(this.rotation){case 0:return[f,d-p,v,A];case 90:return[f,d-b,A,v];case 180:return[y,d-b,v,A];case 270:return[y,d-p,A,v];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#c)}serialize(h=!1,d=null){(0,s.unreachable)("An editor must be serializable")}static deserialize(h,d,f){const b=new this.prototype.constructor({parent:d,id:d.getNextId(),uiManager:f});b.rotation=h.rotation;const[y,p]=b.pageDimensions,[v,A,w,P]=b.getRectInCurrentCoords(h.rect,p);return b.x=v/y,b.y=A/p,b.width=w/y,b.height=P/p,b}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#c),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#r=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#y(),this.#a.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#a?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(h,d){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(h){this.#f=h,this.parent&&(h?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(h,d){this.#s=!0;const f=h/d,{style:b}=this.div;b.aspectRatio=f,b.height="auto"}static get MIN_SIZE(){return 16}}e.AnnotationEditor=c;class m extends c{constructor(h){super(h),this.annotationElementId=h.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=o,e.opacityToHex=c;var i=n(1),s=n(6);function o(y,p,v){for(const A of v)p.addEventListener(A,y[A].bind(y))}function c(y){return Math.round(Math.min(255,Math.max(1,255*y))).toString(16).padStart(2,"0")}class m{#e=0;getId(){return`${i.AnnotationEditorPrefix}${this.#e++}`}}class _{#e=(0,i.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const p='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',A=new OffscreenCanvas(1,3).getContext("2d"),w=new Image;w.src=p;const P=w.decode().then(()=>(A.drawImage(w,0,0,1,1,0,0,1,3),new Uint32Array(A.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,i.shadow)(this,"_isSVGFittingCanvas",P)}async#r(p,v){this.#n||=new Map;let A=this.#n.get(p);if(A===null)return null;if(A?.bitmap)return A.refCounter+=1,A;try{A||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let w;if(typeof v=="string"){A.url=v;const P=await fetch(v);if(!P.ok)throw new Error(P.statusText);w=await P.blob()}else w=A.file=v;if(w.type==="image/svg+xml"){const P=_._isSVGFittingCanvas,Z=new FileReader,Q=new Image,z=new Promise((K,j)=>{Q.onload=()=>{A.bitmap=Q,A.isSvg=!0,K()},Z.onload=async()=>{const T=A.svgUrl=Z.result;Q.src=await P?`${T}#svgView(preserveAspectRatio(none))`:T},Q.onerror=Z.onerror=j});Z.readAsDataURL(w),await z}else A.bitmap=await createImageBitmap(w);A.refCounter=1}catch(w){console.error(w),A=null}return this.#n.set(p,A),A&&this.#n.set(A.id,A),A}async getFromFile(p){const{lastModified:v,name:A,size:w,type:P}=p;return this.#r(`${v}_${A}_${w}_${P}`,p)}async getFromUrl(p){return this.#r(p,p)}async getFromId(p){this.#n||=new Map;const v=this.#n.get(p);return v?v.bitmap?(v.refCounter+=1,v):v.file?this.getFromFile(v.file):this.getFromUrl(v.url):null}getSvgUrl(p){const v=this.#n.get(p);return v?.isSvg?v.svgUrl:null}deleteId(p){this.#n||=new Map;const v=this.#n.get(p);v&&(v.refCounter-=1,v.refCounter===0&&(v.bitmap=null))}isValidId(p){return p.startsWith(`image_${this.#e}_`)}}class h{#e=[];#t=!1;#n;#r=-1;constructor(p=128){this.#n=p}add({cmd:p,undo:v,mustExec:A,type:w=NaN,overwriteIfSameType:P=!1,keepUndo:Z=!1}){if(A&&p(),this.#t)return;const Q={cmd:p,undo:v,type:w};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(Q);return}if(P&&this.#e[this.#r].type===w){Z&&(Q.undo=this.#e[this.#r].undo),this.#e[this.#r]=Q;return}const z=this.#r+1;z===this.#n?this.#e.splice(0,1):(this.#r=z,z<this.#e.length&&this.#e.splice(z)),this.#e.push(Q)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}e.CommandManager=h;class d{constructor(p){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:v}=i.FeatureTest.platform;for(const[A,w,P={}]of p)for(const Z of A){const Q=Z.startsWith("mac+");v&&Q?(this.callbacks.set(Z.slice(4),{callback:w,options:P}),this.allKeys.add(Z.split("+").at(-1))):!v&&!Q&&(this.callbacks.set(Z,{callback:w,options:P}),this.allKeys.add(Z.split("+").at(-1)))}}#e(p){p.altKey&&this.buffer.push("alt"),p.ctrlKey&&this.buffer.push("ctrl"),p.metaKey&&this.buffer.push("meta"),p.shiftKey&&this.buffer.push("shift"),this.buffer.push(p.key);const v=this.buffer.join("+");return this.buffer.length=0,v}exec(p,v){if(!this.allKeys.has(v.key))return;const A=this.callbacks.get(this.#e(v));if(!A)return;const{callback:w,options:{bubbles:P=!1,args:Z=[],checker:Q=null}}=A;Q&&!Q(p,v)||(w.bind(p,...Z)(),P||(v.stopPropagation(),v.preventDefault()))}}e.KeyboardManager=d;class f{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const p=new Map([["CanvasText",null],["Canvas",null]]);return(0,s.getColorValues)(p),(0,i.shadow)(this,"_colors",p)}convert(p){const v=(0,s.getRGB)(p);if(!window.matchMedia("(forced-colors: active)").matches)return v;for(const[A,w]of this._colors)if(w.every((P,Z)=>P===v[Z]))return f._colorsMapping.get(A);return v}getHexCode(p){const v=this._colors.get(p);return v?i.Util.makeHexColor(...v):p}}e.ColorManager=f;class b{#e=null;#t=new Map;#n=new Map;#r=null;#o=null;#s=new h;#a=0;#l=new Set;#c=null;#i=null;#f=new Set;#d=null;#h=new m;#p=!1;#v=!1;#g=null;#m=i.AnnotationEditorType.NONE;#u=new Set;#y=null;#S=this.blur.bind(this);#E=this.focus.bind(this);#R=this.copy.bind(this);#C=this.cut.bind(this);#O=this.paste.bind(this);#j=this.keydown.bind(this);#D=this.onEditingAction.bind(this);#b=this.onPageChanging.bind(this);#N=this.onScaleChanging.bind(this);#k=this.onRotationChanging.bind(this);#P={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#x=[0,0];#T=null;#w=null;#L=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const p=b.prototype,v=P=>{const{activeElement:Z}=document;return Z&&P.#w.contains(Z)&&P.hasSomethingToControl()},A=this.TRANSLATE_SMALL,w=this.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new d([[["ctrl+a","mac+meta+a"],p.selectAll],[["ctrl+z","mac+meta+z"],p.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],p.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],p.delete],[["Escape","mac+Escape"],p.unselectAll],[["ArrowLeft","mac+ArrowLeft"],p.translateSelectedEditors,{args:[-A,0],checker:v}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],p.translateSelectedEditors,{args:[-w,0],checker:v}],[["ArrowRight","mac+ArrowRight"],p.translateSelectedEditors,{args:[A,0],checker:v}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],p.translateSelectedEditors,{args:[w,0],checker:v}],[["ArrowUp","mac+ArrowUp"],p.translateSelectedEditors,{args:[0,-A],checker:v}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],p.translateSelectedEditors,{args:[0,-w],checker:v}],[["ArrowDown","mac+ArrowDown"],p.translateSelectedEditors,{args:[0,A],checker:v}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],p.translateSelectedEditors,{args:[0,w],checker:v}]]))}constructor(p,v,A,w,P,Z){this.#w=p,this.#L=v,this.#r=A,this._eventBus=w,this._eventBus._on("editingaction",this.#D),this._eventBus._on("pagechanging",this.#b),this._eventBus._on("scalechanging",this.#N),this._eventBus._on("rotationchanging",this.#k),this.#o=P.annotationStorage,this.#d=P.filterFactory,this.#y=Z,this.viewParameters={realScale:s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#M(),this.#B(),this._eventBus._off("editingaction",this.#D),this._eventBus._off("pagechanging",this.#b),this._eventBus._off("scalechanging",this.#N),this._eventBus._off("rotationchanging",this.#k);for(const p of this.#n.values())p.destroy();this.#n.clear(),this.#t.clear(),this.#f.clear(),this.#e=null,this.#u.clear(),this.#s.destroy(),this.#r.destroy()}get hcmFilter(){return(0,i.shadow)(this,"hcmFilter",this.#y?this.#d.addHCMFilter(this.#y.foreground,this.#y.background):"none")}get direction(){return(0,i.shadow)(this,"direction",getComputedStyle(this.#w).direction)}editAltText(p){this.#r?.editAltText(this,p)}onPageChanging({pageNumber:p}){this.#a=p-1}focusMainContainer(){this.#w.focus()}findParent(p,v){for(const A of this.#n.values()){const{x:w,y:P,width:Z,height:Q}=A.div.getBoundingClientRect();if(p>=w&&p<=w+Z&&v>=P&&v<=P+Q)return A}return null}disableUserSelect(p=!1){this.#L.classList.toggle("noUserSelect",p)}addShouldRescale(p){this.#f.add(p)}removeShouldRescale(p){this.#f.delete(p)}onScaleChanging({scale:p}){this.commitOrRemove(),this.viewParameters.realScale=p*s.PixelsPerInch.PDF_TO_CSS_UNITS;for(const v of this.#f)v.onScaleChanging()}onRotationChanging({pagesRotation:p}){this.commitOrRemove(),this.viewParameters.rotation=p}addToAnnotationStorage(p){!p.isEmpty()&&this.#o&&!this.#o.has(p.id)&&this.#o.setValue(p.id,p)}#F(){window.addEventListener("focus",this.#E),window.addEventListener("blur",this.#S)}#B(){window.removeEventListener("focus",this.#E),window.removeEventListener("blur",this.#S)}blur(){if(!this.hasSelection)return;const{activeElement:p}=document;for(const v of this.#u)if(v.div.contains(p)){this.#g=[v,p],v._focusEventsAllowed=!1;break}}focus(){if(!this.#g)return;const[p,v]=this.#g;this.#g=null,v.addEventListener("focusin",()=>{p._focusEventsAllowed=!0},{once:!0}),v.focus()}#U(){window.addEventListener("keydown",this.#j,{capture:!0})}#M(){window.removeEventListener("keydown",this.#j,{capture:!0})}#I(){document.addEventListener("copy",this.#R),document.addEventListener("cut",this.#C),document.addEventListener("paste",this.#O)}#A(){document.removeEventListener("copy",this.#R),document.removeEventListener("cut",this.#C),document.removeEventListener("paste",this.#O)}addEditListeners(){this.#U(),this.#I()}removeEditListeners(){this.#M(),this.#A()}copy(p){if(p.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const v=[];for(const A of this.#u){const w=A.serialize(!0);w&&v.push(w)}v.length!==0&&p.clipboardData.setData("application/pdfjs",JSON.stringify(v))}cut(p){this.copy(p),this.delete()}paste(p){p.preventDefault();const{clipboardData:v}=p;for(const P of v.items)for(const Z of this.#i)if(Z.isHandlingMimeForPasting(P.type)){Z.paste(P,this.currentLayer);return}let A=v.getData("application/pdfjs");if(!A)return;try{A=JSON.parse(A)}catch(P){(0,i.warn)(`paste: "${P.message}".`);return}if(!Array.isArray(A))return;this.unselectAll();const w=this.currentLayer;try{const P=[];for(const z of A){const K=w.deserialize(z);if(!K)return;P.push(K)}const Z=()=>{for(const z of P)this.#H(z);this.#$(P)},Q=()=>{for(const z of P)z.remove()};this.addCommands({cmd:Z,undo:Q,mustExec:!0})}catch(P){(0,i.warn)(`paste: "${P.message}".`)}}keydown(p){this.getActive()?.shouldGetKeyboardEvents()||b._keyboardManager.exec(this,p)}onEditingAction(p){["undo","redo","delete","selectAll"].includes(p.name)&&this[p.name]()}#_(p){Object.entries(p).some(([A,w])=>this.#P[A]!==w)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#P,p)})}#z(p){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:p})}setEditingState(p){p?(this.#F(),this.#U(),this.#I(),this.#_({isEditing:this.#m!==i.AnnotationEditorType.NONE,isEmpty:this.#q(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#B(),this.#M(),this.#A(),this.#_({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(p){if(!this.#i){this.#i=p;for(const v of this.#i)this.#z(v.defaultPropertiesToUpdate)}}getId(){return this.#h.getId()}get currentLayer(){return this.#n.get(this.#a)}getLayer(p){return this.#n.get(p)}get currentPageIndex(){return this.#a}addLayer(p){this.#n.set(p.pageIndex,p),this.#p?p.enable():p.disable()}removeLayer(p){this.#n.delete(p.pageIndex)}updateMode(p,v=null){if(this.#m!==p){if(this.#m=p,p===i.AnnotationEditorType.NONE){this.setEditingState(!1),this.#G();return}this.setEditingState(!0),this.#V(),this.unselectAll();for(const A of this.#n.values())A.updateMode(p);if(v){for(const A of this.#t.values())if(A.annotationElementId===v){this.setSelected(A),A.enterInEditMode();break}}}}updateToolbar(p){p!==this.#m&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:p})}updateParams(p,v){if(this.#i){if(p===i.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(p);return}for(const A of this.#u)A.updateParams(p,v);for(const A of this.#i)A.updateDefaultParams(p,v)}}enableWaiting(p=!1){if(this.#v!==p){this.#v=p;for(const v of this.#n.values())p?v.disableClick():v.enableClick(),v.div.classList.toggle("waiting",p)}}#V(){if(!this.#p){this.#p=!0;for(const p of this.#n.values())p.enable()}}#G(){if(this.unselectAll(),this.#p){this.#p=!1;for(const p of this.#n.values())p.disable()}}getEditors(p){const v=[];for(const A of this.#t.values())A.pageIndex===p&&v.push(A);return v}getEditor(p){return this.#t.get(p)}addEditor(p){this.#t.set(p.id,p)}removeEditor(p){this.#t.delete(p.id),this.unselect(p),(!p.annotationElementId||!this.#l.has(p.annotationElementId))&&this.#o?.remove(p.id)}addDeletedAnnotationElement(p){this.#l.add(p.annotationElementId),p.deleted=!0}isDeletedAnnotationElement(p){return this.#l.has(p)}removeDeletedAnnotationElement(p){this.#l.delete(p.annotationElementId),p.deleted=!1}#H(p){const v=this.#n.get(p.pageIndex);v?v.addOrRebuild(p):this.addEditor(p)}setActiveEditor(p){this.#e!==p&&(this.#e=p,p&&this.#z(p.propertiesToUpdate))}toggleSelected(p){if(this.#u.has(p)){this.#u.delete(p),p.unselect(),this.#_({hasSelectedEditor:this.hasSelection});return}this.#u.add(p),p.select(),this.#z(p.propertiesToUpdate),this.#_({hasSelectedEditor:!0})}setSelected(p){for(const v of this.#u)v!==p&&v.unselect();this.#u.clear(),this.#u.add(p),p.select(),this.#z(p.propertiesToUpdate),this.#_({hasSelectedEditor:!0})}isSelected(p){return this.#u.has(p)}unselect(p){p.unselect(),this.#u.delete(p),this.#_({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#u.size!==0}undo(){this.#s.undo(),this.#_({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#q()})}redo(){this.#s.redo(),this.#_({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#q()})}addCommands(p){this.#s.add(p),this.#_({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#q()})}#q(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const p of this.#t.values())return p.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const p=[...this.#u],v=()=>{for(const w of p)w.remove()},A=()=>{for(const w of p)this.#H(w)};this.addCommands({cmd:v,undo:A,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#$(p){this.#u.clear();for(const v of p)v.isEmpty()||(this.#u.add(v),v.select());this.#_({hasSelectedEditor:!0})}selectAll(){for(const p of this.#u)p.commit();this.#$(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const p of this.#u)p.unselect();this.#u.clear(),this.#_({hasSelectedEditor:!1})}}translateSelectedEditors(p,v,A=!1){if(A||this.commitOrRemove(),!this.hasSelection)return;this.#x[0]+=p,this.#x[1]+=v;const[w,P]=this.#x,Z=[...this.#u],Q=1e3;this.#T&&clearTimeout(this.#T),this.#T=setTimeout(()=>{this.#T=null,this.#x[0]=this.#x[1]=0,this.addCommands({cmd:()=>{for(const z of Z)this.#t.has(z.id)&&z.translateInPage(w,P)},undo:()=>{for(const z of Z)this.#t.has(z.id)&&z.translateInPage(-w,-P)},mustExec:!1})},Q);for(const z of Z)z.translateInPage(p,v)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(const p of this.#u)this.#c.set(p,{savedX:p.x,savedY:p.y,savedPageIndex:p.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);const p=this.#c;this.#c=null;let v=!1;for(const[{x:w,y:P,pageIndex:Z},Q]of p)Q.newX=w,Q.newY=P,Q.newPageIndex=Z,v||=w!==Q.savedX||P!==Q.savedY||Z!==Q.savedPageIndex;if(!v)return!1;const A=(w,P,Z,Q)=>{if(this.#t.has(w.id)){const z=this.#n.get(Q);z?w._setParentAndPosition(z,P,Z):(w.pageIndex=Q,w.x=P,w.y=Z)}};return this.addCommands({cmd:()=>{for(const[w,{newX:P,newY:Z,newPageIndex:Q}]of p)A(w,P,Z,Q)},undo:()=>{for(const[w,{savedX:P,savedY:Z,savedPageIndex:Q}]of p)A(w,P,Z,Q)},mustExec:!0}),!0}dragSelectedEditors(p,v){if(this.#c)for(const A of this.#c.keys())A.drag(p,v)}rebuild(p){if(p.parent===null){const v=this.getLayer(p.pageIndex);v?(v.changeParent(p),v.addOrRebuild(p)):(this.addEditor(p),this.addToAnnotationStorage(p),p.rebuild())}else p.parent.addOrRebuild(p)}isActive(p){return this.#e===p}getActive(){return this.#e}getMode(){return this.#m}get imageManager(){return(0,i.shadow)(this,"imageManager",new _)}}e.AnnotationEditorUIManager=b},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=j,e.getColorValues=U,e.getCurrentTransform=G,e.getCurrentTransformInverse=ue,e.getFilenameFromUrl=w,e.getPdfFilenameFromUrl=P,e.getRGB=R,e.getXfaPageViewport=Y,e.isDataScheme=v,e.isPdfFile=A,e.isValidFetchUrl=Q,e.loadScript=K,e.noContextMenu=z,e.setLayerDimensions=he;var i=n(7),s=n(1);const o="http://www.w3.org/2000/svg";class c{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}e.PixelsPerInch=c;class m extends i.BaseFilterFactory{#e;#t;#n;#r;#o;#s;#a;#l;#c;#i;#f=0;constructor({docId:ee,ownerDocument:W=globalThis.document}={}){super(),this.#n=ee,this.#r=W}get#d(){return this.#e||=new Map}get#h(){if(!this.#t){const ee=this.#r.createElement("div"),{style:W}=ee;W.visibility="hidden",W.contain="strict",W.width=W.height=0,W.position="absolute",W.top=W.left=0,W.zIndex=-1;const $=this.#r.createElementNS(o,"svg");$.setAttribute("width",0),$.setAttribute("height",0),this.#t=this.#r.createElementNS(o,"defs"),ee.append($),$.append(this.#t),this.#r.body.append(ee)}return this.#t}addFilter(ee){if(!ee)return"none";let W=this.#d.get(ee);if(W)return W;let $,S,J,ae;if(ee.length===1){const H=ee[0],ne=new Array(256);for(let oe=0;oe<256;oe++)ne[oe]=H[oe]/255;ae=$=S=J=ne.join(",")}else{const[H,ne,oe]=ee,me=new Array(256),ve=new Array(256),ye=new Array(256);for(let xe=0;xe<256;xe++)me[xe]=H[xe]/255,ve[xe]=ne[xe]/255,ye[xe]=oe[xe]/255;$=me.join(","),S=ve.join(","),J=ye.join(","),ae=`${$}${S}${J}`}if(W=this.#d.get(ae),W)return this.#d.set(ee,W),W;const D=`g_${this.#n}_transfer_map_${this.#f++}`,de=`url(#${D})`;this.#d.set(ee,de),this.#d.set(ae,de);const ce=this.#v(D);return this.#m($,S,J,ce),de}addHCMFilter(ee,W){const $=`${ee}-${W}`;if(this.#s===$)return this.#a;if(this.#s=$,this.#a="none",this.#o?.remove(),!ee||!W)return this.#a;const S=this.#u(ee);ee=s.Util.makeHexColor(...S);const J=this.#u(W);if(W=s.Util.makeHexColor(...J),this.#h.style.color="",ee==="#000000"&&W==="#ffffff"||ee===W)return this.#a;const ae=new Array(256);for(let ne=0;ne<=255;ne++){const oe=ne/255;ae[ne]=oe<=.03928?oe/12.92:((oe+.055)/1.055)**2.4}const D=ae.join(","),de=`g_${this.#n}_hcm_filter`,ce=this.#l=this.#v(de);this.#m(D,D,D,ce),this.#p(ce);const H=(ne,oe)=>{const me=S[ne]/255,ve=J[ne]/255,ye=new Array(oe+1);for(let xe=0;xe<=oe;xe++)ye[xe]=me+xe/oe*(ve-me);return ye.join(",")};return this.#m(H(0,5),H(1,5),H(2,5),ce),this.#a=`url(#${de})`,this.#a}addHighlightHCMFilter(ee,W,$,S){const J=`${ee}-${W}-${$}-${S}`;if(this.#c===J)return this.#i;if(this.#c=J,this.#i="none",this.#l?.remove(),!ee||!W)return this.#i;const[ae,D]=[ee,W].map(this.#u.bind(this));let de=Math.round(.2126*ae[0]+.7152*ae[1]+.0722*ae[2]),ce=Math.round(.2126*D[0]+.7152*D[1]+.0722*D[2]),[H,ne]=[$,S].map(this.#u.bind(this));ce<de&&([de,ce,H,ne]=[ce,de,ne,H]),this.#h.style.color="";const oe=(ye,xe,je)=>{const Je=new Array(256),Le=(ce-de)/je,qe=ye/255,ze=(xe-ye)/(255*je);let ke=0;for(let De=0;De<=je;De++){const tt=Math.round(de+De*Le),Xe=qe+De*ze;for(let rt=ke;rt<=tt;rt++)Je[rt]=Xe;ke=tt+1}for(let De=ke;De<256;De++)Je[De]=Je[ke-1];return Je.join(",")},me=`g_${this.#n}_hcm_highlight_filter`,ve=this.#l=this.#v(me);return this.#p(ve),this.#m(oe(H[0],ne[0],5),oe(H[1],ne[1],5),oe(H[2],ne[2],5),ve),this.#i=`url(#${me})`,this.#i}destroy(ee=!1){ee&&(this.#a||this.#i)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#f=0)}#p(ee){const W=this.#r.createElementNS(o,"feColorMatrix");W.setAttribute("type","matrix"),W.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),ee.append(W)}#v(ee){const W=this.#r.createElementNS(o,"filter");return W.setAttribute("color-interpolation-filters","sRGB"),W.setAttribute("id",ee),this.#h.append(W),W}#g(ee,W,$){const S=this.#r.createElementNS(o,W);S.setAttribute("type","discrete"),S.setAttribute("tableValues",$),ee.append(S)}#m(ee,W,$,S){const J=this.#r.createElementNS(o,"feComponentTransfer");S.append(J),this.#g(J,"feFuncR",ee),this.#g(J,"feFuncG",W),this.#g(J,"feFuncB",$)}#u(ee){return this.#h.style.color=ee,R(getComputedStyle(this.#h).getPropertyValue("color"))}}e.DOMFilterFactory=m;class _ extends i.BaseCanvasFactory{constructor({ownerDocument:ee=globalThis.document}={}){super(),this._document=ee}_createCanvas(ee,W){const $=this._document.createElement("canvas");return $.width=ee,$.height=W,$}}e.DOMCanvasFactory=_;async function h(se,ee=!1){if(Q(se,document.baseURI)){const W=await fetch(se);if(!W.ok)throw new Error(W.statusText);return ee?new Uint8Array(await W.arrayBuffer()):(0,s.stringToBytes)(await W.text())}return new Promise((W,$)=>{const S=new XMLHttpRequest;S.open("GET",se,!0),ee&&(S.responseType="arraybuffer"),S.onreadystatechange=()=>{if(S.readyState===XMLHttpRequest.DONE){if(S.status===200||S.status===0){let J;if(ee&&S.response?J=new Uint8Array(S.response):!ee&&S.responseText&&(J=(0,s.stringToBytes)(S.responseText)),J){W(J);return}}$(new Error(S.statusText))}},S.send(null)})}class d extends i.BaseCMapReaderFactory{_fetchData(ee,W){return h(ee,this.isCompressed).then($=>({cMapData:$,compressionType:W}))}}e.DOMCMapReaderFactory=d;class f extends i.BaseStandardFontDataFactory{_fetchData(ee){return h(ee,!0)}}e.DOMStandardFontDataFactory=f;class b extends i.BaseSVGFactory{_createSVG(ee){return document.createElementNS(o,ee)}}e.DOMSVGFactory=b;class y{constructor({viewBox:ee,scale:W,rotation:$,offsetX:S=0,offsetY:J=0,dontFlip:ae=!1}){this.viewBox=ee,this.scale=W,this.rotation=$,this.offsetX=S,this.offsetY=J;const D=(ee[2]+ee[0])/2,de=(ee[3]+ee[1])/2;let ce,H,ne,oe;switch($%=360,$<0&&($+=360),$){case 180:ce=-1,H=0,ne=0,oe=1;break;case 90:ce=0,H=1,ne=1,oe=0;break;case 270:ce=0,H=-1,ne=-1,oe=0;break;case 0:ce=1,H=0,ne=0,oe=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ae&&(ne=-ne,oe=-oe);let me,ve,ye,xe;ce===0?(me=Math.abs(de-ee[1])*W+S,ve=Math.abs(D-ee[0])*W+J,ye=(ee[3]-ee[1])*W,xe=(ee[2]-ee[0])*W):(me=Math.abs(D-ee[0])*W+S,ve=Math.abs(de-ee[1])*W+J,ye=(ee[2]-ee[0])*W,xe=(ee[3]-ee[1])*W),this.transform=[ce*W,H*W,ne*W,oe*W,me-ce*W*D-ne*W*de,ve-H*W*D-oe*W*de],this.width=ye,this.height=xe}get rawDims(){const{viewBox:ee}=this;return(0,s.shadow)(this,"rawDims",{pageWidth:ee[2]-ee[0],pageHeight:ee[3]-ee[1],pageX:ee[0],pageY:ee[1]})}clone({scale:ee=this.scale,rotation:W=this.rotation,offsetX:$=this.offsetX,offsetY:S=this.offsetY,dontFlip:J=!1}={}){return new y({viewBox:this.viewBox.slice(),scale:ee,rotation:W,offsetX:$,offsetY:S,dontFlip:J})}convertToViewportPoint(ee,W){return s.Util.applyTransform([ee,W],this.transform)}convertToViewportRectangle(ee){const W=s.Util.applyTransform([ee[0],ee[1]],this.transform),$=s.Util.applyTransform([ee[2],ee[3]],this.transform);return[W[0],W[1],$[0],$[1]]}convertToPdfPoint(ee,W){return s.Util.applyInverseTransform([ee,W],this.transform)}}e.PageViewport=y;class p extends s.BaseException{constructor(ee,W=0){super(ee,"RenderingCancelledException"),this.extraDelay=W}}e.RenderingCancelledException=p;function v(se){const ee=se.length;let W=0;for(;W<ee&&se[W].trim()==="";)W++;return se.substring(W,W+5).toLowerCase()==="data:"}function A(se){return typeof se=="string"&&/\.pdf$/i.test(se)}function w(se,ee=!1){return ee||([se]=se.split(/[#?]/,1)),se.substring(se.lastIndexOf("/")+1)}function P(se,ee="document.pdf"){if(typeof se!="string")return ee;if(v(se))return(0,s.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ee;const W=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,$=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,S=W.exec(se);let J=$.exec(S[1])||$.exec(S[2])||$.exec(S[3]);if(J&&(J=J[0],J.includes("%")))try{J=$.exec(decodeURIComponent(J))[0]}catch{}return J||ee}class Z{started=Object.create(null);times=[];time(ee){ee in this.started&&(0,s.warn)(`Timer is already running for ${ee}`),this.started[ee]=Date.now()}timeEnd(ee){ee in this.started||(0,s.warn)(`Timer has not been started for ${ee}`),this.times.push({name:ee,start:this.started[ee],end:Date.now()}),delete this.started[ee]}toString(){const ee=[];let W=0;for(const{name:$}of this.times)W=Math.max($.length,W);for(const{name:$,start:S,end:J}of this.times)ee.push(`${$.padEnd(W)} ${J-S}ms
`);return ee.join("")}}e.StatTimer=Z;function Q(se,ee){try{const{protocol:W}=ee?new URL(se,ee):new URL(se);return W==="http:"||W==="https:"}catch{return!1}}function z(se){se.preventDefault()}function K(se,ee=!1){return new Promise((W,$)=>{const S=document.createElement("script");S.src=se,S.onload=function(J){ee&&S.remove(),W(J)},S.onerror=function(){$(new Error(`Cannot load script at: ${S.src}`))},(document.head||document.documentElement).append(S)})}function j(se){console.log("Deprecated API usage: "+se)}let T;class I{static toDateObject(ee){if(!ee||typeof ee!="string")return null;T||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const W=T.exec(ee);if(!W)return null;const $=parseInt(W[1],10);let S=parseInt(W[2],10);S=S>=1&&S<=12?S-1:0;let J=parseInt(W[3],10);J=J>=1&&J<=31?J:1;let ae=parseInt(W[4],10);ae=ae>=0&&ae<=23?ae:0;let D=parseInt(W[5],10);D=D>=0&&D<=59?D:0;let de=parseInt(W[6],10);de=de>=0&&de<=59?de:0;const ce=W[7]||"Z";let H=parseInt(W[8],10);H=H>=0&&H<=23?H:0;let ne=parseInt(W[9],10)||0;return ne=ne>=0&&ne<=59?ne:0,ce==="-"?(ae+=H,D+=ne):ce==="+"&&(ae-=H,D-=ne),new Date(Date.UTC($,S,J,ae,D,de))}}e.PDFDateString=I;function Y(se,{scale:ee=1,rotation:W=0}){const{width:$,height:S}=se.attributes.style,J=[0,0,parseInt($),parseInt(S)];return new y({viewBox:J,scale:ee,rotation:W})}function R(se){if(se.startsWith("#")){const ee=parseInt(se.slice(1),16);return[(ee&16711680)>>16,(ee&65280)>>8,ee&255]}return se.startsWith("rgb(")?se.slice(4,-1).split(",").map(ee=>parseInt(ee)):se.startsWith("rgba(")?se.slice(5,-1).split(",").map(ee=>parseInt(ee)).slice(0,3):((0,s.warn)(`Not a valid color format: "${se}"`),[0,0,0])}function U(se){const ee=document.createElement("span");ee.style.visibility="hidden",document.body.append(ee);for(const W of se.keys()){ee.style.color=W;const $=window.getComputedStyle(ee).color;se.set(W,R($))}ee.remove()}function G(se){const{a:ee,b:W,c:$,d:S,e:J,f:ae}=se.getTransform();return[ee,W,$,S,J,ae]}function ue(se){const{a:ee,b:W,c:$,d:S,e:J,f:ae}=se.getTransform().invertSelf();return[ee,W,$,S,J,ae]}function he(se,ee,W=!1,$=!0){if(ee instanceof y){const{pageWidth:S,pageHeight:J}=ee.rawDims,{style:ae}=se,D=s.FeatureTest.isCSSRoundSupported,de=`var(--scale-factor) * ${S}px`,ce=`var(--scale-factor) * ${J}px`,H=D?`round(${de}, 1px)`:`calc(${de})`,ne=D?`round(${ce}, 1px)`:`calc(${ce})`;!W||ee.rotation%180===0?(ae.width=H,ae.height=ne):(ae.width=ne,ae.height=H)}$&&se.setAttribute("data-main-rotation",ee.rotation)}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var i=n(1);class s{constructor(){this.constructor===s&&(0,i.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(d){return"none"}addHCMFilter(d,f){return"none"}addHighlightHCMFilter(d,f,b,y){return"none"}destroy(d=!1){}}e.BaseFilterFactory=s;class o{constructor(){this.constructor===o&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(d,f){if(d<=0||f<=0)throw new Error("Invalid canvas size");const b=this._createCanvas(d,f);return{canvas:b,context:b.getContext("2d")}}reset(d,f,b){if(!d.canvas)throw new Error("Canvas is not specified");if(f<=0||b<=0)throw new Error("Invalid canvas size");d.canvas.width=f,d.canvas.height=b}destroy(d){if(!d.canvas)throw new Error("Canvas is not specified");d.canvas.width=0,d.canvas.height=0,d.canvas=null,d.context=null}_createCanvas(d,f){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=o;class c{constructor({baseUrl:d=null,isCompressed:f=!0}){this.constructor===c&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=d,this.isCompressed=f}async fetch({name:d}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!d)throw new Error("CMap name must be specified.");const f=this.baseUrl+d+(this.isCompressed?".bcmap":""),b=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return this._fetchData(f,b).catch(y=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${f}`)})}_fetchData(d,f){(0,i.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=c;class m{constructor({baseUrl:d=null}){this.constructor===m&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=d}async fetch({filename:d}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!d)throw new Error("Font filename must be specified.");const f=`${this.baseUrl}${d}`;return this._fetchData(f).catch(b=>{throw new Error(`Unable to load font data at: ${f}`)})}_fetchData(d){(0,i.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=m;class _{constructor(){this.constructor===_&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(d,f,b=!1){if(d<=0||f<=0)throw new Error("Invalid SVG dimensions");const y=this._createSVG("svg:svg");return y.setAttribute("version","1.1"),b||(y.setAttribute("width",`${d}px`),y.setAttribute("height",`${f}px`)),y.setAttribute("preserveAspectRatio","none"),y.setAttribute("viewBox",`0 0 ${d} ${f}`),y}createElement(d){if(typeof d!="string")throw new Error("Invalid SVG element type");return this._createSVG(d)}_createSVG(d){(0,i.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=_},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var i=n(1);const s=3285377520,o=4294901760,c=65535;class m{constructor(h){this.h1=h?h&4294967295:s,this.h2=h?h&4294967295:s}update(h){let d,f;if(typeof h=="string"){d=new Uint8Array(h.length*2),f=0;for(let j=0,T=h.length;j<T;j++){const I=h.charCodeAt(j);I<=255?d[f++]=I:(d[f++]=I>>>8,d[f++]=I&255)}}else if((0,i.isArrayBuffer)(h))d=h.slice(),f=d.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const b=f>>2,y=f-b*4,p=new Uint32Array(d.buffer,0,b);let v=0,A=0,w=this.h1,P=this.h2;const Z=3432918353,Q=461845907,z=Z&c,K=Q&c;for(let j=0;j<b;j++)j&1?(v=p[j],v=v*Z&o|v*z&c,v=v<<15|v>>>17,v=v*Q&o|v*K&c,w^=v,w=w<<13|w>>>19,w=w*5+3864292196):(A=p[j],A=A*Z&o|A*z&c,A=A<<15|A>>>17,A=A*Q&o|A*K&c,P^=A,P=P<<13|P>>>19,P=P*5+3864292196);switch(v=0,y){case 3:v^=d[b*4+2]<<16;case 2:v^=d[b*4+1]<<8;case 1:v^=d[b*4],v=v*Z&o|v*z&c,v=v<<15|v>>>17,v=v*Q&o|v*K&c,b&1?w^=v:P^=v}this.h1=w,this.h2=P}hexdigest(){let h=this.h1,d=this.h2;return h^=d>>>1,h=h*3981806797&o|h*36045&c,d=d*4283543511&o|((d<<16|h>>>16)*2950163797&o)>>>16,h^=d>>>1,h=h*444984403&o|h*60499&c,d=d*3301882366&o|((d<<16|h>>>16)*3120437893&o)>>>16,h^=d>>>1,(h>>>0).toString(16).padStart(8,"0")+(d>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=m},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var i=n(1);class s{#e=new Set;constructor({ownerDocument:m=globalThis.document,styleElement:_=null}){this._document=m,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(m){this.nativeFontFaces.add(m),this._document.fonts.add(m)}removeNativeFontFace(m){this.nativeFontFaces.delete(m),this._document.fonts.delete(m)}insertRule(m){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const _=this.styleElement.sheet;_.insertRule(m,_.cssRules.length)}clear(){for(const m of this.nativeFontFaces)this._document.fonts.delete(m);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(m){if(!(!m||this.#e.has(m.loadedName))){if((0,i.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:_,src:h,style:d}=m,f=new FontFace(_,h,d);this.addNativeFontFace(f);try{await f.load(),this.#e.add(_)}catch{(0,i.warn)(`Cannot load system font: ${m.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(f)}return}(0,i.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(m){if(m.attached||m.missingFile&&!m.systemFontInfo)return;if(m.attached=!0,m.systemFontInfo){await this.loadSystemFont(m.systemFontInfo);return}if(this.isFontLoadingAPISupported){const h=m.createNativeFontFace();if(h){this.addNativeFontFace(h);try{await h.loaded}catch(d){throw(0,i.warn)(`Failed to load font '${h.family}': '${d}'.`),m.disableFontFace=!0,d}}return}const _=m.createFontFaceRule();if(_){if(this.insertRule(_),this.isSyncFontLoadingSupported)return;await new Promise(h=>{const d=this._queueLoadingCallback(h);this._prepareFontLoadEvent(m,d)})}}get isFontLoadingAPISupported(){const m=!!this._document?.fonts;return(0,i.shadow)(this,"isFontLoadingAPISupported",m)}get isSyncFontLoadingSupported(){let m=!1;return(i.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(m=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",m)}_queueLoadingCallback(m){function _(){for((0,i.assert)(!d.done,"completeRequest() cannot be called twice."),d.done=!0;h.length>0&&h[0].done;){const f=h.shift();setTimeout(f.callback,0)}}const{loadingRequests:h}=this,d={done:!1,complete:_,callback:m};return h.push(d),d}get _loadTestFont(){const m=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,i.shadow)(this,"_loadTestFont",m)}_prepareFontLoadEvent(m,_){function h(Y,R){return Y.charCodeAt(R)<<24|Y.charCodeAt(R+1)<<16|Y.charCodeAt(R+2)<<8|Y.charCodeAt(R+3)&255}function d(Y,R,U,G){const ue=Y.substring(0,R),he=Y.substring(R+U);return ue+G+he}let f,b;const y=this._document.createElement("canvas");y.width=1,y.height=1;const p=y.getContext("2d");let v=0;function A(Y,R){if(++v>30){(0,i.warn)("Load test font never loaded."),R();return}if(p.font="30px "+Y,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0){R();return}setTimeout(A.bind(null,Y,R))}const w=`lt${Date.now()}${this.loadTestFontId++}`;let P=this._loadTestFont;P=d(P,976,w.length,w);const Q=16,z=1482184792;let K=h(P,Q);for(f=0,b=w.length-3;f<b;f+=4)K=K-z+h(w,f)|0;f<w.length&&(K=K-z+h(w+"XXX",f)|0),P=d(P,Q,4,(0,i.string32)(K));const j=`url(data:font/opentype;base64,${btoa(P)});`,T=`@font-face {font-family:"${w}";src:${j}}`;this.insertRule(T);const I=this._document.createElement("div");I.style.visibility="hidden",I.style.width=I.style.height="10px",I.style.position="absolute",I.style.top=I.style.left="0px";for(const Y of[m.loadedName,w]){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=Y,I.append(R)}this._document.body.append(I),A(w,()=>{I.remove(),_.complete()})}}e.FontLoader=s;class o{constructor(m,{isEvalSupported:_=!0,disableFontFace:h=!1,ignoreErrors:d=!1,inspectFont:f=null}){this.compiledGlyphs=Object.create(null);for(const b in m)this[b]=m[b];this.isEvalSupported=_!==!1,this.disableFontFace=h===!0,this.ignoreErrors=d===!0,this._inspectFont=f}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let m;if(!this.cssFontInfo)m=new FontFace(this.loadedName,this.data,{});else{const _={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_.style=`oblique ${this.cssFontInfo.italicAngle}deg`),m=new FontFace(this.cssFontInfo.fontFamily,this.data,_)}return this._inspectFont?.(this),m}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const m=(0,i.bytesToString)(this.data),_=`url(data:${this.mimetype};base64,${btoa(m)});`;let h;if(!this.cssFontInfo)h=`@font-face {font-family:"${this.loadedName}";src:${_}}`;else{let d=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(d+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),h=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${d}src:${_}}`}return this._inspectFont?.(this,_),h}getPathGenerator(m,_){if(this.compiledGlyphs[_]!==void 0)return this.compiledGlyphs[_];let h;try{h=m.get(this.loadedName+"_path_"+_)}catch(d){if(!this.ignoreErrors)throw d;return(0,i.warn)(`getPathGenerator - ignoring character: "${d}".`),this.compiledGlyphs[_]=function(f,b){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const d=[];for(const f of h){const b=f.args!==void 0?f.args.join(","):"";d.push("c.",f.cmd,"(",b,`);
`)}return this.compiledGlyphs[_]=new Function("c","size",d.join(""))}return this.compiledGlyphs[_]=function(d,f){for(const b of h)b.cmd==="scale"&&(b.args=[f,-f]),d[b.cmd].apply(d,b.args)}}}e.FontFaceObject=o},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var i=n(7);n(1);const s=function(h){return new Promise((d,f)=>{require$$5.readFile(h,(y,p)=>{if(y||!p){f(new Error(y));return}d(new Uint8Array(p))})})};class o extends i.BaseFilterFactory{}e.NodeFilterFactory=o;class c extends i.BaseCanvasFactory{_createCanvas(d,f){return require$$5.createCanvas(d,f)}}e.NodeCanvasFactory=c;class m extends i.BaseCMapReaderFactory{_fetchData(d,f){return s(d).then(b=>({cMapData:b,compressionType:f}))}}e.NodeCMapReaderFactory=m;class _ extends i.BaseStandardFontDataFactory{_fetchData(d){return s(d)}}e.NodeStandardFontDataFactory=_},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var i=n(1),s=n(6),o=n(12),c=n(13);const m=16,_=100,h=4096,d=15,f=10,b=1e3,y=16;function p(W,$){if(W._removeMirroring)throw new Error("Context is already forwarding operations.");W.__originalSave=W.save,W.__originalRestore=W.restore,W.__originalRotate=W.rotate,W.__originalScale=W.scale,W.__originalTranslate=W.translate,W.__originalTransform=W.transform,W.__originalSetTransform=W.setTransform,W.__originalResetTransform=W.resetTransform,W.__originalClip=W.clip,W.__originalMoveTo=W.moveTo,W.__originalLineTo=W.lineTo,W.__originalBezierCurveTo=W.bezierCurveTo,W.__originalRect=W.rect,W.__originalClosePath=W.closePath,W.__originalBeginPath=W.beginPath,W._removeMirroring=()=>{W.save=W.__originalSave,W.restore=W.__originalRestore,W.rotate=W.__originalRotate,W.scale=W.__originalScale,W.translate=W.__originalTranslate,W.transform=W.__originalTransform,W.setTransform=W.__originalSetTransform,W.resetTransform=W.__originalResetTransform,W.clip=W.__originalClip,W.moveTo=W.__originalMoveTo,W.lineTo=W.__originalLineTo,W.bezierCurveTo=W.__originalBezierCurveTo,W.rect=W.__originalRect,W.closePath=W.__originalClosePath,W.beginPath=W.__originalBeginPath,delete W._removeMirroring},W.save=function(){$.save(),this.__originalSave()},W.restore=function(){$.restore(),this.__originalRestore()},W.translate=function(J,ae){$.translate(J,ae),this.__originalTranslate(J,ae)},W.scale=function(J,ae){$.scale(J,ae),this.__originalScale(J,ae)},W.transform=function(J,ae,D,de,ce,H){$.transform(J,ae,D,de,ce,H),this.__originalTransform(J,ae,D,de,ce,H)},W.setTransform=function(J,ae,D,de,ce,H){$.setTransform(J,ae,D,de,ce,H),this.__originalSetTransform(J,ae,D,de,ce,H)},W.resetTransform=function(){$.resetTransform(),this.__originalResetTransform()},W.rotate=function(J){$.rotate(J),this.__originalRotate(J)},W.clip=function(J){$.clip(J),this.__originalClip(J)},W.moveTo=function(S,J){$.moveTo(S,J),this.__originalMoveTo(S,J)},W.lineTo=function(S,J){$.lineTo(S,J),this.__originalLineTo(S,J)},W.bezierCurveTo=function(S,J,ae,D,de,ce){$.bezierCurveTo(S,J,ae,D,de,ce),this.__originalBezierCurveTo(S,J,ae,D,de,ce)},W.rect=function(S,J,ae,D){$.rect(S,J,ae,D),this.__originalRect(S,J,ae,D)},W.closePath=function(){$.closePath(),this.__originalClosePath()},W.beginPath=function(){$.beginPath(),this.__originalBeginPath()}}class v{constructor($){this.canvasFactory=$,this.cache=Object.create(null)}getCanvas($,S,J){let ae;return this.cache[$]!==void 0?(ae=this.cache[$],this.canvasFactory.reset(ae,S,J)):(ae=this.canvasFactory.create(S,J),this.cache[$]=ae),ae}delete($){delete this.cache[$]}clear(){for(const $ in this.cache){const S=this.cache[$];this.canvasFactory.destroy(S),delete this.cache[$]}}}function A(W,$,S,J,ae,D,de,ce,H,ne){const[oe,me,ve,ye,xe,je]=(0,s.getCurrentTransform)(W);if(me===0&&ve===0){const qe=de*oe+xe,ze=Math.round(qe),ke=ce*ye+je,De=Math.round(ke),tt=(de+H)*oe+xe,Xe=Math.abs(Math.round(tt)-ze)||1,rt=(ce+ne)*ye+je,pt=Math.abs(Math.round(rt)-De)||1;return W.setTransform(Math.sign(oe),0,0,Math.sign(ye),ze,De),W.drawImage($,S,J,ae,D,0,0,Xe,pt),W.setTransform(oe,me,ve,ye,xe,je),[Xe,pt]}if(oe===0&&ye===0){const qe=ce*ve+xe,ze=Math.round(qe),ke=de*me+je,De=Math.round(ke),tt=(ce+ne)*ve+xe,Xe=Math.abs(Math.round(tt)-ze)||1,rt=(de+H)*me+je,pt=Math.abs(Math.round(rt)-De)||1;return W.setTransform(0,Math.sign(me),Math.sign(ve),0,ze,De),W.drawImage($,S,J,ae,D,0,0,pt,Xe),W.setTransform(oe,me,ve,ye,xe,je),[pt,Xe]}W.drawImage($,S,J,ae,D,de,ce,H,ne);const Je=Math.hypot(oe,me),Le=Math.hypot(ve,ye);return[Je*H,Le*ne]}function w(W){const{width:$,height:S}=W;if($>b||S>b)return null;const J=1e3,ae=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),D=$+1;let de=new Uint8Array(D*(S+1)),ce,H,ne;const oe=$+7&-8;let me=new Uint8Array(oe*S),ve=0;for(const Le of W.data){let qe=128;for(;qe>0;)me[ve++]=Le&qe?0:255,qe>>=1}let ye=0;for(ve=0,me[ve]!==0&&(de[0]=1,++ye),H=1;H<$;H++)me[ve]!==me[ve+1]&&(de[H]=me[ve]?2:1,++ye),ve++;for(me[ve]!==0&&(de[H]=2,++ye),ce=1;ce<S;ce++){ve=ce*oe,ne=ce*D,me[ve-oe]!==me[ve]&&(de[ne]=me[ve]?1:8,++ye);let Le=(me[ve]?4:0)+(me[ve-oe]?8:0);for(H=1;H<$;H++)Le=(Le>>2)+(me[ve+1]?4:0)+(me[ve-oe+1]?8:0),ae[Le]&&(de[ne+H]=ae[Le],++ye),ve++;if(me[ve-oe]!==me[ve]&&(de[ne+H]=me[ve]?2:4,++ye),ye>J)return null}for(ve=oe*(S-1),ne=ce*D,me[ve]!==0&&(de[ne]=8,++ye),H=1;H<$;H++)me[ve]!==me[ve+1]&&(de[ne+H]=me[ve]?4:8,++ye),ve++;if(me[ve]!==0&&(de[ne+H]=4,++ye),ye>J)return null;const xe=new Int32Array([0,D,-1,0,-D,0,0,0,1]),je=new Path2D;for(ce=0;ye&&ce<=S;ce++){let Le=ce*D;const qe=Le+$;for(;Le<qe&&!de[Le];)Le++;if(Le===qe)continue;je.moveTo(Le%D,ce);const ze=Le;let ke=de[Le];do{const De=xe[ke];do Le+=De;while(!de[Le]);const tt=de[Le];tt!==5&&tt!==10?(ke=tt,de[Le]=0):(ke=tt&51*ke>>4,de[Le]&=ke>>2|ke<<2),je.lineTo(Le%D,Le/D|0),de[Le]||--ye}while(ze!==Le);--ce}return me=null,de=null,function(Le){Le.save(),Le.scale(1/$,-1/S),Le.translate(0,-S),Le.fill(je),Le.beginPath(),Le.restore()}}class P{constructor($,S){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,$,S])}clone(){const $=Object.create(this);return $.clipBox=this.clipBox.slice(),$}setCurrentPoint($,S){this.x=$,this.y=S}updatePathMinMax($,S,J){[S,J]=i.Util.applyTransform([S,J],$),this.minX=Math.min(this.minX,S),this.minY=Math.min(this.minY,J),this.maxX=Math.max(this.maxX,S),this.maxY=Math.max(this.maxY,J)}updateRectMinMax($,S){const J=i.Util.applyTransform(S,$),ae=i.Util.applyTransform(S.slice(2),$);this.minX=Math.min(this.minX,J[0],ae[0]),this.minY=Math.min(this.minY,J[1],ae[1]),this.maxX=Math.max(this.maxX,J[0],ae[0]),this.maxY=Math.max(this.maxY,J[1],ae[1])}updateScalingPathMinMax($,S){i.Util.scaleMinMax($,S),this.minX=Math.min(this.minX,S[0]),this.maxX=Math.max(this.maxX,S[1]),this.minY=Math.min(this.minY,S[2]),this.maxY=Math.max(this.maxY,S[3])}updateCurvePathMinMax($,S,J,ae,D,de,ce,H,ne,oe){const me=i.Util.bezierBoundingBox(S,J,ae,D,de,ce,H,ne);if(oe){oe[0]=Math.min(oe[0],me[0],me[2]),oe[1]=Math.max(oe[1],me[0],me[2]),oe[2]=Math.min(oe[2],me[1],me[3]),oe[3]=Math.max(oe[3],me[1],me[3]);return}this.updateRectMinMax($,me)}getPathBoundingBox($=o.PathType.FILL,S=null){const J=[this.minX,this.minY,this.maxX,this.maxY];if($===o.PathType.STROKE){S||(0,i.unreachable)("Stroke bounding box must include transform.");const ae=i.Util.singularValueDecompose2dScale(S),D=ae[0]*this.lineWidth/2,de=ae[1]*this.lineWidth/2;J[0]-=D,J[1]-=de,J[2]+=D,J[3]+=de}return J}updateClipFromPath(){const $=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox($||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox($){this.clipBox=$,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox($=o.PathType.FILL,S=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox($,S))}}function Z(W,$){if(typeof ImageData<"u"&&$ instanceof ImageData){W.putImageData($,0,0);return}const S=$.height,J=$.width,ae=S%y,D=(S-ae)/y,de=ae===0?D:D+1,ce=W.createImageData(J,y);let H=0,ne;const oe=$.data,me=ce.data;let ve,ye,xe,je;if($.kind===i.ImageKind.GRAYSCALE_1BPP){const Je=oe.byteLength,Le=new Uint32Array(me.buffer,0,me.byteLength>>2),qe=Le.length,ze=J+7>>3,ke=4294967295,De=i.FeatureTest.isLittleEndian?4278190080:255;for(ve=0;ve<de;ve++){for(xe=ve<D?y:ae,ne=0,ye=0;ye<xe;ye++){const tt=Je-H;let Xe=0;const rt=tt>ze?J:tt*8-7,pt=rt&-8;let vt=0,Pt=0;for(;Xe<pt;Xe+=8)Pt=oe[H++],Le[ne++]=Pt&128?ke:De,Le[ne++]=Pt&64?ke:De,Le[ne++]=Pt&32?ke:De,Le[ne++]=Pt&16?ke:De,Le[ne++]=Pt&8?ke:De,Le[ne++]=Pt&4?ke:De,Le[ne++]=Pt&2?ke:De,Le[ne++]=Pt&1?ke:De;for(;Xe<rt;Xe++)vt===0&&(Pt=oe[H++],vt=128),Le[ne++]=Pt&vt?ke:De,vt>>=1}for(;ne<qe;)Le[ne++]=0;W.putImageData(ce,0,ve*y)}}else if($.kind===i.ImageKind.RGBA_32BPP){for(ye=0,je=J*y*4,ve=0;ve<D;ve++)me.set(oe.subarray(H,H+je)),H+=je,W.putImageData(ce,0,ye),ye+=y;ve<de&&(je=J*ae*4,me.set(oe.subarray(H,H+je)),W.putImageData(ce,0,ye))}else if($.kind===i.ImageKind.RGB_24BPP)for(xe=y,je=J*xe,ve=0;ve<de;ve++){for(ve>=D&&(xe=ae,je=J*xe),ne=0,ye=je;ye--;)me[ne++]=oe[H++],me[ne++]=oe[H++],me[ne++]=oe[H++],me[ne++]=255;W.putImageData(ce,0,ve*y)}else throw new Error(`bad image kind: ${$.kind}`)}function Q(W,$){if($.bitmap){W.drawImage($.bitmap,0,0);return}const S=$.height,J=$.width,ae=S%y,D=(S-ae)/y,de=ae===0?D:D+1,ce=W.createImageData(J,y);let H=0;const ne=$.data,oe=ce.data;for(let me=0;me<de;me++){const ve=me<D?y:ae;({srcPos:H}=(0,c.convertBlackAndWhiteToRGBA)({src:ne,srcPos:H,dest:oe,width:J,height:ve,nonBlackColor:0})),W.putImageData(ce,0,me*y)}}function z(W,$){const S=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const J of S)W[J]!==void 0&&($[J]=W[J]);W.setLineDash!==void 0&&($.setLineDash(W.getLineDash()),$.lineDashOffset=W.lineDashOffset)}function K(W){if(W.strokeStyle=W.fillStyle="#000000",W.fillRule="nonzero",W.globalAlpha=1,W.lineWidth=1,W.lineCap="butt",W.lineJoin="miter",W.miterLimit=10,W.globalCompositeOperation="source-over",W.font="10px sans-serif",W.setLineDash!==void 0&&(W.setLineDash([]),W.lineDashOffset=0),!i.isNodeJS){const{filter:$}=W;$!=="none"&&$!==""&&(W.filter="none")}}function j(W,$,S,J){const ae=W.length;for(let D=3;D<ae;D+=4){const de=W[D];if(de===0)W[D-3]=$,W[D-2]=S,W[D-1]=J;else if(de<255){const ce=255-de;W[D-3]=W[D-3]*de+$*ce>>8,W[D-2]=W[D-2]*de+S*ce>>8,W[D-1]=W[D-1]*de+J*ce>>8}}}function T(W,$,S){const J=W.length,ae=1/255;for(let D=3;D<J;D+=4){const de=S?S[W[D]]:W[D];$[D]=$[D]*de*ae|0}}function I(W,$,S){const J=W.length;for(let ae=3;ae<J;ae+=4){const D=W[ae-3]*77+W[ae-2]*152+W[ae-1]*28;$[ae]=S?$[ae]*S[D>>8]>>8:$[ae]*D>>16}}function Y(W,$,S,J,ae,D,de,ce,H,ne,oe){const me=!!D,ve=me?D[0]:0,ye=me?D[1]:0,xe=me?D[2]:0,je=ae==="Luminosity"?I:T,Le=Math.min(J,Math.ceil(1048576/S));for(let qe=0;qe<J;qe+=Le){const ze=Math.min(Le,J-qe),ke=W.getImageData(ce-ne,qe+(H-oe),S,ze),De=$.getImageData(ce,qe+H,S,ze);me&&j(ke.data,ve,ye,xe),je(ke.data,De.data,de),$.putImageData(De,ce,qe+H)}}function R(W,$,S,J){const ae=J[0],D=J[1],de=J[2]-ae,ce=J[3]-D;de===0||ce===0||(Y($.context,S,de,ce,$.subtype,$.backdrop,$.transferMap,ae,D,$.offsetX,$.offsetY),W.save(),W.globalAlpha=1,W.globalCompositeOperation="source-over",W.setTransform(1,0,0,1,0,0),W.drawImage(S.canvas,0,0),W.restore())}function U(W,$){const S=i.Util.singularValueDecompose2dScale(W);S[0]=Math.fround(S[0]),S[1]=Math.fround(S[1]);const J=Math.fround((globalThis.devicePixelRatio||1)*s.PixelsPerInch.PDF_TO_CSS_UNITS);return $!==void 0?$:S[0]<=J||S[1]<=J}const G=["butt","round","square"],ue=["miter","round","bevel"],he={},se={};class ee{constructor($,S,J,ae,D,{optionalContentConfig:de,markedContentStack:ce=null},H,ne){this.ctx=$,this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=S,this.objs=J,this.canvasFactory=ae,this.filterFactory=D,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=ce||[],this.optionalContentConfig=de,this.cachedCanvases=new v(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=H,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=ne,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject($,S=null){return typeof $=="string"?$.startsWith("g_")?this.commonObjs.get($):this.objs.get($):S}beginDrawing({transform:$,viewport:S,transparency:J=!1,background:ae=null}){const D=this.ctx.canvas.width,de=this.ctx.canvas.height,ce=this.ctx.fillStyle;if(this.ctx.fillStyle=ae||"#ffffff",this.ctx.fillRect(0,0,D,de),this.ctx.fillStyle=ce,J){const H=this.cachedCanvases.getCanvas("transparent",D,de);this.compositeCtx=this.ctx,this.transparentCanvas=H.canvas,this.ctx=H.context,this.ctx.save(),this.ctx.transform(...(0,s.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),K(this.ctx),$&&(this.ctx.transform(...$),this.outputScaleX=$[0],this.outputScaleY=$[0]),this.ctx.transform(...S.transform),this.viewportScale=S.scale,this.baseTransform=(0,s.getCurrentTransform)(this.ctx)}executeOperatorList($,S,J,ae){const D=$.argsArray,de=$.fnArray;let ce=S||0;const H=D.length;if(H===ce)return ce;const ne=H-ce>f&&typeof J=="function",oe=ne?Date.now()+d:0;let me=0;const ve=this.commonObjs,ye=this.objs;let xe;for(;;){if(ae!==void 0&&ce===ae.nextBreakPoint)return ae.breakIt(ce,J),ce;if(xe=de[ce],xe!==i.OPS.dependency)this[xe].apply(this,D[ce]);else for(const je of D[ce]){const Je=je.startsWith("g_")?ve:ye;if(!Je.has(je))return Je.get(je,J),ce}if(ce++,ce===H)return ce;if(ne&&++me>f){if(Date.now()>oe)return J(),ce;me=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const $ of this._cachedBitmapsMap.values()){for(const S of $.values())typeof HTMLCanvasElement<"u"&&S instanceof HTMLCanvasElement&&(S.width=S.height=0);$.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const $=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if($!=="none"){const S=this.ctx.filter;this.ctx.filter=$,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=S}}}_scaleImage($,S){const J=$.width,ae=$.height;let D=Math.max(Math.hypot(S[0],S[1]),1),de=Math.max(Math.hypot(S[2],S[3]),1),ce=J,H=ae,ne="prescale1",oe,me;for(;D>2&&ce>1||de>2&&H>1;){let ve=ce,ye=H;D>2&&ce>1&&(ve=ce>=16384?Math.floor(ce/2)-1||1:Math.ceil(ce/2),D/=ce/ve),de>2&&H>1&&(ye=H>=16384?Math.floor(H/2)-1||1:Math.ceil(H)/2,de/=H/ye),oe=this.cachedCanvases.getCanvas(ne,ve,ye),me=oe.context,me.clearRect(0,0,ve,ye),me.drawImage($,0,0,ce,H,0,0,ve,ye),$=oe.canvas,ce=ve,H=ye,ne=ne==="prescale1"?"prescale2":"prescale1"}return{img:$,paintWidth:ce,paintHeight:H}}_createMaskCanvas($){const S=this.ctx,{width:J,height:ae}=$,D=this.current.fillColor,de=this.current.patternFill,ce=(0,s.getCurrentTransform)(S);let H,ne,oe,me;if(($.bitmap||$.data)&&$.count>1){const Xe=$.bitmap||$.data.buffer;ne=JSON.stringify(de?ce:[ce.slice(0,4),D]),H=this._cachedBitmapsMap.get(Xe),H||(H=new Map,this._cachedBitmapsMap.set(Xe,H));const rt=H.get(ne);if(rt&&!de){const pt=Math.round(Math.min(ce[0],ce[2])+ce[4]),vt=Math.round(Math.min(ce[1],ce[3])+ce[5]);return{canvas:rt,offsetX:pt,offsetY:vt}}oe=rt}oe||(me=this.cachedCanvases.getCanvas("maskCanvas",J,ae),Q(me.context,$));let ve=i.Util.transform(ce,[1/J,0,0,-1/ae,0,0]);ve=i.Util.transform(ve,[1,0,0,1,0,-ae]);const ye=i.Util.applyTransform([0,0],ve),xe=i.Util.applyTransform([J,ae],ve),je=i.Util.normalizeRect([ye[0],ye[1],xe[0],xe[1]]),Je=Math.round(je[2]-je[0])||1,Le=Math.round(je[3]-je[1])||1,qe=this.cachedCanvases.getCanvas("fillCanvas",Je,Le),ze=qe.context,ke=Math.min(ye[0],xe[0]),De=Math.min(ye[1],xe[1]);ze.translate(-ke,-De),ze.transform(...ve),oe||(oe=this._scaleImage(me.canvas,(0,s.getCurrentTransformInverse)(ze)),oe=oe.img,H&&de&&H.set(ne,oe)),ze.imageSmoothingEnabled=U((0,s.getCurrentTransform)(ze),$.interpolate),A(ze,oe,0,0,oe.width,oe.height,0,0,J,ae),ze.globalCompositeOperation="source-in";const tt=i.Util.transform((0,s.getCurrentTransformInverse)(ze),[1,0,0,1,-ke,-De]);return ze.fillStyle=de?D.getPattern(S,this,tt,o.PathType.FILL):D,ze.fillRect(0,0,J,ae),H&&!de&&(this.cachedCanvases.delete("fillCanvas"),H.set(ne,qe.canvas)),{canvas:qe.canvas,offsetX:Math.round(ke),offsetY:Math.round(De)}}setLineWidth($){$!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=$,this.ctx.lineWidth=$}setLineCap($){this.ctx.lineCap=G[$]}setLineJoin($){this.ctx.lineJoin=ue[$]}setMiterLimit($){this.ctx.miterLimit=$}setDash($,S){const J=this.ctx;J.setLineDash!==void 0&&(J.setLineDash($),J.lineDashOffset=S)}setRenderingIntent($){}setFlatness($){}setGState($){for(const[S,J]of $)switch(S){case"LW":this.setLineWidth(J);break;case"LC":this.setLineCap(J);break;case"LJ":this.setLineJoin(J);break;case"ML":this.setMiterLimit(J);break;case"D":this.setDash(J[0],J[1]);break;case"RI":this.setRenderingIntent(J);break;case"FL":this.setFlatness(J);break;case"Font":this.setFont(J[0],J[1]);break;case"CA":this.current.strokeAlpha=J;break;case"ca":this.current.fillAlpha=J,this.ctx.globalAlpha=J;break;case"BM":this.ctx.globalCompositeOperation=J;break;case"SMask":this.current.activeSMask=J?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(J);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const $=this.inSMaskMode;this.current.activeSMask&&!$?this.beginSMaskMode():!this.current.activeSMask&&$&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const $=this.ctx.canvas.width,S=this.ctx.canvas.height,J="smaskGroupAt"+this.groupLevel,ae=this.cachedCanvases.getCanvas(J,$,S);this.suspendedCtx=this.ctx,this.ctx=ae.context;const D=this.ctx;D.setTransform(...(0,s.getCurrentTransform)(this.suspendedCtx)),z(this.suspendedCtx,D),p(D,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),z(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose($){if(!this.current.activeSMask)return;$?($[0]=Math.floor($[0]),$[1]=Math.floor($[1]),$[2]=Math.ceil($[2]),$[3]=Math.ceil($[3])):$=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const S=this.current.activeSMask,J=this.suspendedCtx;R(J,S,this.ctx,$),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(z(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const $=this.current;this.stateStack.push($),this.current=$.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),z(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform($,S,J,ae,D,de){this.ctx.transform($,S,J,ae,D,de),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath($,S,J){const ae=this.ctx,D=this.current;let de=D.x,ce=D.y,H,ne;const oe=(0,s.getCurrentTransform)(ae),me=oe[0]===0&&oe[3]===0||oe[1]===0&&oe[2]===0,ve=me?J.slice(0):null;for(let ye=0,xe=0,je=$.length;ye<je;ye++)switch($[ye]|0){case i.OPS.rectangle:de=S[xe++],ce=S[xe++];const Je=S[xe++],Le=S[xe++],qe=de+Je,ze=ce+Le;ae.moveTo(de,ce),Je===0||Le===0?ae.lineTo(qe,ze):(ae.lineTo(qe,ce),ae.lineTo(qe,ze),ae.lineTo(de,ze)),me||D.updateRectMinMax(oe,[de,ce,qe,ze]),ae.closePath();break;case i.OPS.moveTo:de=S[xe++],ce=S[xe++],ae.moveTo(de,ce),me||D.updatePathMinMax(oe,de,ce);break;case i.OPS.lineTo:de=S[xe++],ce=S[xe++],ae.lineTo(de,ce),me||D.updatePathMinMax(oe,de,ce);break;case i.OPS.curveTo:H=de,ne=ce,de=S[xe+4],ce=S[xe+5],ae.bezierCurveTo(S[xe],S[xe+1],S[xe+2],S[xe+3],de,ce),D.updateCurvePathMinMax(oe,H,ne,S[xe],S[xe+1],S[xe+2],S[xe+3],de,ce,ve),xe+=6;break;case i.OPS.curveTo2:H=de,ne=ce,ae.bezierCurveTo(de,ce,S[xe],S[xe+1],S[xe+2],S[xe+3]),D.updateCurvePathMinMax(oe,H,ne,de,ce,S[xe],S[xe+1],S[xe+2],S[xe+3],ve),de=S[xe+2],ce=S[xe+3],xe+=4;break;case i.OPS.curveTo3:H=de,ne=ce,de=S[xe+2],ce=S[xe+3],ae.bezierCurveTo(S[xe],S[xe+1],de,ce,de,ce),D.updateCurvePathMinMax(oe,H,ne,S[xe],S[xe+1],de,ce,de,ce,ve),xe+=4;break;case i.OPS.closePath:ae.closePath();break}me&&D.updateScalingPathMinMax(oe,ve),D.setCurrentPoint(de,ce)}closePath(){this.ctx.closePath()}stroke($=!0){const S=this.ctx,J=this.current.strokeColor;S.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof J=="object"&&J?.getPattern?(S.save(),S.strokeStyle=J.getPattern(S,this,(0,s.getCurrentTransformInverse)(S),o.PathType.STROKE),this.rescaleAndStroke(!1),S.restore()):this.rescaleAndStroke(!0)),$&&this.consumePath(this.current.getClippedPathBoundingBox()),S.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill($=!0){const S=this.ctx,J=this.current.fillColor,ae=this.current.patternFill;let D=!1;ae&&(S.save(),S.fillStyle=J.getPattern(S,this,(0,s.getCurrentTransformInverse)(S),o.PathType.FILL),D=!0);const de=this.current.getClippedPathBoundingBox();this.contentVisible&&de!==null&&(this.pendingEOFill?(S.fill("evenodd"),this.pendingEOFill=!1):S.fill()),D&&S.restore(),$&&this.consumePath(de)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=he}eoClip(){this.pendingClip=se}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const $=this.pendingTextPaths,S=this.ctx;if($===void 0){S.beginPath();return}S.save(),S.beginPath();for(const J of $)S.setTransform(...J.transform),S.translate(J.x,J.y),J.addToPath(S,J.fontSize);S.restore(),S.clip(),S.beginPath(),delete this.pendingTextPaths}setCharSpacing($){this.current.charSpacing=$}setWordSpacing($){this.current.wordSpacing=$}setHScale($){this.current.textHScale=$/100}setLeading($){this.current.leading=-$}setFont($,S){const J=this.commonObjs.get($),ae=this.current;if(!J)throw new Error(`Can't find font for ${$}`);if(ae.fontMatrix=J.fontMatrix||i.FONT_IDENTITY_MATRIX,(ae.fontMatrix[0]===0||ae.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+$),S<0?(S=-S,ae.fontDirection=-1):ae.fontDirection=1,this.current.font=J,this.current.fontSize=S,J.isType3Font)return;const D=J.loadedName||"sans-serif",de=J.systemFontInfo?.css||`"${D}", ${J.fallbackName}`;let ce="normal";J.black?ce="900":J.bold&&(ce="bold");const H=J.italic?"italic":"normal";let ne=S;S<m?ne=m:S>_&&(ne=_),this.current.fontSizeScale=S/ne,this.ctx.font=`${H} ${ce} ${ne}px ${de}`}setTextRenderingMode($){this.current.textRenderingMode=$}setTextRise($){this.current.textRise=$}moveText($,S){this.current.x=this.current.lineX+=$,this.current.y=this.current.lineY+=S}setLeadingMoveText($,S){this.setLeading(-S),this.moveText($,S)}setTextMatrix($,S,J,ae,D,de){this.current.textMatrix=[$,S,J,ae,D,de],this.current.textMatrixScale=Math.hypot($,S),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar($,S,J,ae){const D=this.ctx,de=this.current,ce=de.font,H=de.textRenderingMode,ne=de.fontSize/de.fontSizeScale,oe=H&i.TextRenderingMode.FILL_STROKE_MASK,me=!!(H&i.TextRenderingMode.ADD_TO_PATH_FLAG),ve=de.patternFill&&!ce.missingFile;let ye;(ce.disableFontFace||me||ve)&&(ye=ce.getPathGenerator(this.commonObjs,$)),ce.disableFontFace||ve?(D.save(),D.translate(S,J),D.beginPath(),ye(D,ne),ae&&D.setTransform(...ae),(oe===i.TextRenderingMode.FILL||oe===i.TextRenderingMode.FILL_STROKE)&&D.fill(),(oe===i.TextRenderingMode.STROKE||oe===i.TextRenderingMode.FILL_STROKE)&&D.stroke(),D.restore()):((oe===i.TextRenderingMode.FILL||oe===i.TextRenderingMode.FILL_STROKE)&&D.fillText($,S,J),(oe===i.TextRenderingMode.STROKE||oe===i.TextRenderingMode.FILL_STROKE)&&D.strokeText($,S,J)),me&&(this.pendingTextPaths||=[]).push({transform:(0,s.getCurrentTransform)(D),x:S,y:J,fontSize:ne,addToPath:ye})}get isFontSubpixelAAEnabled(){const{context:$}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);$.scale(1.5,1),$.fillText("I",0,10);const S=$.getImageData(0,0,10,10).data;let J=!1;for(let ae=3;ae<S.length;ae+=4)if(S[ae]>0&&S[ae]<255){J=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",J)}showText($){const S=this.current,J=S.font;if(J.isType3Font)return this.showType3Text($);const ae=S.fontSize;if(ae===0)return;const D=this.ctx,de=S.fontSizeScale,ce=S.charSpacing,H=S.wordSpacing,ne=S.fontDirection,oe=S.textHScale*ne,me=$.length,ve=J.vertical,ye=ve?1:-1,xe=J.defaultVMetrics,je=ae*S.fontMatrix[0],Je=S.textRenderingMode===i.TextRenderingMode.FILL&&!J.disableFontFace&&!S.patternFill;D.save(),D.transform(...S.textMatrix),D.translate(S.x,S.y+S.textRise),ne>0?D.scale(oe,-1):D.scale(oe,1);let Le;if(S.patternFill){D.save();const tt=S.fillColor.getPattern(D,this,(0,s.getCurrentTransformInverse)(D),o.PathType.FILL);Le=(0,s.getCurrentTransform)(D),D.restore(),D.fillStyle=tt}let qe=S.lineWidth;const ze=S.textMatrixScale;if(ze===0||qe===0){const tt=S.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(tt===i.TextRenderingMode.STROKE||tt===i.TextRenderingMode.FILL_STROKE)&&(qe=this.getSinglePixelWidth())}else qe/=ze;if(de!==1&&(D.scale(de,de),qe/=de),D.lineWidth=qe,J.isInvalidPDFjsFont){const tt=[];let Xe=0;for(const rt of $)tt.push(rt.unicode),Xe+=rt.width;D.fillText(tt.join(""),0,0),S.x+=Xe*je*oe,D.restore(),this.compose();return}let ke=0,De;for(De=0;De<me;++De){const tt=$[De];if(typeof tt=="number"){ke+=ye*tt*ae/1e3;continue}let Xe=!1;const rt=(tt.isSpace?H:0)+ce,pt=tt.fontChar,vt=tt.accent;let Pt,Be,Ve=tt.width;if(ve){const ht=tt.vmetric||xe,wt=-(tt.vmetric?ht[1]:Ve*.5)*je,Ut=ht[2]*je;Ve=ht?-ht[0]:Ve,Pt=wt/de,Be=(ke+Ut)/de}else Pt=ke/de,Be=0;if(J.remeasure&&Ve>0){const ht=D.measureText(pt).width*1e3/ae*de;if(Ve<ht&&this.isFontSubpixelAAEnabled){const wt=Ve/ht;Xe=!0,D.save(),D.scale(wt,1),Pt/=wt}else Ve!==ht&&(Pt+=(Ve-ht)/2e3*ae/de)}if(this.contentVisible&&(tt.isInFont||J.missingFile)){if(Je&&!vt)D.fillText(pt,Pt,Be);else if(this.paintChar(pt,Pt,Be,Le),vt){const ht=Pt+ae*vt.offset.x/de,wt=Be-ae*vt.offset.y/de;this.paintChar(vt.fontChar,ht,wt,Le)}}const mt=ve?Ve*je-rt*ne:Ve*je+rt*ne;ke+=mt,Xe&&D.restore()}ve?S.y-=ke:S.x+=ke*oe,D.restore(),this.compose()}showType3Text($){const S=this.ctx,J=this.current,ae=J.font,D=J.fontSize,de=J.fontDirection,ce=ae.vertical?1:-1,H=J.charSpacing,ne=J.wordSpacing,oe=J.textHScale*de,me=J.fontMatrix||i.FONT_IDENTITY_MATRIX,ve=$.length,ye=J.textRenderingMode===i.TextRenderingMode.INVISIBLE;let xe,je,Je,Le;if(!(ye||D===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,S.save(),S.transform(...J.textMatrix),S.translate(J.x,J.y),S.scale(oe,de),xe=0;xe<ve;++xe){if(je=$[xe],typeof je=="number"){Le=ce*je*D/1e3,this.ctx.translate(Le,0),J.x+=Le*oe;continue}const qe=(je.isSpace?ne:0)+H,ze=ae.charProcOperatorList[je.operatorListId];if(!ze){(0,i.warn)(`Type3 character "${je.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=je,this.save(),S.scale(D,D),S.transform(...me),this.executeOperatorList(ze),this.restore()),Je=i.Util.applyTransform([je.width,0],me)[0]*D+qe,S.translate(Je,0),J.x+=Je*oe}S.restore(),this.processingType3=null}}setCharWidth($,S){}setCharWidthAndBounds($,S,J,ae,D,de){this.ctx.rect(J,ae,D-J,de-ae),this.ctx.clip(),this.endPath()}getColorN_Pattern($){let S;if($[0]==="TilingPattern"){const J=$[1],ae=this.baseTransform||(0,s.getCurrentTransform)(this.ctx),D={createCanvasGraphics:de=>new ee(de,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};S=new o.TilingPattern($,J,this.ctx,D,ae)}else S=this._getPattern($[1],$[2]);return S}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor($,S,J){const ae=i.Util.makeHexColor($,S,J);this.ctx.strokeStyle=ae,this.current.strokeColor=ae}setFillRGBColor($,S,J){const ae=i.Util.makeHexColor($,S,J);this.ctx.fillStyle=ae,this.current.fillColor=ae,this.current.patternFill=!1}_getPattern($,S=null){let J;return this.cachedPatterns.has($)?J=this.cachedPatterns.get($):(J=(0,o.getShadingPattern)(this.getObject($)),this.cachedPatterns.set($,J)),S&&(J.matrix=S),J}shadingFill($){if(!this.contentVisible)return;const S=this.ctx;this.save();const J=this._getPattern($);S.fillStyle=J.getPattern(S,this,(0,s.getCurrentTransformInverse)(S),o.PathType.SHADING);const ae=(0,s.getCurrentTransformInverse)(S);if(ae){const{width:D,height:de}=S.canvas,[ce,H,ne,oe]=i.Util.getAxialAlignedBoundingBox([0,0,D,de],ae);this.ctx.fillRect(ce,H,ne-ce,oe-H)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin($,S){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray($)&&$.length===6&&this.transform(...$),this.baseTransform=(0,s.getCurrentTransform)(this.ctx),S)){const J=S[2]-S[0],ae=S[3]-S[1];this.ctx.rect(S[0],S[1],J,ae),this.current.updateRectMinMax((0,s.getCurrentTransform)(this.ctx),S),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup($){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const S=this.ctx;$.isolated||(0,i.info)("TODO: Support non-isolated groups."),$.knockout&&(0,i.warn)("Knockout groups not supported.");const J=(0,s.getCurrentTransform)(S);if($.matrix&&S.transform(...$.matrix),!$.bbox)throw new Error("Bounding box is required.");let ae=i.Util.getAxialAlignedBoundingBox($.bbox,(0,s.getCurrentTransform)(S));const D=[0,0,S.canvas.width,S.canvas.height];ae=i.Util.intersect(ae,D)||[0,0,0,0];const de=Math.floor(ae[0]),ce=Math.floor(ae[1]);let H=Math.max(Math.ceil(ae[2])-de,1),ne=Math.max(Math.ceil(ae[3])-ce,1),oe=1,me=1;H>h&&(oe=H/h,H=h),ne>h&&(me=ne/h,ne=h),this.current.startNewPathAndClipBox([0,0,H,ne]);let ve="groupAt"+this.groupLevel;$.smask&&(ve+="_smask_"+this.smaskCounter++%2);const ye=this.cachedCanvases.getCanvas(ve,H,ne),xe=ye.context;xe.scale(1/oe,1/me),xe.translate(-de,-ce),xe.transform(...J),$.smask?this.smaskStack.push({canvas:ye.canvas,context:xe,offsetX:de,offsetY:ce,scaleX:oe,scaleY:me,subtype:$.smask.subtype,backdrop:$.smask.backdrop,transferMap:$.smask.transferMap||null,startTransformInverse:null}):(S.setTransform(1,0,0,1,0,0),S.translate(de,ce),S.scale(oe,me),S.save()),z(S,xe),this.ctx=xe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(S),this.groupLevel++}endGroup($){if(!this.contentVisible)return;this.groupLevel--;const S=this.ctx,J=this.groupStack.pop();if(this.ctx=J,this.ctx.imageSmoothingEnabled=!1,$.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const ae=(0,s.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...ae);const D=i.Util.getAxialAlignedBoundingBox([0,0,S.canvas.width,S.canvas.height],ae);this.ctx.drawImage(S.canvas,0,0),this.ctx.restore(),this.compose(D)}}beginAnnotation($,S,J,ae,D){if(this.#e(),K(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(S)&&S.length===4){const de=S[2]-S[0],ce=S[3]-S[1];if(D&&this.annotationCanvasMap){J=J.slice(),J[4]-=S[0],J[5]-=S[1],S=S.slice(),S[0]=S[1]=0,S[2]=de,S[3]=ce;const[H,ne]=i.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(this.ctx)),{viewportScale:oe}=this,me=Math.ceil(de*this.outputScaleX*oe),ve=Math.ceil(ce*this.outputScaleY*oe);this.annotationCanvas=this.canvasFactory.create(me,ve);const{canvas:ye,context:xe}=this.annotationCanvas;this.annotationCanvasMap.set($,ye),this.annotationCanvas.savedCtx=this.ctx,this.ctx=xe,this.ctx.save(),this.ctx.setTransform(H,0,0,-ne,0,ce*ne),K(this.ctx)}else K(this.ctx),this.ctx.rect(S[0],S[1],de,ce),this.ctx.clip(),this.endPath()}this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...J),this.transform(...ae)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject($){if(!this.contentVisible)return;const S=$.count;$=this.getObject($.data,$),$.count=S;const J=this.ctx,ae=this.processingType3;if(ae&&(ae.compiled===void 0&&(ae.compiled=w($)),ae.compiled)){ae.compiled(J);return}const D=this._createMaskCanvas($),de=D.canvas;J.save(),J.setTransform(1,0,0,1,0,0),J.drawImage(de,D.offsetX,D.offsetY),J.restore(),this.compose()}paintImageMaskXObjectRepeat($,S,J=0,ae=0,D,de){if(!this.contentVisible)return;$=this.getObject($.data,$);const ce=this.ctx;ce.save();const H=(0,s.getCurrentTransform)(ce);ce.transform(S,J,ae,D,0,0);const ne=this._createMaskCanvas($);ce.setTransform(1,0,0,1,ne.offsetX-H[4],ne.offsetY-H[5]);for(let oe=0,me=de.length;oe<me;oe+=2){const ve=i.Util.transform(H,[S,J,ae,D,de[oe],de[oe+1]]),[ye,xe]=i.Util.applyTransform([0,0],ve);ce.drawImage(ne.canvas,ye,xe)}ce.restore(),this.compose()}paintImageMaskXObjectGroup($){if(!this.contentVisible)return;const S=this.ctx,J=this.current.fillColor,ae=this.current.patternFill;for(const D of $){const{data:de,width:ce,height:H,transform:ne}=D,oe=this.cachedCanvases.getCanvas("maskCanvas",ce,H),me=oe.context;me.save();const ve=this.getObject(de,D);Q(me,ve),me.globalCompositeOperation="source-in",me.fillStyle=ae?J.getPattern(me,this,(0,s.getCurrentTransformInverse)(S),o.PathType.FILL):J,me.fillRect(0,0,ce,H),me.restore(),S.save(),S.transform(...ne),S.scale(1,-1),A(S,oe.canvas,0,0,ce,H,0,-1,1,1),S.restore()}this.compose()}paintImageXObject($){if(!this.contentVisible)return;const S=this.getObject($);if(!S){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(S)}paintImageXObjectRepeat($,S,J,ae){if(!this.contentVisible)return;const D=this.getObject($);if(!D){(0,i.warn)("Dependent image isn't ready yet");return}const de=D.width,ce=D.height,H=[];for(let ne=0,oe=ae.length;ne<oe;ne+=2)H.push({transform:[S,0,0,J,ae[ne],ae[ne+1]],x:0,y:0,w:de,h:ce});this.paintInlineImageXObjectGroup(D,H)}applyTransferMapsToCanvas($){return this.current.transferMaps!=="none"&&($.filter=this.current.transferMaps,$.drawImage($.canvas,0,0),$.filter="none"),$.canvas}applyTransferMapsToBitmap($){if(this.current.transferMaps==="none")return $.bitmap;const{bitmap:S,width:J,height:ae}=$,D=this.cachedCanvases.getCanvas("inlineImage",J,ae),de=D.context;return de.filter=this.current.transferMaps,de.drawImage(S,0,0),de.filter="none",D.canvas}paintInlineImageXObject($){if(!this.contentVisible)return;const S=$.width,J=$.height,ae=this.ctx;if(this.save(),!i.isNodeJS){const{filter:ce}=ae;ce!=="none"&&ce!==""&&(ae.filter="none")}ae.scale(1/S,-1/J);let D;if($.bitmap)D=this.applyTransferMapsToBitmap($);else if(typeof HTMLElement=="function"&&$ instanceof HTMLElement||!$.data)D=$;else{const H=this.cachedCanvases.getCanvas("inlineImage",S,J).context;Z(H,$),D=this.applyTransferMapsToCanvas(H)}const de=this._scaleImage(D,(0,s.getCurrentTransformInverse)(ae));ae.imageSmoothingEnabled=U((0,s.getCurrentTransform)(ae),$.interpolate),A(ae,de.img,0,0,de.paintWidth,de.paintHeight,0,-J,S,J),this.compose(),this.restore()}paintInlineImageXObjectGroup($,S){if(!this.contentVisible)return;const J=this.ctx;let ae;if($.bitmap)ae=$.bitmap;else{const D=$.width,de=$.height,H=this.cachedCanvases.getCanvas("inlineImage",D,de).context;Z(H,$),ae=this.applyTransferMapsToCanvas(H)}for(const D of S)J.save(),J.transform(...D.transform),J.scale(1,-1),A(J,ae,D.x,D.y,D.w,D.h,0,-1,1,1),J.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint($){}markPointProps($,S){}beginMarkedContent($){this.markedContentStack.push({visible:!0})}beginMarkedContentProps($,S){$==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(S)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath($){const S=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose($);const J=this.ctx;this.pendingClip&&(S||(this.pendingClip===se?J.clip("evenodd"):J.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),J.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const $=(0,s.getCurrentTransform)(this.ctx);if($[1]===0&&$[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs($[0]),Math.abs($[3]));else{const S=Math.abs($[0]*$[3]-$[2]*$[1]),J=Math.hypot($[0],$[2]),ae=Math.hypot($[1],$[3]);this._cachedGetSinglePixelWidth=Math.max(J,ae)/S}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:$}=this.current,{a:S,b:J,c:ae,d:D}=this.ctx.getTransform();let de,ce;if(J===0&&ae===0){const H=Math.abs(S),ne=Math.abs(D);if(H===ne)if($===0)de=ce=1/H;else{const oe=H*$;de=ce=oe<1?1/oe:1}else if($===0)de=1/H,ce=1/ne;else{const oe=H*$,me=ne*$;de=oe<1?1/oe:1,ce=me<1?1/me:1}}else{const H=Math.abs(S*D-J*ae),ne=Math.hypot(S,J),oe=Math.hypot(ae,D);if($===0)de=oe/H,ce=ne/H;else{const me=$*H;de=oe>me?oe/me:1,ce=ne>me?ne/me:1}}this._cachedScaleForStroking[0]=de,this._cachedScaleForStroking[1]=ce}return this._cachedScaleForStroking}rescaleAndStroke($){const{ctx:S}=this,{lineWidth:J}=this.current,[ae,D]=this.getScaleForStroking();if(S.lineWidth=J||1,ae===1&&D===1){S.stroke();return}const de=S.getLineDash();if($&&S.save(),S.scale(ae,D),de.length>0){const ce=Math.max(ae,D);S.setLineDash(de.map(H=>H/ce)),S.lineDashOffset/=ce}S.stroke(),$&&S.restore()}isContentVisible(){for(let $=this.markedContentStack.length-1;$>=0;$--)if(!this.markedContentStack[$].visible)return!1;return!0}}e.CanvasGraphics=ee;for(const W in i.OPS)ee.prototype[W]!==void 0&&(ee.prototype[i.OPS[W]]=ee.prototype[W])},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=y;var i=n(1),s=n(6);const o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=o;function c(A,w){if(!w)return;const P=w[2]-w[0],Z=w[3]-w[1],Q=new Path2D;Q.rect(w[0],w[1],P,Z),A.clip(Q)}class m{constructor(){this.constructor===m&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class _ extends m{constructor(w){super(),this._type=w[1],this._bbox=w[2],this._colorStops=w[3],this._p0=w[4],this._p1=w[5],this._r0=w[6],this._r1=w[7],this.matrix=null}_createGradient(w){let P;this._type==="axial"?P=w.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(P=w.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Z of this._colorStops)P.addColorStop(Z[0],Z[1]);return P}getPattern(w,P,Z,Q){let z;if(Q===o.STROKE||Q===o.FILL){const K=P.current.getClippedPathBoundingBox(Q,(0,s.getCurrentTransform)(w))||[0,0,0,0],j=Math.ceil(K[2]-K[0])||1,T=Math.ceil(K[3]-K[1])||1,I=P.cachedCanvases.getCanvas("pattern",j,T,!0),Y=I.context;Y.clearRect(0,0,Y.canvas.width,Y.canvas.height),Y.beginPath(),Y.rect(0,0,Y.canvas.width,Y.canvas.height),Y.translate(-K[0],-K[1]),Z=i.Util.transform(Z,[1,0,0,1,K[0],K[1]]),Y.transform(...P.baseTransform),this.matrix&&Y.transform(...this.matrix),c(Y,this._bbox),Y.fillStyle=this._createGradient(Y),Y.fill(),z=w.createPattern(I.canvas,"no-repeat");const R=new DOMMatrix(Z);z.setTransform(R)}else c(w,this._bbox),z=this._createGradient(w);return z}}function h(A,w,P,Z,Q,z,K,j){const T=w.coords,I=w.colors,Y=A.data,R=A.width*4;let U;T[P+1]>T[Z+1]&&(U=P,P=Z,Z=U,U=z,z=K,K=U),T[Z+1]>T[Q+1]&&(U=Z,Z=Q,Q=U,U=K,K=j,j=U),T[P+1]>T[Z+1]&&(U=P,P=Z,Z=U,U=z,z=K,K=U);const G=(T[P]+w.offsetX)*w.scaleX,ue=(T[P+1]+w.offsetY)*w.scaleY,he=(T[Z]+w.offsetX)*w.scaleX,se=(T[Z+1]+w.offsetY)*w.scaleY,ee=(T[Q]+w.offsetX)*w.scaleX,W=(T[Q+1]+w.offsetY)*w.scaleY;if(ue>=W)return;const $=I[z],S=I[z+1],J=I[z+2],ae=I[K],D=I[K+1],de=I[K+2],ce=I[j],H=I[j+1],ne=I[j+2],oe=Math.round(ue),me=Math.round(W);let ve,ye,xe,je,Je,Le,qe,ze;for(let ke=oe;ke<=me;ke++){if(ke<se){const pt=ke<ue?0:(ue-ke)/(ue-se);ve=G-(G-he)*pt,ye=$-($-ae)*pt,xe=S-(S-D)*pt,je=J-(J-de)*pt}else{let pt;ke>W?pt=1:se===W?pt=0:pt=(se-ke)/(se-W),ve=he-(he-ee)*pt,ye=ae-(ae-ce)*pt,xe=D-(D-H)*pt,je=de-(de-ne)*pt}let De;ke<ue?De=0:ke>W?De=1:De=(ue-ke)/(ue-W),Je=G-(G-ee)*De,Le=$-($-ce)*De,qe=S-(S-H)*De,ze=J-(J-ne)*De;const tt=Math.round(Math.min(ve,Je)),Xe=Math.round(Math.max(ve,Je));let rt=R*ke+tt*4;for(let pt=tt;pt<=Xe;pt++)De=(ve-pt)/(ve-Je),De<0?De=0:De>1&&(De=1),Y[rt++]=ye-(ye-Le)*De|0,Y[rt++]=xe-(xe-qe)*De|0,Y[rt++]=je-(je-ze)*De|0,Y[rt++]=255}}function d(A,w,P){const Z=w.coords,Q=w.colors;let z,K;switch(w.type){case"lattice":const j=w.verticesPerRow,T=Math.floor(Z.length/j)-1,I=j-1;for(z=0;z<T;z++){let Y=z*j;for(let R=0;R<I;R++,Y++)h(A,P,Z[Y],Z[Y+1],Z[Y+j],Q[Y],Q[Y+1],Q[Y+j]),h(A,P,Z[Y+j+1],Z[Y+1],Z[Y+j],Q[Y+j+1],Q[Y+1],Q[Y+j])}break;case"triangles":for(z=0,K=Z.length;z<K;z+=3)h(A,P,Z[z],Z[z+1],Z[z+2],Q[z],Q[z+1],Q[z+2]);break;default:throw new Error("illegal figure")}}class f extends m{constructor(w){super(),this._coords=w[2],this._colors=w[3],this._figures=w[4],this._bounds=w[5],this._bbox=w[7],this._background=w[8],this.matrix=null}_createMeshCanvas(w,P,Z){const j=Math.floor(this._bounds[0]),T=Math.floor(this._bounds[1]),I=Math.ceil(this._bounds[2])-j,Y=Math.ceil(this._bounds[3])-T,R=Math.min(Math.ceil(Math.abs(I*w[0]*1.1)),3e3),U=Math.min(Math.ceil(Math.abs(Y*w[1]*1.1)),3e3),G=I/R,ue=Y/U,he={coords:this._coords,colors:this._colors,offsetX:-j,offsetY:-T,scaleX:1/G,scaleY:1/ue},se=R+2*2,ee=U+2*2,W=Z.getCanvas("mesh",se,ee,!1),$=W.context,S=$.createImageData(R,U);if(P){const ae=S.data;for(let D=0,de=ae.length;D<de;D+=4)ae[D]=P[0],ae[D+1]=P[1],ae[D+2]=P[2],ae[D+3]=255}for(const ae of this._figures)d(S,ae,he);return $.putImageData(S,2,2),{canvas:W.canvas,offsetX:j-2*G,offsetY:T-2*ue,scaleX:G,scaleY:ue}}getPattern(w,P,Z,Q){c(w,this._bbox);let z;if(Q===o.SHADING)z=i.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(w));else if(z=i.Util.singularValueDecompose2dScale(P.baseTransform),this.matrix){const j=i.Util.singularValueDecompose2dScale(this.matrix);z=[z[0]*j[0],z[1]*j[1]]}const K=this._createMeshCanvas(z,Q===o.SHADING?null:this._background,P.cachedCanvases);return Q!==o.SHADING&&(w.setTransform(...P.baseTransform),this.matrix&&w.transform(...this.matrix)),w.translate(K.offsetX,K.offsetY),w.scale(K.scaleX,K.scaleY),w.createPattern(K.canvas,"no-repeat")}}class b extends m{getPattern(){return"hotpink"}}function y(A){switch(A[0]){case"RadialAxial":return new _(A);case"Mesh":return new f(A);case"Dummy":return new b}throw new Error(`Unknown IR type: ${A[0]}`)}const p={COLORED:1,UNCOLORED:2};class v{static MAX_PATTERN_SIZE=3e3;constructor(w,P,Z,Q,z){this.operatorList=w[2],this.matrix=w[3]||[1,0,0,1,0,0],this.bbox=w[4],this.xstep=w[5],this.ystep=w[6],this.paintType=w[7],this.tilingType=w[8],this.color=P,this.ctx=Z,this.canvasGraphicsFactory=Q,this.baseTransform=z}createPatternCanvas(w){const P=this.operatorList,Z=this.bbox,Q=this.xstep,z=this.ystep,K=this.paintType,j=this.tilingType,T=this.color,I=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+j);const Y=Z[0],R=Z[1],U=Z[2],G=Z[3],ue=i.Util.singularValueDecompose2dScale(this.matrix),he=i.Util.singularValueDecompose2dScale(this.baseTransform),se=[ue[0]*he[0],ue[1]*he[1]],ee=this.getSizeAndScale(Q,this.ctx.canvas.width,se[0]),W=this.getSizeAndScale(z,this.ctx.canvas.height,se[1]),$=w.cachedCanvases.getCanvas("pattern",ee.size,W.size,!0),S=$.context,J=I.createCanvasGraphics(S);J.groupLevel=w.groupLevel,this.setFillAndStrokeStyleToContext(J,K,T);let ae=Y,D=R,de=U,ce=G;return Y<0&&(ae=0,de+=Math.abs(Y)),R<0&&(D=0,ce+=Math.abs(R)),S.translate(-(ee.scale*ae),-(W.scale*D)),J.transform(ee.scale,0,0,W.scale,0,0),S.save(),this.clipBbox(J,ae,D,de,ce),J.baseTransform=(0,s.getCurrentTransform)(J.ctx),J.executeOperatorList(P),J.endDrawing(),{canvas:$.canvas,scaleX:ee.scale,scaleY:W.scale,offsetX:ae,offsetY:D}}getSizeAndScale(w,P,Z){w=Math.abs(w);const Q=Math.max(v.MAX_PATTERN_SIZE,P);let z=Math.ceil(w*Z);return z>=Q?z=Q:Z=z/w,{scale:Z,size:z}}clipBbox(w,P,Z,Q,z){const K=Q-P,j=z-Z;w.ctx.rect(P,Z,K,j),w.current.updateRectMinMax((0,s.getCurrentTransform)(w.ctx),[P,Z,Q,z]),w.clip(),w.endPath()}setFillAndStrokeStyleToContext(w,P,Z){const Q=w.ctx,z=w.current;switch(P){case p.COLORED:const K=this.ctx;Q.fillStyle=K.fillStyle,Q.strokeStyle=K.strokeStyle,z.fillColor=K.fillStyle,z.strokeColor=K.strokeStyle;break;case p.UNCOLORED:const j=i.Util.makeHexColor(Z[0],Z[1],Z[2]);Q.fillStyle=j,Q.strokeStyle=j,z.fillColor=j,z.strokeColor=j;break;default:throw new i.FormatError(`Unsupported paint type: ${P}`)}}getPattern(w,P,Z,Q){let z=Z;Q!==o.SHADING&&(z=i.Util.transform(z,P.baseTransform),this.matrix&&(z=i.Util.transform(z,this.matrix)));const K=this.createPatternCanvas(P);let j=new DOMMatrix(z);j=j.translate(K.offsetX,K.offsetY),j=j.scale(1/K.scaleX,1/K.scaleY);const T=w.createPattern(K.canvas,"repeat");return T.setTransform(j),T}}e.TilingPattern=v},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=o,e.convertToRGBA=s,e.grayToRGBA=m;var i=n(1);function s(_){switch(_.kind){case i.ImageKind.GRAYSCALE_1BPP:return o(_);case i.ImageKind.RGB_24BPP:return c(_)}return null}function o({src:_,srcPos:h=0,dest:d,width:f,height:b,nonBlackColor:y=4294967295,inverseDecode:p=!1}){const v=i.FeatureTest.isLittleEndian?4278190080:255,[A,w]=p?[y,v]:[v,y],P=f>>3,Z=f&7,Q=_.length;d=new Uint32Array(d.buffer);let z=0;for(let K=0;K<b;K++){for(const T=h+P;h<T;h++){const I=h<Q?_[h]:255;d[z++]=I&128?w:A,d[z++]=I&64?w:A,d[z++]=I&32?w:A,d[z++]=I&16?w:A,d[z++]=I&8?w:A,d[z++]=I&4?w:A,d[z++]=I&2?w:A,d[z++]=I&1?w:A}if(Z===0)continue;const j=h<Q?_[h++]:255;for(let T=0;T<Z;T++)d[z++]=j&1<<7-T?w:A}return{srcPos:h,destPos:z}}function c({src:_,srcPos:h=0,dest:d,destPos:f=0,width:b,height:y}){let p=0;const v=_.length>>2,A=new Uint32Array(_.buffer,h,v);if(i.FeatureTest.isLittleEndian){for(;p<v-2;p+=3,f+=4){const w=A[p],P=A[p+1],Z=A[p+2];d[f]=w|4278190080,d[f+1]=w>>>24|P<<8|4278190080,d[f+2]=P>>>16|Z<<16|4278190080,d[f+3]=Z>>>8|4278190080}for(let w=p*4,P=_.length;w<P;w+=3)d[f++]=_[w]|_[w+1]<<8|_[w+2]<<16|4278190080}else{for(;p<v-2;p+=3,f+=4){const w=A[p],P=A[p+1],Z=A[p+2];d[f]=w|255,d[f+1]=w<<24|P>>>8|255,d[f+2]=P<<16|Z>>>16|255,d[f+3]=Z<<8|255}for(let w=p*4,P=_.length;w<P;w+=3)d[f++]=_[w]<<24|_[w+1]<<16|_[w+2]<<8|255}return{srcPos:h,destPos:f}}function m(_,h){if(i.FeatureTest.isLittleEndian)for(let d=0,f=_.length;d<f;d++)h[d]=_[d]*65793|4278190080;else for(let d=0,f=_.length;d<f;d++)h[d]=_[d]*16843008|255}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const n=Object.create(null);e.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var i=n(1);const s={DATA:1,ERROR:2},o={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function c(_){switch(_ instanceof Error||typeof _=="object"&&_!==null||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_.name){case"AbortException":return new i.AbortException(_.message);case"MissingPDFException":return new i.MissingPDFException(_.message);case"PasswordException":return new i.PasswordException(_.message,_.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(_.message,_.status);case"UnknownErrorException":return new i.UnknownErrorException(_.message,_.details);default:return new i.UnknownErrorException(_.message,_.toString())}}class m{constructor(h,d,f){this.sourceName=h,this.targetName=d,this.comObj=f,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=b=>{const y=b.data;if(y.targetName!==this.sourceName)return;if(y.stream){this.#t(y);return}if(y.callback){const v=y.callbackId,A=this.callbackCapabilities[v];if(!A)throw new Error(`Cannot resolve callback ${v}`);if(delete this.callbackCapabilities[v],y.callback===s.DATA)A.resolve(y.data);else if(y.callback===s.ERROR)A.reject(c(y.reason));else throw new Error("Unexpected callback case");return}const p=this.actionHandler[y.action];if(!p)throw new Error(`Unknown action from worker: ${y.action}`);if(y.callbackId){const v=this.sourceName,A=y.sourceName;new Promise(function(w){w(p(y.data))}).then(function(w){f.postMessage({sourceName:v,targetName:A,callback:s.DATA,callbackId:y.callbackId,data:w})},function(w){f.postMessage({sourceName:v,targetName:A,callback:s.ERROR,callbackId:y.callbackId,reason:c(w)})});return}if(y.streamId){this.#e(y);return}p(y.data)},f.addEventListener("message",this._onComObjOnMessage)}on(h,d){const f=this.actionHandler;if(f[h])throw new Error(`There is already an actionName called "${h}"`);f[h]=d}send(h,d,f){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,data:d},f)}sendWithPromise(h,d,f){const b=this.callbackId++,y=new i.PromiseCapability;this.callbackCapabilities[b]=y;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,callbackId:b,data:d},f)}catch(p){y.reject(p)}return y.promise}sendWithStream(h,d,f,b){const y=this.streamId++,p=this.sourceName,v=this.targetName,A=this.comObj;return new ReadableStream({start:w=>{const P=new i.PromiseCapability;return this.streamControllers[y]={controller:w,startCall:P,pullCall:null,cancelCall:null,isClosed:!1},A.postMessage({sourceName:p,targetName:v,action:h,streamId:y,data:d,desiredSize:w.desiredSize},b),P.promise},pull:w=>{const P=new i.PromiseCapability;return this.streamControllers[y].pullCall=P,A.postMessage({sourceName:p,targetName:v,stream:o.PULL,streamId:y,desiredSize:w.desiredSize}),P.promise},cancel:w=>{(0,i.assert)(w instanceof Error,"cancel must have a valid reason");const P=new i.PromiseCapability;return this.streamControllers[y].cancelCall=P,this.streamControllers[y].isClosed=!0,A.postMessage({sourceName:p,targetName:v,stream:o.CANCEL,streamId:y,reason:c(w)}),P.promise}},f)}#e(h){const d=h.streamId,f=this.sourceName,b=h.sourceName,y=this.comObj,p=this,v=this.actionHandler[h.action],A={enqueue(w,P=1,Z){if(this.isCancelled)return;const Q=this.desiredSize;this.desiredSize-=P,Q>0&&this.desiredSize<=0&&(this.sinkCapability=new i.PromiseCapability,this.ready=this.sinkCapability.promise),y.postMessage({sourceName:f,targetName:b,stream:o.ENQUEUE,streamId:d,chunk:w},Z)},close(){this.isCancelled||(this.isCancelled=!0,y.postMessage({sourceName:f,targetName:b,stream:o.CLOSE,streamId:d}),delete p.streamSinks[d])},error(w){(0,i.assert)(w instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,y.postMessage({sourceName:f,targetName:b,stream:o.ERROR,streamId:d,reason:c(w)}))},sinkCapability:new i.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:h.desiredSize,ready:null};A.sinkCapability.resolve(),A.ready=A.sinkCapability.promise,this.streamSinks[d]=A,new Promise(function(w){w(v(h.data,A))}).then(function(){y.postMessage({sourceName:f,targetName:b,stream:o.START_COMPLETE,streamId:d,success:!0})},function(w){y.postMessage({sourceName:f,targetName:b,stream:o.START_COMPLETE,streamId:d,reason:c(w)})})}#t(h){const d=h.streamId,f=this.sourceName,b=h.sourceName,y=this.comObj,p=this.streamControllers[d],v=this.streamSinks[d];switch(h.stream){case o.START_COMPLETE:h.success?p.startCall.resolve():p.startCall.reject(c(h.reason));break;case o.PULL_COMPLETE:h.success?p.pullCall.resolve():p.pullCall.reject(c(h.reason));break;case o.PULL:if(!v){y.postMessage({sourceName:f,targetName:b,stream:o.PULL_COMPLETE,streamId:d,success:!0});break}v.desiredSize<=0&&h.desiredSize>0&&v.sinkCapability.resolve(),v.desiredSize=h.desiredSize,new Promise(function(A){A(v.onPull?.())}).then(function(){y.postMessage({sourceName:f,targetName:b,stream:o.PULL_COMPLETE,streamId:d,success:!0})},function(A){y.postMessage({sourceName:f,targetName:b,stream:o.PULL_COMPLETE,streamId:d,reason:c(A)})});break;case o.ENQUEUE:if((0,i.assert)(p,"enqueue should have stream controller"),p.isClosed)break;p.controller.enqueue(h.chunk);break;case o.CLOSE:if((0,i.assert)(p,"close should have stream controller"),p.isClosed)break;p.isClosed=!0,p.controller.close(),this.#n(p,d);break;case o.ERROR:(0,i.assert)(p,"error should have stream controller"),p.controller.error(c(h.reason)),this.#n(p,d);break;case o.CANCEL_COMPLETE:h.success?p.cancelCall.resolve():p.cancelCall.reject(c(h.reason)),this.#n(p,d);break;case o.CANCEL:if(!v)break;new Promise(function(A){A(v.onCancel?.(c(h.reason)))}).then(function(){y.postMessage({sourceName:f,targetName:b,stream:o.CANCEL_COMPLETE,streamId:d,success:!0})},function(A){y.postMessage({sourceName:f,targetName:b,stream:o.CANCEL_COMPLETE,streamId:d,reason:c(A)})}),v.sinkCapability.reject(c(h.reason)),v.isCancelled=!0,delete this.streamSinks[d];break;default:throw new Error("Unexpected stream case")}}async#n(h,d){await Promise.allSettled([h.startCall?.promise,h.pullCall?.promise,h.cancelCall?.promise]),delete this.streamControllers[d]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=m},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var i=n(1);class s{#e;#t;constructor({parsedData:c,rawData:m}){this.#e=c,this.#t=m}getRaw(){return this.#t}get(c){return this.#e.get(c)??null}getAll(){return(0,i.objectFromMap)(this.#e)}has(c){return this.#e.has(c)}}e.Metadata=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var i=n(1),s=n(8);const o=Symbol("INTERNAL");class c{#e=!0;constructor(h,d){this.name=h,this.intent=d}get visible(){return this.#e}_setVisible(h,d){h!==o&&(0,i.unreachable)("Internal method `_setVisible` called."),this.#e=d}}class m{#e=null;#t=new Map;#n=null;#r=null;constructor(h){if(this.name=null,this.creator=null,h!==null){this.name=h.name,this.creator=h.creator,this.#r=h.order;for(const d of h.groups)this.#t.set(d.id,new c(d.name,d.intent));if(h.baseState==="OFF")for(const d of this.#t.values())d._setVisible(o,!1);for(const d of h.on)this.#t.get(d)._setVisible(o,!0);for(const d of h.off)this.#t.get(d)._setVisible(o,!1);this.#n=this.getHash()}}#o(h){const d=h.length;if(d<2)return!0;const f=h[0];for(let b=1;b<d;b++){const y=h[b];let p;if(Array.isArray(y))p=this.#o(y);else if(this.#t.has(y))p=this.#t.get(y).visible;else return(0,i.warn)(`Optional content group not found: ${y}`),!0;switch(f){case"And":if(!p)return!1;break;case"Or":if(p)return!0;break;case"Not":return!p;default:return!0}}return f==="And"}isVisible(h){if(this.#t.size===0)return!0;if(!h)return(0,i.warn)("Optional content group not defined."),!0;if(h.type==="OCG")return this.#t.has(h.id)?this.#t.get(h.id).visible:((0,i.warn)(`Optional content group not found: ${h.id}`),!0);if(h.type==="OCMD"){if(h.expression)return this.#o(h.expression);if(!h.policy||h.policy==="AnyOn"){for(const d of h.ids){if(!this.#t.has(d))return(0,i.warn)(`Optional content group not found: ${d}`),!0;if(this.#t.get(d).visible)return!0}return!1}else if(h.policy==="AllOn"){for(const d of h.ids){if(!this.#t.has(d))return(0,i.warn)(`Optional content group not found: ${d}`),!0;if(!this.#t.get(d).visible)return!1}return!0}else if(h.policy==="AnyOff"){for(const d of h.ids){if(!this.#t.has(d))return(0,i.warn)(`Optional content group not found: ${d}`),!0;if(!this.#t.get(d).visible)return!0}return!1}else if(h.policy==="AllOff"){for(const d of h.ids){if(!this.#t.has(d))return(0,i.warn)(`Optional content group not found: ${d}`),!0;if(this.#t.get(d).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${h.policy}.`),!0}return(0,i.warn)(`Unknown group type ${h.type}.`),!0}setVisibility(h,d=!0){if(!this.#t.has(h)){(0,i.warn)(`Optional content group not found: ${h}`);return}this.#t.get(h)._setVisible(o,!!d),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,i.objectFromMap)(this.#t):null}getGroup(h){return this.#t.get(h)||null}getHash(){if(this.#e!==null)return this.#e;const h=new s.MurmurHash3_64;for(const[d,f]of this.#t)h.update(`${d}:${f.visible}`);return this.#e=h.hexdigest()}}e.OptionalContentConfig=m},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var i=n(1),s=n(6);class o{constructor({length:h,initialData:d,progressiveDone:f=!1,contentDispositionFilename:b=null,disableRange:y=!1,disableStream:p=!1},v){if((0,i.assert)(v,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=f,this._contentDispositionFilename=b,d?.length>0){const A=d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength?d.buffer:new Uint8Array(d).buffer;this._queuedChunks.push(A)}this._pdfDataRangeTransport=v,this._isStreamingSupported=!p,this._isRangeSupported=!y,this._contentLength=h,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((A,w)=>{this._onReceiveData({begin:A,chunk:w})}),this._pdfDataRangeTransport.addProgressListener((A,w)=>{this._onProgress({loaded:A,total:w})}),this._pdfDataRangeTransport.addProgressiveReadListener(A=>{this._onReceiveData({chunk:A})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:h,chunk:d}){const f=d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength?d.buffer:new Uint8Array(d).buffer;if(h===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(f):this._queuedChunks.push(f);else{const b=this._rangeReaders.some(function(y){return y._begin!==h?!1:(y._enqueue(f),!0)});(0,i.assert)(b,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(h){h.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:h.loaded}):this._fullRequestReader?.onProgress?.({loaded:h.loaded,total:h.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(h){const d=this._rangeReaders.indexOf(h);d>=0&&this._rangeReaders.splice(d,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const h=this._queuedChunks;return this._queuedChunks=null,new c(this,h,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(h,d){if(d<=this._progressiveDataLength)return null;const f=new m(this,h,d);return this._pdfDataRangeTransport.requestDataRange(h,d),this._rangeReaders.push(f),f}cancelAllRequests(h){this._fullRequestReader?.cancel(h);for(const d of this._rangeReaders.slice(0))d.cancel(h);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=o;class c{constructor(h,d,f=!1,b=null){this._stream=h,this._done=f||!1,this._filename=(0,s.isPdfFile)(b)?b:null,this._queuedChunks=d||[],this._loaded=0;for(const y of this._queuedChunks)this._loaded+=y.byteLength;this._requests=[],this._headersReady=Promise.resolve(),h._fullRequestReader=this,this.onProgress=null}_enqueue(h){this._done||(this._requests.length>0?this._requests.shift().resolve({value:h,done:!1}):this._queuedChunks.push(h),this._loaded+=h.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const h=new i.PromiseCapability;return this._requests.push(h),h.promise}cancel(h){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class m{constructor(h,d,f){this._stream=h,this._begin=d,this._end=f,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(h){if(!this._done){if(this._requests.length===0)this._queuedChunk=h;else{this._requests.shift().resolve({value:h,done:!1});for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const d=this._queuedChunk;return this._queuedChunk=null,{value:d,done:!1}}if(this._done)return{value:void 0,done:!0};const h=new i.PromiseCapability;return this._requests.push(h),h.promise}cancel(h){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var i=n(1),s=n(20);function o(f,b,y){return{method:"GET",headers:f,signal:y.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}function c(f){const b=new Headers;for(const y in f){const p=f[y];p!==void 0&&b.append(y,p)}return b}function m(f){return f instanceof Uint8Array?f.buffer:f instanceof ArrayBuffer?f:((0,i.warn)(`getArrayBuffer - unexpected data format: ${f}`),new Uint8Array(f).buffer)}class _{constructor(b){this.source=b,this.isHttp=/^https?:/i.test(b.url),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new h(this),this._fullRequestReader}getRangeReader(b,y){if(y<=this._progressiveDataLength)return null;const p=new d(this,b,y);return this._rangeRequestReaders.push(p),p}cancelAllRequests(b){this._fullRequestReader?.cancel(b);for(const y of this._rangeRequestReaders.slice(0))y.cancel(b)}}e.PDFFetchStream=_;class h{constructor(b){this._stream=b,this._reader=null,this._loaded=0,this._filename=null;const y=b.source;this._withCredentials=y.withCredentials||!1,this._contentLength=y.length,this._headersCapability=new i.PromiseCapability,this._disableRange=y.disableRange||!1,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!y.disableStream,this._isRangeSupported=!y.disableRange,this._headers=c(this._stream.httpHeaders);const p=y.url;fetch(p,o(this._headers,this._withCredentials,this._abortController)).then(v=>{if(!(0,s.validateResponseStatus)(v.status))throw(0,s.createResponseStatusError)(v.status,p);this._reader=v.body.getReader(),this._headersCapability.resolve();const A=Z=>v.headers.get(Z),{allowRangeRequests:w,suggestedLength:P}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=w,this._contentLength=P||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(A),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:b,done:y}=await this._reader.read();return y?{value:b,done:y}:(this._loaded+=b.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:m(b),done:!1})}cancel(b){this._reader?.cancel(b),this._abortController.abort()}}class d{constructor(b,y,p){this._stream=b,this._reader=null,this._loaded=0;const v=b.source;this._withCredentials=v.withCredentials||!1,this._readCapability=new i.PromiseCapability,this._isStreamingSupported=!v.disableStream,this._abortController=new AbortController,this._headers=c(this._stream.httpHeaders),this._headers.append("Range",`bytes=${y}-${p-1}`);const A=v.url;fetch(A,o(this._headers,this._withCredentials,this._abortController)).then(w=>{if(!(0,s.validateResponseStatus)(w.status))throw(0,s.createResponseStatusError)(w.status,A);this._readCapability.resolve(),this._reader=w.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:b,done:y}=await this._reader.read();return y?{value:b,done:y}:(this._loaded+=b.byteLength,this.onProgress?.({loaded:this._loaded}),{value:m(b),done:!1})}cancel(b){this._reader?.cancel(b),this._abortController.abort()}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=_,e.extractFilenameFromHeader=m,e.validateRangeRequestCapabilities=c,e.validateResponseStatus=h;var i=n(1),s=n(21),o=n(6);function c({getResponseHeader:d,isHttp:f,rangeChunkSize:b,disableRange:y}){const p={allowRangeRequests:!1,suggestedLength:void 0},v=parseInt(d("Content-Length"),10);return!Number.isInteger(v)||(p.suggestedLength=v,v<=2*b)||y||!f||d("Accept-Ranges")!=="bytes"||(d("Content-Encoding")||"identity")!=="identity"||(p.allowRangeRequests=!0),p}function m(d){const f=d("Content-Disposition");if(f){let b=(0,s.getFilenameFromContentDispositionHeader)(f);if(b.includes("%"))try{b=decodeURIComponent(b)}catch{}if((0,o.isPdfFile)(b))return b}return null}function _(d,f){return d===404||d===0&&f.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+f+'".'):new i.UnexpectedResponseException(`Unexpected server response (${d}) while retrieving PDF "${f}".`,d)}function h(d){return d===200||d===206}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=s;var i=n(1);function s(o){let c=!0,m=_("filename\\*","i").exec(o);if(m){m=m[1];let v=b(m);return v=unescape(v),v=y(v),v=p(v),d(v)}if(m=f(o),m){const v=p(m);return d(v)}if(m=_("filename","i").exec(o),m){m=m[1];let v=b(m);return v=p(v),d(v)}function _(v,A){return new RegExp("(?:^|;)\\s*"+v+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',A)}function h(v,A){if(v){if(!/^[\x00-\xFF]+$/.test(A))return A;try{const w=new TextDecoder(v,{fatal:!0}),P=(0,i.stringToBytes)(A);A=w.decode(P),c=!1}catch{}}return A}function d(v){return c&&/[\x80-\xff]/.test(v)&&(v=h("utf-8",v),c&&(v=h("iso-8859-1",v))),v}function f(v){const A=[];let w;const P=_("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(w=P.exec(v))!==null;){let[,Q,z,K]=w;if(Q=parseInt(Q,10),Q in A){if(Q===0)break;continue}A[Q]=[z,K]}const Z=[];for(let Q=0;Q<A.length&&Q in A;++Q){let[z,K]=A[Q];K=b(K),z&&(K=unescape(K),Q===0&&(K=y(K))),Z.push(K)}return Z.join("")}function b(v){if(v.startsWith('"')){const A=v.slice(1).split('\\"');for(let w=0;w<A.length;++w){const P=A[w].indexOf('"');P!==-1&&(A[w]=A[w].slice(0,P),A.length=w+1),A[w]=A[w].replaceAll(/\\(.)/g,"$1")}v=A.join('"')}return v}function y(v){const A=v.indexOf("'");if(A===-1)return v;const w=v.slice(0,A),Z=v.slice(A+1).replace(/^[^']*'/,"");return h(w,Z)}function p(v){return!v.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(v)?v:v.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(A,w,P,Z){if(P==="q"||P==="Q")return Z=Z.replaceAll("_"," "),Z=Z.replaceAll(/=([0-9a-fA-F]{2})/g,function(Q,z){return String.fromCharCode(parseInt(z,16))}),h(w,Z);try{Z=atob(Z)}catch{}return h(w,Z)})}return""}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var i=n(1),s=n(20);const o=200,c=206;function m(b){const y=b.response;return typeof y!="string"?y:(0,i.stringToBytes)(y).buffer}class _{constructor(y,p={}){this.url=y,this.isHttp=/^https?:/i.test(y),this.httpHeaders=this.isHttp&&p.httpHeaders||Object.create(null),this.withCredentials=p.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(y,p,v){const A={begin:y,end:p};for(const w in v)A[w]=v[w];return this.request(A)}requestFull(y){return this.request(y)}request(y){const p=new XMLHttpRequest,v=this.currXhrId++,A=this.pendingRequests[v]={xhr:p};p.open("GET",this.url),p.withCredentials=this.withCredentials;for(const w in this.httpHeaders){const P=this.httpHeaders[w];P!==void 0&&p.setRequestHeader(w,P)}return this.isHttp&&"begin"in y&&"end"in y?(p.setRequestHeader("Range",`bytes=${y.begin}-${y.end-1}`),A.expectedStatus=c):A.expectedStatus=o,p.responseType="arraybuffer",y.onError&&(p.onerror=function(w){y.onError(p.status)}),p.onreadystatechange=this.onStateChange.bind(this,v),p.onprogress=this.onProgress.bind(this,v),A.onHeadersReceived=y.onHeadersReceived,A.onDone=y.onDone,A.onError=y.onError,A.onProgress=y.onProgress,p.send(null),v}onProgress(y,p){const v=this.pendingRequests[y];v&&v.onProgress?.(p)}onStateChange(y,p){const v=this.pendingRequests[y];if(!v)return;const A=v.xhr;if(A.readyState>=2&&v.onHeadersReceived&&(v.onHeadersReceived(),delete v.onHeadersReceived),A.readyState!==4||!(y in this.pendingRequests))return;if(delete this.pendingRequests[y],A.status===0&&this.isHttp){v.onError?.(A.status);return}const w=A.status||o;if(!(w===o&&v.expectedStatus===c)&&w!==v.expectedStatus){v.onError?.(A.status);return}const Z=m(A);if(w===c){const Q=A.getResponseHeader("Content-Range"),z=/bytes (\d+)-(\d+)\/(\d+)/.exec(Q);v.onDone({begin:parseInt(z[1],10),chunk:Z})}else Z?v.onDone({begin:0,chunk:Z}):v.onError?.(A.status)}getRequestXhr(y){return this.pendingRequests[y].xhr}isPendingRequest(y){return y in this.pendingRequests}abortRequest(y){const p=this.pendingRequests[y].xhr;delete this.pendingRequests[y],p.abort()}}class h{constructor(y){this._source=y,this._manager=new _(y.url,{httpHeaders:y.httpHeaders,withCredentials:y.withCredentials}),this._rangeChunkSize=y.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(y){const p=this._rangeRequestReaders.indexOf(y);p>=0&&this._rangeRequestReaders.splice(p,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new d(this._manager,this._source),this._fullRequestReader}getRangeReader(y,p){const v=new f(this._manager,y,p);return v.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(v),v}cancelAllRequests(y){this._fullRequestReader?.cancel(y);for(const p of this._rangeRequestReaders.slice(0))p.cancel(y)}}e.PDFNetworkStream=h;class d{constructor(y,p){this._manager=y;const v={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=p.url,this._fullRequestId=y.requestFull(v),this._headersReceivedCapability=new i.PromiseCapability,this._disableRange=p.disableRange||!1,this._contentLength=p.length,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const y=this._fullRequestId,p=this._manager.getRequestXhr(y),v=P=>p.getResponseHeader(P),{allowRangeRequests:A,suggestedLength:w}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});A&&(this._isRangeSupported=!0),this._contentLength=w||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(v),this._isRangeSupported&&this._manager.abortRequest(y),this._headersReceivedCapability.resolve()}_onDone(y){if(y&&(this._requests.length>0?this._requests.shift().resolve({value:y.chunk,done:!1}):this._cachedChunks.push(y.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(y){this._storedError=(0,s.createResponseStatusError)(y,this._url),this._headersReceivedCapability.reject(this._storedError);for(const p of this._requests)p.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(y){this.onProgress?.({loaded:y.loaded,total:y.lengthComputable?y.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const y=new i.PromiseCapability;return this._requests.push(y),y.promise}cancel(y){this._done=!0,this._headersReceivedCapability.reject(y);for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class f{constructor(y,p,v){this._manager=y;const A={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=y.url,this._requestId=y.requestRange(p,v,A),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(y){const p=y.chunk;this._requests.length>0?this._requests.shift().resolve({value:p,done:!1}):this._queuedChunk=p,this._done=!0;for(const v of this._requests)v.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(y){this._storedError=(0,s.createResponseStatusError)(y,this._url);for(const p of this._requests)p.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(y){this.isStreamingSupported||this.onProgress?.({loaded:y.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const p=this._queuedChunk;return this._queuedChunk=null,{value:p,done:!1}}if(this._done)return{value:void 0,done:!0};const y=new i.PromiseCapability;return this._requests.push(y),y.promise}cancel(y){this._done=!0;for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var i=n(1),s=n(20);const o=/^file:\/\/\/[a-zA-Z]:\//;function c(v){const A=require$$5,w=A.parse(v);return w.protocol==="file:"||w.host?w:/^[a-z]:[/\\]/i.test(v)?A.parse(`file:///${v}`):(w.host||(w.protocol="file:"),w)}class m{constructor(A){this.source=A,this.url=c(A.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&A.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new y(this):new f(this),this._fullRequestReader}getRangeReader(A,w){if(w<=this._progressiveDataLength)return null;const P=this.isFsUrl?new p(this,A,w):new b(this,A,w);return this._rangeRequestReaders.push(P),P}cancelAllRequests(A){this._fullRequestReader?.cancel(A);for(const w of this._rangeRequestReaders.slice(0))w.cancel(A)}}e.PDFNodeStream=m;class _{constructor(A){this._url=A.url,this._done=!1,this._storedError=null,this.onProgress=null;const w=A.source;this._contentLength=w.length,this._loaded=0,this._filename=null,this._disableRange=w.disableRange||!1,this._rangeChunkSize=w.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!w.disableStream,this._isRangeSupported=!w.disableRange,this._readableStream=null,this._readCapability=new i.PromiseCapability,this._headersCapability=new i.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const A=this._readableStream.read();return A===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=A.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(A).buffer,done:!1})}cancel(A){if(!this._readableStream){this._error(A);return}this._readableStream.destroy(A)}_error(A){this._storedError=A,this._readCapability.resolve()}_setReadableStream(A){this._readableStream=A,A.on("readable",()=>{this._readCapability.resolve()}),A.on("end",()=>{A.destroy(),this._done=!0,this._readCapability.resolve()}),A.on("error",w=>{this._error(w)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class h{constructor(A){this._url=A.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new i.PromiseCapability;const w=A.source;this._isStreamingSupported=!w.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const A=this._readableStream.read();return A===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=A.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(A).buffer,done:!1})}cancel(A){if(!this._readableStream){this._error(A);return}this._readableStream.destroy(A)}_error(A){this._storedError=A,this._readCapability.resolve()}_setReadableStream(A){this._readableStream=A,A.on("readable",()=>{this._readCapability.resolve()}),A.on("end",()=>{A.destroy(),this._done=!0,this._readCapability.resolve()}),A.on("error",w=>{this._error(w)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function d(v,A){return{protocol:v.protocol,auth:v.auth,host:v.hostname,port:v.port,path:v.path,method:"GET",headers:A}}class f extends _{constructor(A){super(A);const w=P=>{if(P.statusCode===404){const K=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=K,this._headersCapability.reject(K);return}this._headersCapability.resolve(),this._setReadableStream(P);const Z=K=>this._readableStream.headers[K.toLowerCase()],{allowRangeRequests:Q,suggestedLength:z}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:Z,isHttp:A.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Q,this._contentLength=z||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(Z)};if(this._request=null,this._url.protocol==="http:"){const P=require$$5;this._request=P.request(d(this._url,A.httpHeaders),w)}else{const P=require$$5;this._request=P.request(d(this._url,A.httpHeaders),w)}this._request.on("error",P=>{this._storedError=P,this._headersCapability.reject(P)}),this._request.end()}}class b extends h{constructor(A,w,P){super(A),this._httpHeaders={};for(const Q in A.httpHeaders){const z=A.httpHeaders[Q];z!==void 0&&(this._httpHeaders[Q]=z)}this._httpHeaders.Range=`bytes=${w}-${P-1}`;const Z=Q=>{if(Q.statusCode===404){const z=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=z;return}this._setReadableStream(Q)};if(this._request=null,this._url.protocol==="http:"){const Q=require$$5;this._request=Q.request(d(this._url,this._httpHeaders),Z)}else{const Q=require$$5;this._request=Q.request(d(this._url,this._httpHeaders),Z)}this._request.on("error",Q=>{this._storedError=Q}),this._request.end()}}class y extends _{constructor(A){super(A);let w=decodeURIComponent(this._url.path);o.test(this._url.href)&&(w=w.replace(/^\//,""));const P=require$$5;P.lstat(w,(Z,Q)=>{if(Z){Z.code==="ENOENT"&&(Z=new i.MissingPDFException(`Missing PDF "${w}".`)),this._storedError=Z,this._headersCapability.reject(Z);return}this._contentLength=Q.size,this._setReadableStream(P.createReadStream(w)),this._headersCapability.resolve()})}}class p extends h{constructor(A,w,P){super(A);let Z=decodeURIComponent(this._url.path);o.test(this._url.href)&&(Z=Z.replace(/^\//,""));const Q=require$$5;this._setReadableStream(Q.createReadStream(Z,{start:w,end:P-1}))}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var i=n(6),s=n(1);const o={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},c="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/1999/xlink",_=["butt","round","square"],h=["miter","round","bevel"],d=function(Q,z="",K=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!K)return URL.createObjectURL(new Blob([Q],{type:z}));const j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let T=`data:${z};base64,`;for(let I=0,Y=Q.length;I<Y;I+=3){const R=Q[I]&255,U=Q[I+1]&255,G=Q[I+2]&255,ue=R>>2,he=(R&3)<<4|U>>4,se=I+1<Y?(U&15)<<2|G>>6:64,ee=I+2<Y?G&63:64;T+=j[ue]+j[he]+j[se]+j[ee]}return T},f=function(){const Q=new Uint8Array([137,80,78,71,13,10,26,10]),z=12,K=new Int32Array(256);for(let G=0;G<256;G++){let ue=G;for(let he=0;he<8;he++)ue=ue&1?3988292384^ue>>1&2147483647:ue>>1&2147483647;K[G]=ue}function j(G,ue,he){let se=-1;for(let ee=ue;ee<he;ee++){const W=(se^G[ee])&255,$=K[W];se=se>>>8^$}return se^-1}function T(G,ue,he,se){let ee=se;const W=ue.length;he[ee]=W>>24&255,he[ee+1]=W>>16&255,he[ee+2]=W>>8&255,he[ee+3]=W&255,ee+=4,he[ee]=G.charCodeAt(0)&255,he[ee+1]=G.charCodeAt(1)&255,he[ee+2]=G.charCodeAt(2)&255,he[ee+3]=G.charCodeAt(3)&255,ee+=4,he.set(ue,ee),ee+=ue.length;const $=j(he,se+4,ee);he[ee]=$>>24&255,he[ee+1]=$>>16&255,he[ee+2]=$>>8&255,he[ee+3]=$&255}function I(G,ue,he){let se=1,ee=0;for(let W=ue;W<he;++W)se=(se+(G[W]&255))%65521,ee=(ee+se)%65521;return ee<<16|se}function Y(G){if(!s.isNodeJS)return R(G);try{const ue=parseInt(process.versions.node)>=8?G:Buffer.from(G),he=require$$5.deflateSync(ue,{level:9});return he instanceof Uint8Array?he:new Uint8Array(he)}catch(ue){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ue)}return R(G)}function R(G){let ue=G.length;const he=65535,se=Math.ceil(ue/he),ee=new Uint8Array(2+ue+se*5+4);let W=0;ee[W++]=120,ee[W++]=156;let $=0;for(;ue>he;)ee[W++]=0,ee[W++]=255,ee[W++]=255,ee[W++]=0,ee[W++]=0,ee.set(G.subarray($,$+he),W),W+=he,$+=he,ue-=he;ee[W++]=1,ee[W++]=ue&255,ee[W++]=ue>>8&255,ee[W++]=~ue&65535&255,ee[W++]=(~ue&65535)>>8&255,ee.set(G.subarray($),W),W+=G.length-$;const S=I(G,0,G.length);return ee[W++]=S>>24&255,ee[W++]=S>>16&255,ee[W++]=S>>8&255,ee[W++]=S&255,ee}function U(G,ue,he,se){const ee=G.width,W=G.height;let $,S,J;const ae=G.data;switch(ue){case s.ImageKind.GRAYSCALE_1BPP:S=0,$=1,J=ee+7>>3;break;case s.ImageKind.RGB_24BPP:S=2,$=8,J=ee*3;break;case s.ImageKind.RGBA_32BPP:S=6,$=8,J=ee*4;break;default:throw new Error("invalid format")}const D=new Uint8Array((1+J)*W);let de=0,ce=0;for(let ye=0;ye<W;++ye)D[de++]=0,D.set(ae.subarray(ce,ce+J),de),ce+=J,de+=J;if(ue===s.ImageKind.GRAYSCALE_1BPP&&se){de=0;for(let ye=0;ye<W;ye++){de++;for(let xe=0;xe<J;xe++)D[de++]^=255}}const H=new Uint8Array([ee>>24&255,ee>>16&255,ee>>8&255,ee&255,W>>24&255,W>>16&255,W>>8&255,W&255,$,S,0,0,0]),ne=Y(D),oe=Q.length+z*3+H.length+ne.length,me=new Uint8Array(oe);let ve=0;return me.set(Q,ve),ve+=Q.length,T("IHDR",H,me,ve),ve+=z+H.length,T("IDATA",ne,me,ve),ve+=z+ne.length,T("IEND",new Uint8Array(0),me,ve),d(me,"image/png",he)}return function(ue,he,se){const ee=ue.kind===void 0?s.ImageKind.GRAYSCALE_1BPP:ue.kind;return U(ue,ee,he,se)}}();class b{constructor(){this.fontSizeScale=1,this.fontWeight=o.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=s.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=o.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(z,K){this.x=z,this.y=K}}function y(Q){let z=[];const K=[];for(const j of Q){if(j.fn==="save"){z.push({fnId:92,fn:"group",items:[]}),K.push(z),z=z.at(-1).items;continue}j.fn==="restore"?z=K.pop():z.push(j)}return z}function p(Q){if(Number.isInteger(Q))return Q.toString();const z=Q.toFixed(10);let K=z.length-1;if(z[K]!=="0")return z;do K--;while(z[K]==="0");return z.substring(0,z[K]==="."?K:K+1)}function v(Q){if(Q[4]===0&&Q[5]===0){if(Q[1]===0&&Q[2]===0)return Q[0]===1&&Q[3]===1?"":`scale(${p(Q[0])} ${p(Q[3])})`;if(Q[0]===Q[3]&&Q[1]===-Q[2]){const z=Math.acos(Q[0])*180/Math.PI;return`rotate(${p(z)})`}}else if(Q[0]===1&&Q[1]===0&&Q[2]===0&&Q[3]===1)return`translate(${p(Q[4])} ${p(Q[5])})`;return`matrix(${p(Q[0])} ${p(Q[1])} ${p(Q[2])} ${p(Q[3])} ${p(Q[4])} ${p(Q[5])})`}let A=0,w=0,P=0;class Z{constructor(z,K,j=!1){(0,i.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new i.DOMSVGFactory,this.current=new b,this.transformMatrix=s.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=z,this.objs=K,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!j,this._operatorIdMapping=[];for(const T in s.OPS)this._operatorIdMapping[s.OPS[T]]=T}getObject(z,K=null){return typeof z=="string"?z.startsWith("g_")?this.commonObjs.get(z):this.objs.get(z):K}save(){this.transformStack.push(this.transformMatrix);const z=this.current;this.extraStack.push(z),this.current=z.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(z){this.save(),this.executeOpTree(z),this.restore()}loadDependencies(z){const K=z.fnArray,j=z.argsArray;for(let T=0,I=K.length;T<I;T++)if(K[T]===s.OPS.dependency)for(const Y of j[T]){const R=Y.startsWith("g_")?this.commonObjs:this.objs,U=new Promise(G=>{R.get(Y,G)});this.current.dependencies.push(U)}return Promise.all(this.current.dependencies)}transform(z,K,j,T,I,Y){const R=[z,K,j,T,I,Y];this.transformMatrix=s.Util.transform(this.transformMatrix,R),this.tgrp=null}getSVG(z,K){this.viewport=K;const j=this._initialize(K);return this.loadDependencies(z).then(()=>(this.transformMatrix=s.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(z)),j))}convertOpList(z){const K=this._operatorIdMapping,j=z.argsArray,T=z.fnArray,I=[];for(let Y=0,R=T.length;Y<R;Y++){const U=T[Y];I.push({fnId:U,fn:K[U],args:j[Y]})}return y(I)}executeOpTree(z){for(const K of z){const j=K.fn,T=K.fnId,I=K.args;switch(T|0){case s.OPS.beginText:this.beginText();break;case s.OPS.dependency:break;case s.OPS.setLeading:this.setLeading(I);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(I[0],I[1]);break;case s.OPS.setFont:this.setFont(I);break;case s.OPS.showText:this.showText(I[0]);break;case s.OPS.showSpacedText:this.showText(I[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(I[0],I[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(I[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(I[0]);break;case s.OPS.setHScale:this.setHScale(I[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(I[0],I[1],I[2],I[3],I[4],I[5]);break;case s.OPS.setTextRise:this.setTextRise(I[0]);break;case s.OPS.setTextRenderingMode:this.setTextRenderingMode(I[0]);break;case s.OPS.setLineWidth:this.setLineWidth(I[0]);break;case s.OPS.setLineJoin:this.setLineJoin(I[0]);break;case s.OPS.setLineCap:this.setLineCap(I[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(I[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(I[0],I[1],I[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(I[0],I[1],I[2]);break;case s.OPS.setStrokeColorN:this.setStrokeColorN(I);break;case s.OPS.setFillColorN:this.setFillColorN(I);break;case s.OPS.shadingFill:this.shadingFill(I[0]);break;case s.OPS.setDash:this.setDash(I[0],I[1]);break;case s.OPS.setRenderingIntent:this.setRenderingIntent(I[0]);break;case s.OPS.setFlatness:this.setFlatness(I[0]);break;case s.OPS.setGState:this.setGState(I[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintImageXObject:this.paintImageXObject(I[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(I[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(I[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(I[0],I[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(I[0],I[1],I[2],I[3],I[4],I[5]);break;case s.OPS.constructPath:this.constructPath(I[0],I[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(K.items);break;default:(0,s.warn)(`Unimplemented operator ${j}`);break}}}setWordSpacing(z){this.current.wordSpacing=z}setCharSpacing(z){this.current.charSpacing=z}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(z,K,j,T,I,Y){const R=this.current;R.textMatrix=R.lineMatrix=[z,K,j,T,I,Y],R.textMatrixScale=Math.hypot(z,K),R.x=R.lineX=0,R.y=R.lineY=0,R.xcoords=[],R.ycoords=[],R.tspan=this.svgFactory.createElement("svg:tspan"),R.tspan.setAttributeNS(null,"font-family",R.fontFamily),R.tspan.setAttributeNS(null,"font-size",`${p(R.fontSize)}px`),R.tspan.setAttributeNS(null,"y",p(-R.y)),R.txtElement=this.svgFactory.createElement("svg:text"),R.txtElement.append(R.tspan)}beginText(){const z=this.current;z.x=z.lineX=0,z.y=z.lineY=0,z.textMatrix=s.IDENTITY_MATRIX,z.lineMatrix=s.IDENTITY_MATRIX,z.textMatrixScale=1,z.tspan=this.svgFactory.createElement("svg:tspan"),z.txtElement=this.svgFactory.createElement("svg:text"),z.txtgrp=this.svgFactory.createElement("svg:g"),z.xcoords=[],z.ycoords=[]}moveText(z,K){const j=this.current;j.x=j.lineX+=z,j.y=j.lineY+=K,j.xcoords=[],j.ycoords=[],j.tspan=this.svgFactory.createElement("svg:tspan"),j.tspan.setAttributeNS(null,"font-family",j.fontFamily),j.tspan.setAttributeNS(null,"font-size",`${p(j.fontSize)}px`),j.tspan.setAttributeNS(null,"y",p(-j.y))}showText(z){const K=this.current,j=K.font,T=K.fontSize;if(T===0)return;const I=K.fontSizeScale,Y=K.charSpacing,R=K.wordSpacing,U=K.fontDirection,G=K.textHScale*U,ue=j.vertical,he=ue?1:-1,se=j.defaultVMetrics,ee=T*K.fontMatrix[0];let W=0;for(const J of z){if(J===null){W+=U*R;continue}else if(typeof J=="number"){W+=he*J*T/1e3;continue}const ae=(J.isSpace?R:0)+Y,D=J.fontChar;let de,ce,H=J.width;if(ue){let oe;const me=J.vmetric||se;oe=J.vmetric?me[1]:H*.5,oe=-oe*ee;const ve=me[2]*ee;H=me?-me[0]:H,de=oe/I,ce=(W+ve)/I}else de=W/I,ce=0;(J.isInFont||j.missingFile)&&(K.xcoords.push(K.x+de),ue&&K.ycoords.push(-K.y+ce),K.tspan.textContent+=D);const ne=ue?H*ee-ae*U:H*ee+ae*U;W+=ne}K.tspan.setAttributeNS(null,"x",K.xcoords.map(p).join(" ")),ue?K.tspan.setAttributeNS(null,"y",K.ycoords.map(p).join(" ")):K.tspan.setAttributeNS(null,"y",p(-K.y)),ue?K.y-=W:K.x+=W*G,K.tspan.setAttributeNS(null,"font-family",K.fontFamily),K.tspan.setAttributeNS(null,"font-size",`${p(K.fontSize)}px`),K.fontStyle!==o.fontStyle&&K.tspan.setAttributeNS(null,"font-style",K.fontStyle),K.fontWeight!==o.fontWeight&&K.tspan.setAttributeNS(null,"font-weight",K.fontWeight);const $=K.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;if($===s.TextRenderingMode.FILL||$===s.TextRenderingMode.FILL_STROKE?(K.fillColor!==o.fillColor&&K.tspan.setAttributeNS(null,"fill",K.fillColor),K.fillAlpha<1&&K.tspan.setAttributeNS(null,"fill-opacity",K.fillAlpha)):K.textRenderingMode===s.TextRenderingMode.ADD_TO_PATH?K.tspan.setAttributeNS(null,"fill","transparent"):K.tspan.setAttributeNS(null,"fill","none"),$===s.TextRenderingMode.STROKE||$===s.TextRenderingMode.FILL_STROKE){const J=1/(K.textMatrixScale||1);this._setStrokeAttributes(K.tspan,J)}let S=K.textMatrix;K.textRise!==0&&(S=S.slice(),S[5]+=K.textRise),K.txtElement.setAttributeNS(null,"transform",`${v(S)} scale(${p(G)}, -1)`),K.txtElement.setAttributeNS(c,"xml:space","preserve"),K.txtElement.append(K.tspan),K.txtgrp.append(K.txtElement),this._ensureTransformGroup().append(K.txtElement)}setLeadingMoveText(z,K){this.setLeading(-K),this.moveText(z,K)}addFontStyle(z){if(!z.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const K=d(z.data,z.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${z.loadedName}"; src: url(${K}); }
`}setFont(z){const K=this.current,j=this.commonObjs.get(z[0]);let T=z[1];K.font=j,this.embedFonts&&!j.missingFile&&!this.embeddedFonts[j.loadedName]&&(this.addFontStyle(j),this.embeddedFonts[j.loadedName]=j),K.fontMatrix=j.fontMatrix||s.FONT_IDENTITY_MATRIX;let I="normal";j.black?I="900":j.bold&&(I="bold");const Y=j.italic?"italic":"normal";T<0?(T=-T,K.fontDirection=-1):K.fontDirection=1,K.fontSize=T,K.fontFamily=j.loadedName,K.fontWeight=I,K.fontStyle=Y,K.tspan=this.svgFactory.createElement("svg:tspan"),K.tspan.setAttributeNS(null,"y",p(-K.y)),K.xcoords=[],K.ycoords=[]}endText(){const z=this.current;z.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG&&z.txtElement?.hasChildNodes()&&(z.element=z.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(z){z>0&&(this.current.lineWidth=z)}setLineCap(z){this.current.lineCap=_[z]}setLineJoin(z){this.current.lineJoin=h[z]}setMiterLimit(z){this.current.miterLimit=z}setStrokeAlpha(z){this.current.strokeAlpha=z}setStrokeRGBColor(z,K,j){this.current.strokeColor=s.Util.makeHexColor(z,K,j)}setFillAlpha(z){this.current.fillAlpha=z}setFillRGBColor(z,K,j){this.current.fillColor=s.Util.makeHexColor(z,K,j),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(z){this.current.strokeColor=this._makeColorN_Pattern(z)}setFillColorN(z){this.current.fillColor=this._makeColorN_Pattern(z)}shadingFill(z){const{width:K,height:j}=this.viewport,T=s.Util.inverseTransform(this.transformMatrix),[I,Y,R,U]=s.Util.getAxialAlignedBoundingBox([0,0,K,j],T),G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x",I),G.setAttributeNS(null,"y",Y),G.setAttributeNS(null,"width",R-I),G.setAttributeNS(null,"height",U-Y),G.setAttributeNS(null,"fill",this._makeShadingPattern(z)),this.current.fillAlpha<1&&G.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(G)}_makeColorN_Pattern(z){return z[0]==="TilingPattern"?this._makeTilingPattern(z):this._makeShadingPattern(z)}_makeTilingPattern(z){const K=z[1],j=z[2],T=z[3]||s.IDENTITY_MATRIX,[I,Y,R,U]=z[4],G=z[5],ue=z[6],he=z[7],se=`shading${P++}`,[ee,W,$,S]=s.Util.normalizeRect([...s.Util.applyTransform([I,Y],T),...s.Util.applyTransform([R,U],T)]),[J,ae]=s.Util.singularValueDecompose2dScale(T),D=G*J,de=ue*ae,ce=this.svgFactory.createElement("svg:pattern");ce.setAttributeNS(null,"id",se),ce.setAttributeNS(null,"patternUnits","userSpaceOnUse"),ce.setAttributeNS(null,"width",D),ce.setAttributeNS(null,"height",de),ce.setAttributeNS(null,"x",`${ee}`),ce.setAttributeNS(null,"y",`${W}`);const H=this.svg,ne=this.transformMatrix,oe=this.current.fillColor,me=this.current.strokeColor,ve=this.svgFactory.create($-ee,S-W);if(this.svg=ve,this.transformMatrix=T,he===2){const ye=s.Util.makeHexColor(...K);this.current.fillColor=ye,this.current.strokeColor=ye}return this.executeOpTree(this.convertOpList(j)),this.svg=H,this.transformMatrix=ne,this.current.fillColor=oe,this.current.strokeColor=me,ce.append(ve.childNodes[0]),this.defs.append(ce),`url(#${se})`}_makeShadingPattern(z){switch(typeof z=="string"&&(z=this.objs.get(z)),z[0]){case"RadialAxial":const K=`shading${P++}`,j=z[3];let T;switch(z[1]){case"axial":const I=z[4],Y=z[5];T=this.svgFactory.createElement("svg:linearGradient"),T.setAttributeNS(null,"id",K),T.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),T.setAttributeNS(null,"x1",I[0]),T.setAttributeNS(null,"y1",I[1]),T.setAttributeNS(null,"x2",Y[0]),T.setAttributeNS(null,"y2",Y[1]);break;case"radial":const R=z[4],U=z[5],G=z[6],ue=z[7];T=this.svgFactory.createElement("svg:radialGradient"),T.setAttributeNS(null,"id",K),T.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),T.setAttributeNS(null,"cx",U[0]),T.setAttributeNS(null,"cy",U[1]),T.setAttributeNS(null,"r",ue),T.setAttributeNS(null,"fx",R[0]),T.setAttributeNS(null,"fy",R[1]),T.setAttributeNS(null,"fr",G);break;default:throw new Error(`Unknown RadialAxial type: ${z[1]}`)}for(const I of j){const Y=this.svgFactory.createElement("svg:stop");Y.setAttributeNS(null,"offset",I[0]),Y.setAttributeNS(null,"stop-color",I[1]),T.append(Y)}return this.defs.append(T),`url(#${K})`;case"Mesh":return(0,s.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${z[0]}`)}}setDash(z,K){this.current.dashArray=z,this.current.dashPhase=K}constructPath(z,K){const j=this.current;let T=j.x,I=j.y,Y=[],R=0;for(const U of z)switch(U|0){case s.OPS.rectangle:T=K[R++],I=K[R++];const G=K[R++],ue=K[R++],he=T+G,se=I+ue;Y.push("M",p(T),p(I),"L",p(he),p(I),"L",p(he),p(se),"L",p(T),p(se),"Z");break;case s.OPS.moveTo:T=K[R++],I=K[R++],Y.push("M",p(T),p(I));break;case s.OPS.lineTo:T=K[R++],I=K[R++],Y.push("L",p(T),p(I));break;case s.OPS.curveTo:T=K[R+4],I=K[R+5],Y.push("C",p(K[R]),p(K[R+1]),p(K[R+2]),p(K[R+3]),p(T),p(I)),R+=6;break;case s.OPS.curveTo2:Y.push("C",p(T),p(I),p(K[R]),p(K[R+1]),p(K[R+2]),p(K[R+3])),T=K[R+2],I=K[R+3],R+=4;break;case s.OPS.curveTo3:T=K[R+2],I=K[R+3],Y.push("C",p(K[R]),p(K[R+1]),p(T),p(I),p(T),p(I)),R+=4;break;case s.OPS.closePath:Y.push("Z");break}Y=Y.join(" "),j.path&&z.length>0&&z[0]!==s.OPS.rectangle&&z[0]!==s.OPS.moveTo?Y=j.path.getAttributeNS(null,"d")+Y:(j.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(j.path)),j.path.setAttributeNS(null,"d",Y),j.path.setAttributeNS(null,"fill","none"),j.element=j.path,j.setCurrentPoint(T,I)}endPath(){const z=this.current;if(z.path=null,!this.pendingClip)return;if(!z.element){this.pendingClip=null;return}const K=`clippath${A++}`,j=this.svgFactory.createElement("svg:clipPath");j.setAttributeNS(null,"id",K),j.setAttributeNS(null,"transform",v(this.transformMatrix));const T=z.element.cloneNode(!0);if(this.pendingClip==="evenodd"?T.setAttributeNS(null,"clip-rule","evenodd"):T.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,j.append(T),this.defs.append(j),z.activeClipUrl){z.clipGroup=null;for(const I of this.extraStack)I.clipGroup=null;j.setAttributeNS(null,"clip-path",z.activeClipUrl)}z.activeClipUrl=`url(#${K})`,this.tgrp=null}clip(z){this.pendingClip=z}closePath(){const z=this.current;if(z.path){const K=`${z.path.getAttributeNS(null,"d")}Z`;z.path.setAttributeNS(null,"d",K)}}setLeading(z){this.current.leading=-z}setTextRise(z){this.current.textRise=z}setTextRenderingMode(z){this.current.textRenderingMode=z}setHScale(z){this.current.textHScale=z/100}setRenderingIntent(z){}setFlatness(z){}setGState(z){for(const[K,j]of z)switch(K){case"LW":this.setLineWidth(j);break;case"LC":this.setLineCap(j);break;case"LJ":this.setLineJoin(j);break;case"ML":this.setMiterLimit(j);break;case"D":this.setDash(j[0],j[1]);break;case"RI":this.setRenderingIntent(j);break;case"FL":this.setFlatness(j);break;case"Font":this.setFont(j);break;case"CA":this.setStrokeAlpha(j);break;case"ca":this.setFillAlpha(j);break;default:(0,s.warn)(`Unimplemented graphic state operator ${K}`);break}}fill(){const z=this.current;z.element&&(z.element.setAttributeNS(null,"fill",z.fillColor),z.element.setAttributeNS(null,"fill-opacity",z.fillAlpha),this.endPath())}stroke(){const z=this.current;z.element&&(this._setStrokeAttributes(z.element),z.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(z,K=1){const j=this.current;let T=j.dashArray;K!==1&&T.length>0&&(T=T.map(function(I){return K*I})),z.setAttributeNS(null,"stroke",j.strokeColor),z.setAttributeNS(null,"stroke-opacity",j.strokeAlpha),z.setAttributeNS(null,"stroke-miterlimit",p(j.miterLimit)),z.setAttributeNS(null,"stroke-linecap",j.lineCap),z.setAttributeNS(null,"stroke-linejoin",j.lineJoin),z.setAttributeNS(null,"stroke-width",p(K*j.lineWidth)+"px"),z.setAttributeNS(null,"stroke-dasharray",T.map(p).join(" ")),z.setAttributeNS(null,"stroke-dashoffset",p(K*j.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const z=this.svgFactory.createElement("svg:rect");z.setAttributeNS(null,"x","0"),z.setAttributeNS(null,"y","0"),z.setAttributeNS(null,"width","1px"),z.setAttributeNS(null,"height","1px"),z.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(z)}paintImageXObject(z){const K=this.getObject(z);if(!K){(0,s.warn)(`Dependent image with object ID ${z} is not ready yet`);return}this.paintInlineImageXObject(K)}paintInlineImageXObject(z,K){const j=z.width,T=z.height,I=f(z,this.forceDataSchema,!!K),Y=this.svgFactory.createElement("svg:rect");Y.setAttributeNS(null,"x","0"),Y.setAttributeNS(null,"y","0"),Y.setAttributeNS(null,"width",p(j)),Y.setAttributeNS(null,"height",p(T)),this.current.element=Y,this.clip("nonzero");const R=this.svgFactory.createElement("svg:image");R.setAttributeNS(m,"xlink:href",I),R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y",p(-T)),R.setAttributeNS(null,"width",p(j)+"px"),R.setAttributeNS(null,"height",p(T)+"px"),R.setAttributeNS(null,"transform",`scale(${p(1/j)} ${p(-1/T)})`),K?K.append(R):this._ensureTransformGroup().append(R)}paintImageMaskXObject(z){const K=this.getObject(z.data,z);if(K.bitmap){(0,s.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const j=this.current,T=K.width,I=K.height,Y=j.fillColor;j.maskId=`mask${w++}`;const R=this.svgFactory.createElement("svg:mask");R.setAttributeNS(null,"id",j.maskId);const U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x","0"),U.setAttributeNS(null,"y","0"),U.setAttributeNS(null,"width",p(T)),U.setAttributeNS(null,"height",p(I)),U.setAttributeNS(null,"fill",Y),U.setAttributeNS(null,"mask",`url(#${j.maskId})`),this.defs.append(R),this._ensureTransformGroup().append(U),this.paintInlineImageXObject(K,R)}paintFormXObjectBegin(z,K){if(Array.isArray(z)&&z.length===6&&this.transform(z[0],z[1],z[2],z[3],z[4],z[5]),K){const j=K[2]-K[0],T=K[3]-K[1],I=this.svgFactory.createElement("svg:rect");I.setAttributeNS(null,"x",K[0]),I.setAttributeNS(null,"y",K[1]),I.setAttributeNS(null,"width",p(j)),I.setAttributeNS(null,"height",p(T)),this.current.element=I,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(z){const K=this.svgFactory.create(z.width,z.height),j=this.svgFactory.createElement("svg:defs");K.append(j),this.defs=j;const T=this.svgFactory.createElement("svg:g");return T.setAttributeNS(null,"transform",v(z.transform)),K.append(T),this.svg=T,K}_ensureClipGroup(){if(!this.current.clipGroup){const z=this.svgFactory.createElement("svg:g");z.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(z),this.current.clipGroup=z}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",v(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=Z},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class n{static textContent(s){const o=[],c={items:o,styles:Object.create(null)};function m(_){if(!_)return;let h=null;const d=_.name;if(d==="#text")h=_.value;else if(n.shouldBuildText(d))_?.attributes?.textContent?h=_.attributes.textContent:_.value&&(h=_.value);else return;if(h!==null&&o.push({str:h}),!!_.children)for(const f of _.children)m(f)}return m(s),c}static shouldBuildText(s){return!(s==="textarea"||s==="input"||s==="option"||s==="select")}}e.XfaText=n},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=v,e.updateTextLayer=A;var i=n(1),s=n(6);const o=1e5,c=30,m=.8,_=new Map;function h(w,P){let Z;if(P&&i.FeatureTest.isOffscreenCanvasSupported)Z=new OffscreenCanvas(w,w).getContext("2d",{alpha:!1});else{const Q=document.createElement("canvas");Q.width=Q.height=w,Z=Q.getContext("2d",{alpha:!1})}return Z}function d(w,P){const Z=_.get(w);if(Z)return Z;const Q=h(c,P);Q.font=`${c}px ${w}`;const z=Q.measureText("");let K=z.fontBoundingBoxAscent,j=Math.abs(z.fontBoundingBoxDescent);if(K){const I=K/(K+j);return _.set(w,I),Q.canvas.width=Q.canvas.height=0,I}Q.strokeStyle="red",Q.clearRect(0,0,c,c),Q.strokeText("g",0,0);let T=Q.getImageData(0,0,c,c).data;j=0;for(let I=T.length-1-3;I>=0;I-=4)if(T[I]>0){j=Math.ceil(I/4/c);break}Q.clearRect(0,0,c,c),Q.strokeText("A",0,c),T=Q.getImageData(0,0,c,c).data,K=0;for(let I=0,Y=T.length;I<Y;I+=4)if(T[I]>0){K=c-Math.floor(I/4/c);break}if(Q.canvas.width=Q.canvas.height=0,K){const I=K/(K+j);return _.set(w,I),I}return _.set(w,m),m}function f(w,P,Z){const Q=document.createElement("span"),z={angle:0,canvasWidth:0,hasText:P.str!=="",hasEOL:P.hasEOL,fontSize:0};w._textDivs.push(Q);const K=i.Util.transform(w._transform,P.transform);let j=Math.atan2(K[1],K[0]);const T=Z[P.fontName];T.vertical&&(j+=Math.PI/2);const I=Math.hypot(K[2],K[3]),Y=I*d(T.fontFamily,w._isOffscreenCanvasSupported);let R,U;j===0?(R=K[4],U=K[5]-Y):(R=K[4]+Y*Math.sin(j),U=K[5]-Y*Math.cos(j));const G="calc(var(--scale-factor)*",ue=Q.style;w._container===w._rootContainer?(ue.left=`${(100*R/w._pageWidth).toFixed(2)}%`,ue.top=`${(100*U/w._pageHeight).toFixed(2)}%`):(ue.left=`${G}${R.toFixed(2)}px)`,ue.top=`${G}${U.toFixed(2)}px)`),ue.fontSize=`${G}${I.toFixed(2)}px)`,ue.fontFamily=T.fontFamily,z.fontSize=I,Q.setAttribute("role","presentation"),Q.textContent=P.str,Q.dir=P.dir,w._fontInspectorEnabled&&(Q.dataset.fontName=P.fontName),j!==0&&(z.angle=j*(180/Math.PI));let he=!1;if(P.str.length>1)he=!0;else if(P.str!==" "&&P.transform[0]!==P.transform[3]){const se=Math.abs(P.transform[0]),ee=Math.abs(P.transform[3]);se!==ee&&Math.max(se,ee)/Math.min(se,ee)>1.5&&(he=!0)}he&&(z.canvasWidth=T.vertical?P.height:P.width),w._textDivProperties.set(Q,z),w._isReadableStream&&w._layoutText(Q)}function b(w){const{div:P,scale:Z,properties:Q,ctx:z,prevFontSize:K,prevFontFamily:j}=w,{style:T}=P;let I="";if(Q.canvasWidth!==0&&Q.hasText){const{fontFamily:Y}=T,{canvasWidth:R,fontSize:U}=Q;(K!==U||j!==Y)&&(z.font=`${U*Z}px ${Y}`,w.prevFontSize=U,w.prevFontFamily=Y);const{width:G}=z.measureText(P.textContent);G>0&&(I=`scaleX(${R*Z/G})`)}Q.angle!==0&&(I=`rotate(${Q.angle}deg) ${I}`),I.length>0&&(T.transform=I)}function y(w){if(w._canceled)return;const P=w._textDivs,Z=w._capability;if(P.length>o){Z.resolve();return}if(!w._isReadableStream)for(const z of P)w._layoutText(z);Z.resolve()}class p{constructor({textContentSource:P,container:Z,viewport:Q,textDivs:z,textDivProperties:K,textContentItemsStr:j,isOffscreenCanvasSupported:T}){this._textContentSource=P,this._isReadableStream=P instanceof ReadableStream,this._container=this._rootContainer=Z,this._textDivs=z||[],this._textContentItemsStr=j||[],this._isOffscreenCanvasSupported=T,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=K||new WeakMap,this._canceled=!1,this._capability=new i.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Q.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:h(0,T)};const{pageWidth:I,pageHeight:Y,pageX:R,pageY:U}=Q.rawDims;this._transform=[1,0,0,-1,-R,U+Y],this._pageWidth=I,this._pageHeight=Y,(0,s.setLayerDimensions)(Z,Q),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new i.AbortException("TextLayer task cancelled."))}_processItems(P,Z){for(const Q of P){if(Q.str===void 0){if(Q.type==="beginMarkedContentProps"||Q.type==="beginMarkedContent"){const z=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Q.id!==null&&this._container.setAttribute("id",`${Q.id}`),z.append(this._container)}else Q.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Q.str),f(this,Q,Z)}}_layoutText(P){const Z=this._layoutTextParams.properties=this._textDivProperties.get(P);if(this._layoutTextParams.div=P,b(this._layoutTextParams),Z.hasText&&this._container.append(P),Z.hasEOL){const Q=document.createElement("br");Q.setAttribute("role","presentation"),this._container.append(Q)}}_render(){const P=new i.PromiseCapability;let Z=Object.create(null);if(this._isReadableStream){const Q=()=>{this._reader.read().then(({value:z,done:K})=>{if(K){P.resolve();return}Object.assign(Z,z.styles),this._processItems(z.items,Z),Q()},P.reject)};this._reader=this._textContentSource.getReader(),Q()}else if(this._textContentSource){const{items:Q,styles:z}=this._textContentSource;this._processItems(Q,z),P.resolve()}else throw new Error('No "textContentSource" parameter specified.');P.promise.then(()=>{Z=null,y(this)},this._capability.reject)}}e.TextLayerRenderTask=p;function v(w){!w.textContentSource&&(w.textContent||w.textContentStream)&&((0,s.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),w.textContentSource=w.textContent||w.textContentStream);const{container:P,viewport:Z}=w,Q=getComputedStyle(P),z=Q.getPropertyValue("visibility"),K=parseFloat(Q.getPropertyValue("--scale-factor"));z==="visible"&&(!K||Math.abs(K-Z.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const j=new p(w);return j._render(),j}function A({container:w,viewport:P,textDivs:Z,textDivProperties:Q,isOffscreenCanvasSupported:z,mustRotate:K=!0,mustRescale:j=!0}){if(K&&(0,s.setLayerDimensions)(w,{rotation:P.rotation}),j){const T=h(0,z),Y={prevFontSize:null,prevFontFamily:null,div:null,scale:P.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:T};for(const R of Z)Y.properties=Q.get(R),Y.div=R,b(Y)}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var i=n(1),s=n(4),o=n(28),c=n(33),m=n(6),_=n(34);class h{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#o=this.pointerdown.bind(this);#s=new Map;#a=!1;#l=!1;#c=!1;#i;static _initialized=!1;constructor({uiManager:f,pageIndex:b,div:y,accessibilityManager:p,annotationLayer:v,viewport:A,l10n:w}){const P=[o.FreeTextEditor,c.InkEditor,_.StampEditor];if(!h._initialized){h._initialized=!0;for(const Z of P)Z.initialize(w)}f.registerEditorTypes(P),this.#i=f,this.pageIndex=b,this.div=y,this.#e=p,this.#n=v,this.viewport=A,this.#i.addLayer(this)}get isEmpty(){return this.#s.size===0}updateToolbar(f){this.#i.updateToolbar(f)}updateMode(f=this.#i.getMode()){this.#p(),f===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),f!==i.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",f===i.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",f===i.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",f===i.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(f){if(!f&&this.#i.getMode()!==i.AnnotationEditorType.INK)return;if(!f){for(const y of this.#s.values())if(y.isEmpty()){y.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(f){this.#i.setEditingState(f)}addCommands(f){this.#i.addCommands(f)}enable(){this.div.style.pointerEvents="auto";const f=new Set;for(const y of this.#s.values())y.enableEditing(),y.annotationElementId&&f.add(y.annotationElementId);if(!this.#n)return;const b=this.#n.getEditableAnnotations();for(const y of b){if(y.hide(),this.#i.isDeletedAnnotationElement(y.data.id)||f.has(y.data.id))continue;const p=this.deserialize(y);p&&(this.addOrRebuild(p),p.enableEditing())}}disable(){this.#c=!0,this.div.style.pointerEvents="none";const f=new Set;for(const b of this.#s.values()){if(b.disableEditing(),!b.annotationElementId||b.serialize()!==null){f.add(b.annotationElementId);continue}this.getEditableAnnotation(b.annotationElementId)?.show(),b.remove()}if(this.#n){const b=this.#n.getEditableAnnotations();for(const y of b){const{id:p}=y.data;f.has(p)||this.#i.isDeletedAnnotationElement(p)||y.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#c=!1}getEditableAnnotation(f){return this.#n?.getEditableAnnotation(f)||null}setActiveEditor(f){this.#i.getActive()!==f&&this.#i.setActiveEditor(f)}enableClick(){this.div.addEventListener("pointerdown",this.#o),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#o),this.div.removeEventListener("pointerup",this.#r)}attach(f){this.#s.set(f.id,f);const{annotationElementId:b}=f;b&&this.#i.isDeletedAnnotationElement(b)&&this.#i.removeDeletedAnnotationElement(f)}detach(f){this.#s.delete(f.id),this.#e?.removePointerInTextLayer(f.contentDiv),!this.#c&&f.annotationElementId&&this.#i.addDeletedAnnotationElement(f)}remove(f){this.detach(f),this.#i.removeEditor(f),f.div.contains(document.activeElement)&&setTimeout(()=>{this.#i.focusMainContainer()},0),f.div.remove(),f.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(f){f.parent!==this&&(f.annotationElementId&&(this.#i.addDeletedAnnotationElement(f.annotationElementId),s.AnnotationEditor.deleteAnnotationElement(f),f.annotationElementId=null),this.attach(f),f.parent?.detach(f),f.setParent(this),f.div&&f.isAttachedToDOM&&(f.div.remove(),this.div.append(f.div)))}add(f){if(this.changeParent(f),this.#i.addEditor(f),this.attach(f),!f.isAttachedToDOM){const b=f.render();this.div.append(b),f.isAttachedToDOM=!0}f.fixAndSetPosition(),f.onceAdded(),this.#i.addToAnnotationStorage(f)}moveEditorInDOM(f){if(!f.isAttachedToDOM)return;const{activeElement:b}=document;f.div.contains(b)&&(f._focusEventsAllowed=!1,setTimeout(()=>{f.div.contains(document.activeElement)?f._focusEventsAllowed=!0:(f.div.addEventListener("focusin",()=>{f._focusEventsAllowed=!0},{once:!0}),b.focus())},0)),f._structTreeParentId=this.#e?.moveElementInDOM(this.div,f.div,f.contentDiv,!0)}addOrRebuild(f){f.needsToBeRebuilt()?f.rebuild():this.add(f)}addUndoableEditor(f){const b=()=>f._uiManager.rebuild(f),y=()=>{f.remove()};this.addCommands({cmd:b,undo:y,mustExec:!1})}getNextId(){return this.#i.getId()}#f(f){switch(this.#i.getMode()){case i.AnnotationEditorType.FREETEXT:return new o.FreeTextEditor(f);case i.AnnotationEditorType.INK:return new c.InkEditor(f);case i.AnnotationEditorType.STAMP:return new _.StampEditor(f)}return null}pasteEditor(f,b){this.#i.updateToolbar(f),this.#i.updateMode(f);const{offsetX:y,offsetY:p}=this.#h(),v=this.getNextId(),A=this.#f({parent:this,id:v,x:y,y:p,uiManager:this.#i,isCentered:!0,...b});A&&this.add(A)}deserialize(f){switch(f.annotationType??f.annotationEditorType){case i.AnnotationEditorType.FREETEXT:return o.FreeTextEditor.deserialize(f,this,this.#i);case i.AnnotationEditorType.INK:return c.InkEditor.deserialize(f,this,this.#i);case i.AnnotationEditorType.STAMP:return _.StampEditor.deserialize(f,this,this.#i)}return null}#d(f,b){const y=this.getNextId(),p=this.#f({parent:this,id:y,x:f.offsetX,y:f.offsetY,uiManager:this.#i,isCentered:b});return p&&this.add(p),p}#h(){const{x:f,y:b,width:y,height:p}=this.div.getBoundingClientRect(),v=Math.max(0,f),A=Math.max(0,b),w=Math.min(window.innerWidth,f+y),P=Math.min(window.innerHeight,b+p),Z=(v+w)/2-f,Q=(A+P)/2-b,[z,K]=this.viewport.rotation%180===0?[Z,Q]:[Q,Z];return{offsetX:z,offsetY:K}}addNewEditor(){this.#d(this.#h(),!0)}setSelected(f){this.#i.setSelected(f)}toggleSelected(f){this.#i.toggleSelected(f)}isSelected(f){return this.#i.isSelected(f)}unselect(f){this.#i.unselect(f)}pointerup(f){const{isMac:b}=i.FeatureTest.platform;if(!(f.button!==0||f.ctrlKey&&b)&&f.target===this.div&&this.#a){if(this.#a=!1,!this.#t){this.#t=!0;return}if(this.#i.getMode()===i.AnnotationEditorType.STAMP){this.#i.unselectAll();return}this.#d(f,!1)}}pointerdown(f){if(this.#a){this.#a=!1;return}const{isMac:b}=i.FeatureTest.platform;if(f.button!==0||f.ctrlKey&&b||f.target!==this.div)return;this.#a=!0;const y=this.#i.getActive();this.#t=!y||y.isEmpty()}findNewParent(f,b,y){const p=this.#i.findParent(b,y);return p===null||p===this?!1:(p.changeParent(f),!0)}destroy(){this.#i.getActive()?.parent===this&&(this.#i.commitOrRemove(),this.#i.setActiveEditor(null));for(const f of this.#s.values())this.#e?.removePointerInTextLayer(f.contentDiv),f.setParent(null),f.isAttachedToDOM=!1,f.div.remove();this.div=null,this.#s.clear(),this.#i.removeLayer(this)}#p(){this.#l=!0;for(const f of this.#s.values())f.isEmpty()&&f.remove();this.#l=!1}render({viewport:f}){this.viewport=f,(0,m.setLayerDimensions)(this.div,f);for(const b of this.#i.getEditors(this.pageIndex))this.add(b);this.updateMode()}update({viewport:f}){this.#i.commitOrRemove(),this.viewport=f,(0,m.setLayerDimensions)(this.div,{rotation:f.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:f,pageHeight:b}=this.viewport.rawDims;return[f,b]}}e.AnnotationEditorLayer=h},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var i=n(1),s=n(5),o=n(4),c=n(29);class m extends o.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#o;#s="";#a=`${this.id}-editor`;#l;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const h=m.prototype,d=y=>y.isEmpty(),f=s.AnnotationEditorUIManager.TRANSLATE_SMALL,b=s.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new s.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],h.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],h.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],h._translateEmpty,{args:[-f,0],checker:d}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],h._translateEmpty,{args:[-b,0],checker:d}],[["ArrowRight","mac+ArrowRight"],h._translateEmpty,{args:[f,0],checker:d}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],h._translateEmpty,{args:[b,0],checker:d}],[["ArrowUp","mac+ArrowUp"],h._translateEmpty,{args:[0,-f],checker:d}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],h._translateEmpty,{args:[0,-b],checker:d}],[["ArrowDown","mac+ArrowDown"],h._translateEmpty,{args:[0,f],checker:d}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],h._translateEmpty,{args:[0,b],checker:d}]]))}static _type="freetext";constructor(h){super({...h,name:"freeTextEditor"}),this.#o=h.color||m._defaultColor||o.AnnotationEditor._defaultLineColor,this.#l=h.fontSize||m._defaultFontSize}static initialize(h){o.AnnotationEditor.initialize(h,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const d=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(d.getPropertyValue("--freetext-padding"))}static updateDefaultParams(h,d){switch(h){case i.AnnotationEditorParamsType.FREETEXT_SIZE:m._defaultFontSize=d;break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:m._defaultColor=d;break}}updateParams(h,d){switch(h){case i.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(d);break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(d);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,m._defaultFontSize],[i.AnnotationEditorParamsType.FREETEXT_COLOR,m._defaultColor||o.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[i.AnnotationEditorParamsType.FREETEXT_COLOR,this.#o]]}#i(h){const d=b=>{this.editorDiv.style.fontSize=`calc(${b}px * var(--scale-factor))`,this.translate(0,-(b-this.#l)*this.parentScale),this.#l=b,this.#h()},f=this.#l;this.addCommands({cmd:()=>{d(h)},undo:()=>{d(f)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(h){const d=this.#o;this.addCommands({cmd:()=>{this.#o=this.editorDiv.style.color=h},undo:()=>{this.#o=this.editorDiv.style.color=d},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(h,d){this._uiManager.translateSelectedEditors(h,d,!0)}getInitialTranslation(){const h=this.parentScale;return[-m._internalPadding*h,-(m._internalPadding+this.#l)*h]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(i.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#a),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(h){this._focusEventsAllowed&&(super.focusin(h),h.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#g();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){const h=this.editorDiv.getElementsByTagName("div");if(h.length===0)return this.editorDiv.innerText;const d=[];for(const f of h)d.push(f.innerText.replace(/\r\n?|\n/,""));return d.join(`
`)}#h(){const[h,d]=this.parentDimensions;let f;if(this.isAttachedToDOM)f=this.div.getBoundingClientRect();else{const{currentLayer:b,div:y}=this,p=y.style.display;y.style.display="hidden",b.div.append(this.div),f=y.getBoundingClientRect(),y.remove(),y.style.display=p}this.rotation%180===this.parentRotation%180?(this.width=f.width/h,this.height=f.height/d):(this.width=f.height/h,this.height=f.width/d),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const h=this.#s,d=this.#s=this.#d().trimEnd();if(h===d)return;const f=b=>{if(this.#s=b,!b){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{f(d)},undo:()=>{f(h)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(h){this.enterInEditMode()}keydown(h){h.target===this.div&&h.key==="Enter"&&(this.enterInEditMode(),h.preventDefault())}editorDivKeydown(h){m._keyboardManager.exec(this,h)}editorDivFocus(h){this.isEditing=!0}editorDivBlur(h){this.isEditing=!1}editorDivInput(h){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let h,d;this.width&&(h=this.x,d=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#a),this.enableEditing(),o.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(b=>this.editorDiv?.setAttribute("aria-label",b)),o.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(b=>this.editorDiv?.setAttribute("default-content",b)),this.editorDiv.contentEditable=!0;const{style:f}=this.editorDiv;if(f.fontSize=`calc(${this.#l}px * var(--scale-factor))`,f.color=this.#o,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,s.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[b,y]=this.parentDimensions;if(this.annotationElementId){const{position:p}=this.#c;let[v,A]=this.getInitialTranslation();[v,A]=this.pageTranslationToScreen(v,A);const[w,P]=this.pageDimensions,[Z,Q]=this.pageTranslation;let z,K;switch(this.rotation){case 0:z=h+(p[0]-Z)/w,K=d+this.height-(p[1]-Q)/P;break;case 90:z=h+(p[0]-Z)/w,K=d-(p[1]-Q)/P,[v,A]=[A,-v];break;case 180:z=h-this.width+(p[0]-Z)/w,K=d-(p[1]-Q)/P,[v,A]=[-v,-A];break;case 270:z=h+(p[0]-Z-this.height*P)/w,K=d+(p[1]-Q-this.width*w)/P,[v,A]=[-A,v];break}this.setAt(z*b,K*y,v,A)}else this.setAt(h*b,d*y,this.width*b,this.height*y);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#s)for(const h of this.#s.split(`
`)){const d=document.createElement("div");d.append(h?document.createTextNode(h):document.createElement("br")),this.editorDiv.append(d)}}get contentDiv(){return this.editorDiv}static deserialize(h,d,f){let b=null;if(h instanceof c.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:p,fontColor:v},rect:A,rotation:w,id:P},textContent:Z,textPosition:Q,parent:{page:{pageNumber:z}}}=h;if(!Z||Z.length===0)return null;b=h={annotationType:i.AnnotationEditorType.FREETEXT,color:Array.from(v),fontSize:p,value:Z.join(`
`),position:Q,pageIndex:z-1,rect:A,rotation:w,id:P,deleted:!1}}const y=super.deserialize(h,d,f);return y.#l=h.fontSize,y.#o=i.Util.makeHexColor(...h.color),y.#s=h.value,y.annotationElementId=h.id||null,y.#c=b,y}serialize(h=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const d=m._internalPadding*this.parentScale,f=this.getRect(d,d),b=o.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#o),y={annotationType:i.AnnotationEditorType.FREETEXT,color:b,fontSize:this.#l,value:this.#s,pageIndex:this.pageIndex,rect:f,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return h?y:this.annotationElementId&&!this.#v(y)?null:(y.id=this.annotationElementId,y)}#v(h){const{value:d,fontSize:f,color:b,rect:y,pageIndex:p}=this.#c;return h.value!==d||h.fontSize!==f||h.rect.some((v,A)=>Math.abs(v-y[A])>=1)||h.color.some((v,A)=>v!==b[A])||h.pageIndex!==p}#g(h=!1){if(!this.annotationElementId)return;if(this.#h(),!h&&(this.width===0||this.height===0)){setTimeout(()=>this.#g(!0),0);return}const d=m._internalPadding*this.parentScale;this.#c.rect=this.getRect(d,d)}}e.FreeTextEditor=m},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var i=n(1),s=n(6),o=n(3),c=n(30),m=n(31),_=n(32);const h=1e3,d=9,f=new WeakSet;function b(ce){return{width:ce[2]-ce[0],height:ce[3]-ce[1]}}class y{static create(H){switch(H.data.annotationType){case i.AnnotationType.LINK:return new v(H);case i.AnnotationType.TEXT:return new A(H);case i.AnnotationType.WIDGET:switch(H.data.fieldType){case"Tx":return new P(H);case"Btn":return H.data.radioButton?new z(H):H.data.checkBox?new Q(H):new K(H);case"Ch":return new j(H);case"Sig":return new Z(H)}return new w(H);case i.AnnotationType.POPUP:return new T(H);case i.AnnotationType.FREETEXT:return new Y(H);case i.AnnotationType.LINE:return new R(H);case i.AnnotationType.SQUARE:return new U(H);case i.AnnotationType.CIRCLE:return new G(H);case i.AnnotationType.POLYLINE:return new ue(H);case i.AnnotationType.CARET:return new se(H);case i.AnnotationType.INK:return new ee(H);case i.AnnotationType.POLYGON:return new he(H);case i.AnnotationType.HIGHLIGHT:return new W(H);case i.AnnotationType.UNDERLINE:return new $(H);case i.AnnotationType.SQUIGGLY:return new S(H);case i.AnnotationType.STRIKEOUT:return new J(H);case i.AnnotationType.STAMP:return new ae(H);case i.AnnotationType.FILEATTACHMENT:return new D(H);default:return new p(H)}}}class p{#e=!1;constructor(H,{isRenderable:ne=!1,ignoreBorder:oe=!1,createQuadrilaterals:me=!1}={}){this.isRenderable=ne,this.data=H.data,this.layer=H.layer,this.linkService=H.linkService,this.downloadManager=H.downloadManager,this.imageResourcesPath=H.imageResourcesPath,this.renderForms=H.renderForms,this.svgFactory=H.svgFactory,this.annotationStorage=H.annotationStorage,this.enableScripting=H.enableScripting,this.hasJSActions=H.hasJSActions,this._fieldObjects=H.fieldObjects,this.parent=H.parent,ne&&(this.container=this._createContainer(oe)),me&&this._createQuadrilaterals()}static _hasPopupData({titleObj:H,contentsObj:ne,richText:oe}){return!!(H?.str||ne?.str||oe?.str)}get hasPopupData(){return p._hasPopupData(this.data)}_createContainer(H){const{data:ne,parent:{page:oe,viewport:me}}=this,ve=document.createElement("section");ve.setAttribute("data-annotation-id",ne.id),this instanceof w||(ve.tabIndex=h),ve.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ve.setAttribute("aria-haspopup","dialog"),ne.noRotate&&ve.classList.add("norotate");const{pageWidth:ye,pageHeight:xe,pageX:je,pageY:Je}=me.rawDims;if(!ne.rect||this instanceof T){const{rotation:De}=ne;return!ne.hasOwnCanvas&&De!==0&&this.setRotation(De,ve),ve}const{width:Le,height:qe}=b(ne.rect),ze=i.Util.normalizeRect([ne.rect[0],oe.view[3]-ne.rect[1]+oe.view[1],ne.rect[2],oe.view[3]-ne.rect[3]+oe.view[1]]);if(!H&&ne.borderStyle.width>0){ve.style.borderWidth=`${ne.borderStyle.width}px`;const De=ne.borderStyle.horizontalCornerRadius,tt=ne.borderStyle.verticalCornerRadius;if(De>0||tt>0){const rt=`calc(${De}px * var(--scale-factor)) / calc(${tt}px * var(--scale-factor))`;ve.style.borderRadius=rt}else if(this instanceof z){const rt=`calc(${Le}px * var(--scale-factor)) / calc(${qe}px * var(--scale-factor))`;ve.style.borderRadius=rt}switch(ne.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:ve.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:ve.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:ve.style.borderBottomStyle="solid";break}const Xe=ne.borderColor||null;Xe?(this.#e=!0,ve.style.borderColor=i.Util.makeHexColor(Xe[0]|0,Xe[1]|0,Xe[2]|0)):ve.style.borderWidth=0}ve.style.left=`${100*(ze[0]-je)/ye}%`,ve.style.top=`${100*(ze[1]-Je)/xe}%`;const{rotation:ke}=ne;return ne.hasOwnCanvas||ke===0?(ve.style.width=`${100*Le/ye}%`,ve.style.height=`${100*qe/xe}%`):this.setRotation(ke,ve),ve}setRotation(H,ne=this.container){if(!this.data.rect)return;const{pageWidth:oe,pageHeight:me}=this.parent.viewport.rawDims,{width:ve,height:ye}=b(this.data.rect);let xe,je;H%180===0?(xe=100*ve/oe,je=100*ye/me):(xe=100*ye/oe,je=100*ve/me),ne.style.width=`${xe}%`,ne.style.height=`${je}%`,ne.setAttribute("data-main-rotation",(360-H)%360)}get _commonActions(){const H=(ne,oe,me)=>{const ve=me.detail[ne],ye=ve[0],xe=ve.slice(1);me.target.style[oe]=c.ColorConverters[`${ye}_HTML`](xe),this.annotationStorage.setValue(this.data.id,{[oe]:c.ColorConverters[`${ye}_rgb`](xe)})};return(0,i.shadow)(this,"_commonActions",{display:ne=>{const{display:oe}=ne.detail,me=oe%2===1;this.container.style.visibility=me?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:me,noPrint:oe===1||oe===2})},print:ne=>{this.annotationStorage.setValue(this.data.id,{noPrint:!ne.detail.print})},hidden:ne=>{const{hidden:oe}=ne.detail;this.container.style.visibility=oe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:oe,noView:oe})},focus:ne=>{setTimeout(()=>ne.target.focus({preventScroll:!1}),0)},userName:ne=>{ne.target.title=ne.detail.userName},readonly:ne=>{ne.target.disabled=ne.detail.readonly},required:ne=>{this._setRequired(ne.target,ne.detail.required)},bgColor:ne=>{H("bgColor","backgroundColor",ne)},fillColor:ne=>{H("fillColor","backgroundColor",ne)},fgColor:ne=>{H("fgColor","color",ne)},textColor:ne=>{H("textColor","color",ne)},borderColor:ne=>{H("borderColor","borderColor",ne)},strokeColor:ne=>{H("strokeColor","borderColor",ne)},rotation:ne=>{const oe=ne.detail.rotation;this.setRotation(oe),this.annotationStorage.setValue(this.data.id,{rotation:oe})}})}_dispatchEventFromSandbox(H,ne){const oe=this._commonActions;for(const me of Object.keys(ne.detail))(H[me]||oe[me])?.(ne)}_setDefaultPropertiesFromJS(H){if(!this.enableScripting)return;const ne=this.annotationStorage.getRawValue(this.data.id);if(!ne)return;const oe=this._commonActions;for(const[me,ve]of Object.entries(ne)){const ye=oe[me];if(ye){const xe={detail:{[me]:ve},target:H};ye(xe),delete ne[me]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:H}=this.data;if(!H)return;const[ne,oe,me,ve]=this.data.rect;if(H.length===1){const[,{x:tt,y:Xe},{x:rt,y:pt}]=H[0];if(me===tt&&ve===Xe&&ne===rt&&oe===pt)return}const{style:ye}=this.container;let xe;if(this.#e){const{borderColor:tt,borderWidth:Xe}=ye;ye.borderWidth=0,xe=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${tt}" stroke-width="${Xe}">`],this.container.classList.add("hasBorder")}const je=me-ne,Je=ve-oe,{svgFactory:Le}=this,qe=Le.createElement("svg");qe.classList.add("quadrilateralsContainer"),qe.setAttribute("width",0),qe.setAttribute("height",0);const ze=Le.createElement("defs");qe.append(ze);const ke=Le.createElement("clipPath"),De=`clippath_${this.data.id}`;ke.setAttribute("id",De),ke.setAttribute("clipPathUnits","objectBoundingBox"),ze.append(ke);for(const[,{x:tt,y:Xe},{x:rt,y:pt}]of H){const vt=Le.createElement("rect"),Pt=(rt-ne)/je,Be=(ve-Xe)/Je,Ve=(tt-rt)/je,mt=(Xe-pt)/Je;vt.setAttribute("x",Pt),vt.setAttribute("y",Be),vt.setAttribute("width",Ve),vt.setAttribute("height",mt),ke.append(vt),xe?.push(`<rect vector-effect="non-scaling-stroke" x="${Pt}" y="${Be}" width="${Ve}" height="${mt}"/>`)}this.#e&&(xe.push("</g></svg>')"),ye.backgroundImage=xe.join("")),this.container.append(qe),this.container.style.clipPath=`url(#${De})`}_createPopup(){const{container:H,data:ne}=this;H.setAttribute("aria-haspopup","dialog");const oe=new T({data:{color:ne.color,titleObj:ne.titleObj,modificationDate:ne.modificationDate,contentsObj:ne.contentsObj,richText:ne.richText,parentRect:ne.rect,borderStyle:0,id:`popup_${ne.id}`,rotation:ne.rotation},parent:this.parent,elements:[this]});this.parent.div.append(oe.render())}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(H,ne=null){const oe=[];if(this._fieldObjects){const me=this._fieldObjects[H];if(me)for(const{page:ve,id:ye,exportValues:xe}of me){if(ve===-1||ye===ne)continue;const je=typeof xe=="string"?xe:null,Je=document.querySelector(`[data-element-id="${ye}"]`);if(Je&&!f.has(Je)){(0,i.warn)(`_getElementsByName - element not allowed: ${ye}`);continue}oe.push({id:ye,exportValue:je,domElement:Je})}return oe}for(const me of document.getElementsByName(H)){const{exportValue:ve}=me,ye=me.getAttribute("data-element-id");ye!==ne&&f.has(me)&&oe.push({id:ye,exportValue:ve,domElement:me})}return oe}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const H=this.getElementsToTriggerPopup();if(Array.isArray(H))for(const ne of H)ne.classList.add("highlightArea");else H.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:H,data:{id:ne}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:H,editId:ne})})}}class v extends p{constructor(H,ne=null){super(H,{isRenderable:!0,ignoreBorder:!!ne?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=H.data.isTooltipOnly}render(){const{data:H,linkService:ne}=this,oe=document.createElement("a");oe.setAttribute("data-element-id",H.id);let me=!1;return H.url?(ne.addLinkAttributes(oe,H.url,H.newWindow),me=!0):H.action?(this._bindNamedAction(oe,H.action),me=!0):H.attachment?(this._bindAttachment(oe,H.attachment),me=!0):H.setOCGState?(this.#t(oe,H.setOCGState),me=!0):H.dest?(this._bindLink(oe,H.dest),me=!0):(H.actions&&(H.actions.Action||H.actions["Mouse Up"]||H.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(oe,H),me=!0),H.resetForm?(this._bindResetFormAction(oe,H.resetForm),me=!0):this.isTooltipOnly&&!me&&(this._bindLink(oe,""),me=!0)),this.container.classList.add("linkAnnotation"),me&&this.container.append(oe),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(H,ne){H.href=this.linkService.getDestinationHash(ne),H.onclick=()=>(ne&&this.linkService.goToDestination(ne),!1),(ne||ne==="")&&this.#e()}_bindNamedAction(H,ne){H.href=this.linkService.getAnchorUrl(""),H.onclick=()=>(this.linkService.executeNamedAction(ne),!1),this.#e()}_bindAttachment(H,ne){H.href=this.linkService.getAnchorUrl(""),H.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,ne.content,ne.filename),!1),this.#e()}#t(H,ne){H.href=this.linkService.getAnchorUrl(""),H.onclick=()=>(this.linkService.executeSetOCGState(ne),!1),this.#e()}_bindJSAction(H,ne){H.href=this.linkService.getAnchorUrl("");const oe=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const me of Object.keys(ne.actions)){const ve=oe.get(me);ve&&(H[ve]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ne.id,name:me}}),!1))}H.onclick||(H.onclick=()=>!1),this.#e()}_bindResetFormAction(H,ne){const oe=H.onclick;if(oe||(H.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),oe||(H.onclick=()=>!1);return}H.onclick=()=>{oe?.();const{fields:me,refs:ve,include:ye}=ne,xe=[];if(me.length!==0||ve.length!==0){const Le=new Set(ve);for(const qe of me){const ze=this._fieldObjects[qe]||[];for(const{id:ke}of ze)Le.add(ke)}for(const qe of Object.values(this._fieldObjects))for(const ze of qe)Le.has(ze.id)===ye&&xe.push(ze)}else for(const Le of Object.values(this._fieldObjects))xe.push(...Le);const je=this.annotationStorage,Je=[];for(const Le of xe){const{id:qe}=Le;switch(Je.push(qe),Le.type){case"text":{const ke=Le.defaultValue||"";je.setValue(qe,{value:ke});break}case"checkbox":case"radiobutton":{const ke=Le.defaultValue===Le.exportValues;je.setValue(qe,{value:ke});break}case"combobox":case"listbox":{const ke=Le.defaultValue||"";je.setValue(qe,{value:ke});break}default:continue}const ze=document.querySelector(`[data-element-id="${qe}"]`);if(ze){if(!f.has(ze)){(0,i.warn)(`_bindResetFormAction - element not allowed: ${qe}`);continue}}else continue;ze.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Je,name:"ResetForm"}}),!1}}}class A extends p{constructor(H){super(H,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const H=document.createElement("img");return H.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",H.alt="[{{type}} Annotation]",H.dataset.l10nId="text_annotation_type",H.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(H),this.container}}class w extends p{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(H){this.data.hasOwnCanvas&&(H.previousSibling?.nodeName==="CANVAS"&&(H.previousSibling.hidden=!0),H.hidden=!1)}_getKeyModifier(H){const{isWin:ne,isMac:oe}=i.FeatureTest.platform;return ne&&H.ctrlKey||oe&&H.metaKey}_setEventListener(H,ne,oe,me,ve){oe.includes("mouse")?H.addEventListener(oe,ye=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:me,value:ve(ye),shift:ye.shiftKey,modifier:this._getKeyModifier(ye)}})}):H.addEventListener(oe,ye=>{if(oe==="blur"){if(!ne.focused||!ye.relatedTarget)return;ne.focused=!1}else if(oe==="focus"){if(ne.focused)return;ne.focused=!0}ve&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:me,value:ve(ye)}})})}_setEventListeners(H,ne,oe,me){for(const[ve,ye]of oe)(ye==="Action"||this.data.actions?.[ye])&&((ye==="Focus"||ye==="Blur")&&(ne||={focused:!1}),this._setEventListener(H,ne,ve,ye,me),ye==="Focus"&&!this.data.actions?.Blur?this._setEventListener(H,ne,"blur","Blur",null):ye==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(H,ne,"focus","Focus",null))}_setBackgroundColor(H){const ne=this.data.backgroundColor||null;H.style.backgroundColor=ne===null?"transparent":i.Util.makeHexColor(ne[0],ne[1],ne[2])}_setTextStyle(H){const ne=["left","center","right"],{fontColor:oe}=this.data.defaultAppearanceData,me=this.data.defaultAppearanceData.fontSize||d,ve=H.style;let ye;const xe=2,je=Je=>Math.round(10*Je)/10;if(this.data.multiLine){const Je=Math.abs(this.data.rect[3]-this.data.rect[1]-xe),Le=Math.round(Je/(i.LINE_FACTOR*me))||1,qe=Je/Le;ye=Math.min(me,je(qe/i.LINE_FACTOR))}else{const Je=Math.abs(this.data.rect[3]-this.data.rect[1]-xe);ye=Math.min(me,je(Je/i.LINE_FACTOR))}ve.fontSize=`calc(${ye}px * var(--scale-factor))`,ve.color=i.Util.makeHexColor(oe[0],oe[1],oe[2]),this.data.textAlignment!==null&&(ve.textAlign=ne[this.data.textAlignment])}_setRequired(H,ne){ne?H.setAttribute("required",!0):H.removeAttribute("required"),H.setAttribute("aria-required",ne)}}class P extends w{constructor(H){const ne=H.renderForms||!H.data.hasAppearance&&!!H.data.fieldValue;super(H,{isRenderable:ne})}setPropertyOnSiblings(H,ne,oe,me){const ve=this.annotationStorage;for(const ye of this._getElementsByName(H.name,H.id))ye.domElement&&(ye.domElement[ne]=oe),ve.setValue(ye.id,{[me]:oe})}render(){const H=this.annotationStorage,ne=this.data.id;this.container.classList.add("textWidgetAnnotation");let oe=null;if(this.renderForms){const me=H.getValue(ne,{value:this.data.fieldValue});let ve=me.value||"";const ye=H.getValue(ne,{charLimit:this.data.maxLen}).charLimit;ye&&ve.length>ye&&(ve=ve.slice(0,ye));let xe=me.formattedValue||this.data.textContent?.join(`
`)||null;xe&&this.data.comb&&(xe=xe.replaceAll(/\s+/g,""));const je={userValue:ve,formattedValue:xe,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(oe=document.createElement("textarea"),oe.textContent=xe??ve,this.data.doNotScroll&&(oe.style.overflowY="hidden")):(oe=document.createElement("input"),oe.type="text",oe.setAttribute("value",xe??ve),this.data.doNotScroll&&(oe.style.overflowX="hidden")),this.data.hasOwnCanvas&&(oe.hidden=!0),f.add(oe),oe.setAttribute("data-element-id",ne),oe.disabled=this.data.readOnly,oe.name=this.data.fieldName,oe.tabIndex=h,this._setRequired(oe,this.data.required),ye&&(oe.maxLength=ye),oe.addEventListener("input",Le=>{H.setValue(ne,{value:Le.target.value}),this.setPropertyOnSiblings(oe,"value",Le.target.value,"value"),je.formattedValue=null}),oe.addEventListener("resetform",Le=>{const qe=this.data.defaultFieldValue??"";oe.value=je.userValue=qe,je.formattedValue=null});let Je=Le=>{const{formattedValue:qe}=je;qe!=null&&(Le.target.value=qe),Le.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){oe.addEventListener("focus",qe=>{if(je.focused)return;const{target:ze}=qe;je.userValue&&(ze.value=je.userValue),je.lastCommittedValue=ze.value,je.commitKey=1,je.focused=!0}),oe.addEventListener("updatefromsandbox",qe=>{this.showElementAndHideCanvas(qe.target);const ze={value(ke){je.userValue=ke.detail.value??"",H.setValue(ne,{value:je.userValue.toString()}),ke.target.value=je.userValue},formattedValue(ke){const{formattedValue:De}=ke.detail;je.formattedValue=De,De!=null&&ke.target!==document.activeElement&&(ke.target.value=De),H.setValue(ne,{formattedValue:De})},selRange(ke){ke.target.setSelectionRange(...ke.detail.selRange)},charLimit:ke=>{const{charLimit:De}=ke.detail,{target:tt}=ke;if(De===0){tt.removeAttribute("maxLength");return}tt.setAttribute("maxLength",De);let Xe=je.userValue;!Xe||Xe.length<=De||(Xe=Xe.slice(0,De),tt.value=je.userValue=Xe,H.setValue(ne,{value:Xe}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ne,name:"Keystroke",value:Xe,willCommit:!0,commitKey:1,selStart:tt.selectionStart,selEnd:tt.selectionEnd}}))}};this._dispatchEventFromSandbox(ze,qe)}),oe.addEventListener("keydown",qe=>{je.commitKey=1;let ze=-1;if(qe.key==="Escape"?ze=0:qe.key==="Enter"&&!this.data.multiLine?ze=2:qe.key==="Tab"&&(je.commitKey=3),ze===-1)return;const{value:ke}=qe.target;je.lastCommittedValue!==ke&&(je.lastCommittedValue=ke,je.userValue=ke,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ne,name:"Keystroke",value:ke,willCommit:!0,commitKey:ze,selStart:qe.target.selectionStart,selEnd:qe.target.selectionEnd}}))});const Le=Je;Je=null,oe.addEventListener("blur",qe=>{if(!je.focused||!qe.relatedTarget)return;je.focused=!1;const{value:ze}=qe.target;je.userValue=ze,je.lastCommittedValue!==ze&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ne,name:"Keystroke",value:ze,willCommit:!0,commitKey:je.commitKey,selStart:qe.target.selectionStart,selEnd:qe.target.selectionEnd}}),Le(qe)}),this.data.actions?.Keystroke&&oe.addEventListener("beforeinput",qe=>{je.lastCommittedValue=null;const{data:ze,target:ke}=qe,{value:De,selectionStart:tt,selectionEnd:Xe}=ke;let rt=tt,pt=Xe;switch(qe.inputType){case"deleteWordBackward":{const vt=De.substring(0,tt).match(/\w*[^\w]*$/);vt&&(rt-=vt[0].length);break}case"deleteWordForward":{const vt=De.substring(tt).match(/^[^\w]*\w*/);vt&&(pt+=vt[0].length);break}case"deleteContentBackward":tt===Xe&&(rt-=1);break;case"deleteContentForward":tt===Xe&&(pt+=1);break}qe.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ne,name:"Keystroke",value:De,change:ze||"",willCommit:!1,selStart:rt,selEnd:pt}})}),this._setEventListeners(oe,je,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],qe=>qe.target.value)}if(Je&&oe.addEventListener("blur",Je),this.data.comb){const qe=(this.data.rect[2]-this.data.rect[0])/ye;oe.classList.add("comb"),oe.style.letterSpacing=`calc(${qe}px * var(--scale-factor) - 1ch)`}}else oe=document.createElement("div"),oe.textContent=this.data.fieldValue,oe.style.verticalAlign="middle",oe.style.display="table-cell";return this._setTextStyle(oe),this._setBackgroundColor(oe),this._setDefaultPropertiesFromJS(oe),this.container.append(oe),this.container}}class Z extends w{constructor(H){super(H,{isRenderable:!!H.data.hasOwnCanvas})}}class Q extends w{constructor(H){super(H,{isRenderable:H.renderForms})}render(){const H=this.annotationStorage,ne=this.data,oe=ne.id;let me=H.getValue(oe,{value:ne.exportValue===ne.fieldValue}).value;typeof me=="string"&&(me=me!=="Off",H.setValue(oe,{value:me})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ve=document.createElement("input");return f.add(ve),ve.setAttribute("data-element-id",oe),ve.disabled=ne.readOnly,this._setRequired(ve,this.data.required),ve.type="checkbox",ve.name=ne.fieldName,me&&ve.setAttribute("checked",!0),ve.setAttribute("exportValue",ne.exportValue),ve.tabIndex=h,ve.addEventListener("change",ye=>{const{name:xe,checked:je}=ye.target;for(const Je of this._getElementsByName(xe,oe)){const Le=je&&Je.exportValue===ne.exportValue;Je.domElement&&(Je.domElement.checked=Le),H.setValue(Je.id,{value:Le})}H.setValue(oe,{value:je})}),ve.addEventListener("resetform",ye=>{const xe=ne.defaultFieldValue||"Off";ye.target.checked=xe===ne.exportValue}),this.enableScripting&&this.hasJSActions&&(ve.addEventListener("updatefromsandbox",ye=>{const xe={value(je){je.target.checked=je.detail.value!=="Off",H.setValue(oe,{value:je.target.checked})}};this._dispatchEventFromSandbox(xe,ye)}),this._setEventListeners(ve,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ye=>ye.target.checked)),this._setBackgroundColor(ve),this._setDefaultPropertiesFromJS(ve),this.container.append(ve),this.container}}class z extends w{constructor(H){super(H,{isRenderable:H.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const H=this.annotationStorage,ne=this.data,oe=ne.id;let me=H.getValue(oe,{value:ne.fieldValue===ne.buttonValue}).value;typeof me=="string"&&(me=me!==ne.buttonValue,H.setValue(oe,{value:me}));const ve=document.createElement("input");if(f.add(ve),ve.setAttribute("data-element-id",oe),ve.disabled=ne.readOnly,this._setRequired(ve,this.data.required),ve.type="radio",ve.name=ne.fieldName,me&&ve.setAttribute("checked",!0),ve.tabIndex=h,ve.addEventListener("change",ye=>{const{name:xe,checked:je}=ye.target;for(const Je of this._getElementsByName(xe,oe))H.setValue(Je.id,{value:!1});H.setValue(oe,{value:je})}),ve.addEventListener("resetform",ye=>{const xe=ne.defaultFieldValue;ye.target.checked=xe!=null&&xe===ne.buttonValue}),this.enableScripting&&this.hasJSActions){const ye=ne.buttonValue;ve.addEventListener("updatefromsandbox",xe=>{const je={value:Je=>{const Le=ye===Je.detail.value;for(const qe of this._getElementsByName(Je.target.name)){const ze=Le&&qe.id===oe;qe.domElement&&(qe.domElement.checked=ze),H.setValue(qe.id,{value:ze})}}};this._dispatchEventFromSandbox(je,xe)}),this._setEventListeners(ve,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],xe=>xe.target.checked)}return this._setBackgroundColor(ve),this._setDefaultPropertiesFromJS(ve),this.container.append(ve),this.container}}class K extends v{constructor(H){super(H,{ignoreBorder:H.data.hasAppearance})}render(){const H=super.render();H.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(H.title=this.data.alternativeText);const ne=H.lastChild;return this.enableScripting&&this.hasJSActions&&ne&&(this._setDefaultPropertiesFromJS(ne),ne.addEventListener("updatefromsandbox",oe=>{this._dispatchEventFromSandbox({},oe)})),H}}class j extends w{constructor(H){super(H,{isRenderable:H.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const H=this.annotationStorage,ne=this.data.id,oe=H.getValue(ne,{value:this.data.fieldValue}),me=document.createElement("select");f.add(me),me.setAttribute("data-element-id",ne),me.disabled=this.data.readOnly,this._setRequired(me,this.data.required),me.name=this.data.fieldName,me.tabIndex=h;let ve=this.data.combo&&this.data.options.length>0;this.data.combo||(me.size=this.data.options.length,this.data.multiSelect&&(me.multiple=!0)),me.addEventListener("resetform",Le=>{const qe=this.data.defaultFieldValue;for(const ze of me.options)ze.selected=ze.value===qe});for(const Le of this.data.options){const qe=document.createElement("option");qe.textContent=Le.displayValue,qe.value=Le.exportValue,oe.value.includes(Le.exportValue)&&(qe.setAttribute("selected",!0),ve=!1),me.append(qe)}let ye=null;if(ve){const Le=document.createElement("option");Le.value=" ",Le.setAttribute("hidden",!0),Le.setAttribute("selected",!0),me.prepend(Le),ye=()=>{Le.remove(),me.removeEventListener("input",ye),ye=null},me.addEventListener("input",ye)}const xe=Le=>{const qe=Le?"value":"textContent",{options:ze,multiple:ke}=me;return ke?Array.prototype.filter.call(ze,De=>De.selected).map(De=>De[qe]):ze.selectedIndex===-1?null:ze[ze.selectedIndex][qe]};let je=xe(!1);const Je=Le=>{const qe=Le.target.options;return Array.prototype.map.call(qe,ze=>({displayValue:ze.textContent,exportValue:ze.value}))};return this.enableScripting&&this.hasJSActions?(me.addEventListener("updatefromsandbox",Le=>{const qe={value(ze){ye?.();const ke=ze.detail.value,De=new Set(Array.isArray(ke)?ke:[ke]);for(const tt of me.options)tt.selected=De.has(tt.value);H.setValue(ne,{value:xe(!0)}),je=xe(!1)},multipleSelection(ze){me.multiple=!0},remove(ze){const ke=me.options,De=ze.detail.remove;ke[De].selected=!1,me.remove(De),ke.length>0&&Array.prototype.findIndex.call(ke,Xe=>Xe.selected)===-1&&(ke[0].selected=!0),H.setValue(ne,{value:xe(!0),items:Je(ze)}),je=xe(!1)},clear(ze){for(;me.length!==0;)me.remove(0);H.setValue(ne,{value:null,items:[]}),je=xe(!1)},insert(ze){const{index:ke,displayValue:De,exportValue:tt}=ze.detail.insert,Xe=me.children[ke],rt=document.createElement("option");rt.textContent=De,rt.value=tt,Xe?Xe.before(rt):me.append(rt),H.setValue(ne,{value:xe(!0),items:Je(ze)}),je=xe(!1)},items(ze){const{items:ke}=ze.detail;for(;me.length!==0;)me.remove(0);for(const De of ke){const{displayValue:tt,exportValue:Xe}=De,rt=document.createElement("option");rt.textContent=tt,rt.value=Xe,me.append(rt)}me.options.length>0&&(me.options[0].selected=!0),H.setValue(ne,{value:xe(!0),items:Je(ze)}),je=xe(!1)},indices(ze){const ke=new Set(ze.detail.indices);for(const De of ze.target.options)De.selected=ke.has(De.index);H.setValue(ne,{value:xe(!0)}),je=xe(!1)},editable(ze){ze.target.disabled=!ze.detail.editable}};this._dispatchEventFromSandbox(qe,Le)}),me.addEventListener("input",Le=>{const qe=xe(!0);H.setValue(ne,{value:qe}),Le.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ne,name:"Keystroke",value:je,changeEx:qe,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(me,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Le=>Le.target.value)):me.addEventListener("input",function(Le){H.setValue(ne,{value:xe(!0)})}),this.data.combo&&this._setTextStyle(me),this._setBackgroundColor(me),this._setDefaultPropertiesFromJS(me),this.container.append(me),this.container}}class T extends p{constructor(H){const{data:ne,elements:oe}=H;super(H,{isRenderable:p._hasPopupData(ne)}),this.elements=oe}render(){this.container.classList.add("popupAnnotation");const H=new I({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),ne=[];for(const oe of this.elements)oe.popup=H,ne.push(oe.data.id),oe.addHighlightArea();return this.container.setAttribute("aria-controls",ne.map(oe=>`${i.AnnotationPrefix}${oe}`).join(",")),this.container}}class I{#e=null;#t=this.#u.bind(this);#n=this.#E.bind(this);#r=this.#S.bind(this);#o=this.#y.bind(this);#s=null;#a=null;#l=null;#c=null;#i=null;#f=null;#d=!1;#h=null;#p=null;#v=null;#g=null;#m=!1;constructor({container:H,color:ne,elements:oe,titleObj:me,modificationDate:ve,contentsObj:ye,richText:xe,parent:je,rect:Je,parentRect:Le,open:qe}){this.#a=H,this.#g=me,this.#l=ye,this.#v=xe,this.#i=je,this.#s=ne,this.#p=Je,this.#f=Le,this.#c=oe;const ze=s.PDFDateString.toDateObject(ve);ze&&(this.#e=je.l10n.get("annotation_date_string",{date:ze.toLocaleDateString(),time:ze.toLocaleTimeString()})),this.trigger=oe.flatMap(ke=>ke.getElementsToTriggerPopup());for(const ke of this.trigger)ke.addEventListener("click",this.#o),ke.addEventListener("mouseenter",this.#r),ke.addEventListener("mouseleave",this.#n),ke.classList.add("popupTriggerArea");for(const ke of oe)ke.container?.addEventListener("keydown",this.#t);this.#a.hidden=!0,qe&&this.#y()}render(){if(this.#h)return;const{page:{view:H},viewport:{rawDims:{pageWidth:ne,pageHeight:oe,pageX:me,pageY:ve}}}=this.#i,ye=this.#h=document.createElement("div");if(ye.className="popup",this.#s){const vt=ye.style.outlineColor=i.Util.makeHexColor(...this.#s);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?ye.style.backgroundColor=`color-mix(in srgb, ${vt} 30%, white)`:ye.style.backgroundColor=i.Util.makeHexColor(...this.#s.map(Be=>Math.floor(.7*(255-Be)+Be)))}const xe=document.createElement("span");xe.className="header";const je=document.createElement("h1");if(xe.append(je),{dir:je.dir,str:je.textContent}=this.#g,ye.append(xe),this.#e){const vt=document.createElement("span");vt.classList.add("popupDate"),this.#e.then(Pt=>{vt.textContent=Pt}),xe.append(vt)}const Je=this.#l,Le=this.#v;if(Le?.str&&(!Je?.str||Je.str===Le.str))_.XfaLayer.render({xfaHtml:Le.html,intent:"richText",div:ye}),ye.lastChild.classList.add("richText","popupContent");else{const vt=this._formatContents(Je);ye.append(vt)}let qe=!!this.#f,ze=qe?this.#f:this.#p;for(const vt of this.#c)if(!ze||i.Util.intersect(vt.data.rect,ze)!==null){ze=vt.data.rect,qe=!0;break}const ke=i.Util.normalizeRect([ze[0],H[3]-ze[1]+H[1],ze[2],H[3]-ze[3]+H[1]]),tt=qe?ze[2]-ze[0]+5:0,Xe=ke[0]+tt,rt=ke[1],{style:pt}=this.#a;pt.left=`${100*(Xe-me)/ne}%`,pt.top=`${100*(rt-ve)/oe}%`,this.#a.append(ye)}_formatContents({str:H,dir:ne}){const oe=document.createElement("p");oe.classList.add("popupContent"),oe.dir=ne;const me=H.split(/(?:\r\n?|\n)/);for(let ve=0,ye=me.length;ve<ye;++ve){const xe=me[ve];oe.append(document.createTextNode(xe)),ve<ye-1&&oe.append(document.createElement("br"))}return oe}#u(H){H.altKey||H.shiftKey||H.ctrlKey||H.metaKey||(H.key==="Enter"||H.key==="Escape"&&this.#d)&&this.#y()}#y(){this.#d=!this.#d,this.#d?(this.#S(),this.#a.addEventListener("click",this.#o),this.#a.addEventListener("keydown",this.#t)):(this.#E(),this.#a.removeEventListener("click",this.#o),this.#a.removeEventListener("keydown",this.#t))}#S(){this.#h||this.render(),this.isVisible?this.#d&&this.#a.classList.add("focused"):(this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#E(){this.#a.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#m=this.isVisible,this.#m&&(this.#a.hidden=!0)}maybeShow(){this.#m&&(this.#m=!1,this.#a.hidden=!1)}get isVisible(){return this.#a.hidden===!1}}class Y extends p{constructor(H){super(H,{isRenderable:!0,ignoreBorder:!0}),this.textContent=H.data.textContent,this.textPosition=H.data.textPosition,this.annotationEditorType=i.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const H=document.createElement("div");H.classList.add("annotationTextContent"),H.setAttribute("role","comment");for(const ne of this.textContent){const oe=document.createElement("span");oe.textContent=ne,H.append(oe)}this.container.append(H)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=Y;class R extends p{#e=null;constructor(H){super(H,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const H=this.data,{width:ne,height:oe}=b(H.rect),me=this.svgFactory.create(ne,oe,!0),ve=this.#e=this.svgFactory.createElement("svg:line");return ve.setAttribute("x1",H.rect[2]-H.lineCoordinates[0]),ve.setAttribute("y1",H.rect[3]-H.lineCoordinates[1]),ve.setAttribute("x2",H.rect[2]-H.lineCoordinates[2]),ve.setAttribute("y2",H.rect[3]-H.lineCoordinates[3]),ve.setAttribute("stroke-width",H.borderStyle.width||1),ve.setAttribute("stroke","transparent"),ve.setAttribute("fill","transparent"),me.append(ve),this.container.append(me),!H.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class U extends p{#e=null;constructor(H){super(H,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const H=this.data,{width:ne,height:oe}=b(H.rect),me=this.svgFactory.create(ne,oe,!0),ve=H.borderStyle.width,ye=this.#e=this.svgFactory.createElement("svg:rect");return ye.setAttribute("x",ve/2),ye.setAttribute("y",ve/2),ye.setAttribute("width",ne-ve),ye.setAttribute("height",oe-ve),ye.setAttribute("stroke-width",ve||1),ye.setAttribute("stroke","transparent"),ye.setAttribute("fill","transparent"),me.append(ye),this.container.append(me),!H.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class G extends p{#e=null;constructor(H){super(H,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const H=this.data,{width:ne,height:oe}=b(H.rect),me=this.svgFactory.create(ne,oe,!0),ve=H.borderStyle.width,ye=this.#e=this.svgFactory.createElement("svg:ellipse");return ye.setAttribute("cx",ne/2),ye.setAttribute("cy",oe/2),ye.setAttribute("rx",ne/2-ve/2),ye.setAttribute("ry",oe/2-ve/2),ye.setAttribute("stroke-width",ve||1),ye.setAttribute("stroke","transparent"),ye.setAttribute("fill","transparent"),me.append(ye),this.container.append(me),!H.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ue extends p{#e=null;constructor(H){super(H,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const H=this.data,{width:ne,height:oe}=b(H.rect),me=this.svgFactory.create(ne,oe,!0);let ve=[];for(const xe of H.vertices){const je=xe.x-H.rect[0],Je=H.rect[3]-xe.y;ve.push(je+","+Je)}ve=ve.join(" ");const ye=this.#e=this.svgFactory.createElement(this.svgElementName);return ye.setAttribute("points",ve),ye.setAttribute("stroke-width",H.borderStyle.width||1),ye.setAttribute("stroke","transparent"),ye.setAttribute("fill","transparent"),me.append(ye),this.container.append(me),!H.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class he extends ue{constructor(H){super(H),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class se extends p{constructor(H){super(H,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class ee extends p{#e=[];constructor(H){super(H,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=i.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const H=this.data,{width:ne,height:oe}=b(H.rect),me=this.svgFactory.create(ne,oe,!0);for(const ve of H.inkLists){let ye=[];for(const je of ve){const Je=je.x-H.rect[0],Le=H.rect[3]-je.y;ye.push(`${Je},${Le}`)}ye=ye.join(" ");const xe=this.svgFactory.createElement(this.svgElementName);this.#e.push(xe),xe.setAttribute("points",ye),xe.setAttribute("stroke-width",H.borderStyle.width||1),xe.setAttribute("stroke","transparent"),xe.setAttribute("fill","transparent"),!H.popupRef&&this.hasPopupData&&this._createPopup(),me.append(xe)}return this.container.append(me),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}e.InkAnnotationElement=ee;class W extends p{constructor(H){super(H,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class $ extends p{constructor(H){super(H,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class S extends p{constructor(H){super(H,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class J extends p{constructor(H){super(H,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class ae extends p{constructor(H){super(H,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=ae;class D extends p{#e=null;constructor(H){super(H,{isRenderable:!0});const{filename:ne,content:oe}=this.data.file;this.filename=(0,s.getFilenameFromUrl)(ne,!0),this.content=oe,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:ne,content:oe})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:H,data:ne}=this;let oe;ne.hasAppearance||ne.fillAlpha===0?oe=document.createElement("div"):(oe=document.createElement("img"),oe.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(ne.name)?"paperclip":"pushpin"}.svg`,ne.fillAlpha&&ne.fillAlpha<1&&(oe.style=`filter: opacity(${Math.round(ne.fillAlpha*100)}%);`)),oe.addEventListener("dblclick",this.#t.bind(this)),this.#e=oe;const{isMac:me}=i.FeatureTest.platform;return H.addEventListener("keydown",ve=>{ve.key==="Enter"&&(me?ve.metaKey:ve.ctrlKey)&&this.#t()}),!ne.popupRef&&this.hasPopupData?this._createPopup():oe.classList.add("popupTriggerArea"),H.append(oe),H}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class de{#e=null;#t=null;#n=new Map;constructor({div:H,accessibilityManager:ne,annotationCanvasMap:oe,l10n:me,page:ve,viewport:ye}){this.div=H,this.#e=ne,this.#t=oe,this.l10n=me,this.page=ve,this.viewport=ye,this.zIndex=0,this.l10n||=m.NullL10n}#r(H,ne){const oe=H.firstChild||H;oe.id=`${i.AnnotationPrefix}${ne}`,this.div.append(H),this.#e?.moveElementInDOM(this.div,H,oe,!1)}async render(H){const{annotations:ne}=H,oe=this.div;(0,s.setLayerDimensions)(oe,this.viewport);const me=new Map,ve={data:null,layer:oe,linkService:H.linkService,downloadManager:H.downloadManager,imageResourcesPath:H.imageResourcesPath||"",renderForms:H.renderForms!==!1,svgFactory:new s.DOMSVGFactory,annotationStorage:H.annotationStorage||new o.AnnotationStorage,enableScripting:H.enableScripting===!0,hasJSActions:H.hasJSActions,fieldObjects:H.fieldObjects,parent:this,elements:null};for(const ye of ne){if(ye.noHTML)continue;const xe=ye.annotationType===i.AnnotationType.POPUP;if(xe){const Le=me.get(ye.id);if(!Le)continue;ve.elements=Le}else{const{width:Le,height:qe}=b(ye.rect);if(Le<=0||qe<=0)continue}ve.data=ye;const je=y.create(ve);if(!je.isRenderable)continue;if(!xe&&ye.popupRef){const Le=me.get(ye.popupRef);Le?Le.push(je):me.set(ye.popupRef,[je])}je.annotationEditorType>0&&this.#n.set(je.data.id,je);const Je=je.render();ye.hidden&&(Je.style.visibility="hidden"),this.#r(Je,ye.id)}this.#o(),await this.l10n.translate(oe)}update({viewport:H}){const ne=this.div;this.viewport=H,(0,s.setLayerDimensions)(ne,{rotation:H.rotation}),this.#o(),ne.hidden=!1}#o(){if(!this.#t)return;const H=this.div;for(const[ne,oe]of this.#t){const me=H.querySelector(`[data-annotation-id="${ne}"]`);if(!me)continue;const{firstChild:ve}=me;ve?ve.nodeName==="CANVAS"?ve.replaceWith(oe):ve.before(oe):me.append(oe)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(H){return this.#n.get(H)}}e.AnnotationLayer=de},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function n(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}function i(o){return Math.max(0,Math.min(255,255*o))}class s{static CMYK_G([c,m,_,h]){return["G",1-Math.min(1,.3*c+.59*_+.11*m+h)]}static G_CMYK([c]){return["CMYK",0,0,0,1-c]}static G_RGB([c]){return["RGB",c,c,c]}static G_rgb([c]){return c=i(c),[c,c,c]}static G_HTML([c]){const m=n(c);return`#${m}${m}${m}`}static RGB_G([c,m,_]){return["G",.3*c+.59*m+.11*_]}static RGB_rgb(c){return c.map(i)}static RGB_HTML(c){return`#${c.map(n).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([c,m,_,h]){return["RGB",1-Math.min(1,c+h),1-Math.min(1,_+h),1-Math.min(1,m+h)]}static CMYK_rgb([c,m,_,h]){return[i(1-Math.min(1,c+h)),i(1-Math.min(1,_+h)),i(1-Math.min(1,m+h))]}static CMYK_HTML(c){const m=this.CMYK_RGB(c).slice(1);return this.RGB_HTML(m)}static RGB_CMYK([c,m,_]){const h=1-c,d=1-m,f=1-_,b=Math.min(h,d,f);return["CMYK",h,d,f,b]}}e.ColorConverters=s},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=i;const n={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};n.print_progress_percent="{{progress}}%";function i(c,m){switch(c){case"find_match_count":c=`find_match_count[${m.total===1?"one":"other"}]`;break;case"find_match_count_limit":c=`find_match_count_limit[${m.limit===1?"one":"other"}]`;break}return n[c]||""}function s(c,m){return m?c.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(_,h)=>h in m?m[h]:"{{"+h+"}}"):c}const o={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(c,m=null,_=i(c,m)){return s(_,m)},async translate(c){}};e.NullL10n=o},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var i=n(25);class s{static setupStorage(c,m,_,h,d){const f=h.getValue(m,{value:null});switch(_.name){case"textarea":if(f.value!==null&&(c.textContent=f.value),d==="print")break;c.addEventListener("input",b=>{h.setValue(m,{value:b.target.value})});break;case"input":if(_.attributes.type==="radio"||_.attributes.type==="checkbox"){if(f.value===_.attributes.xfaOn?c.setAttribute("checked",!0):f.value===_.attributes.xfaOff&&c.removeAttribute("checked"),d==="print")break;c.addEventListener("change",b=>{h.setValue(m,{value:b.target.checked?b.target.getAttribute("xfaOn"):b.target.getAttribute("xfaOff")})})}else{if(f.value!==null&&c.setAttribute("value",f.value),d==="print")break;c.addEventListener("input",b=>{h.setValue(m,{value:b.target.value})})}break;case"select":if(f.value!==null){c.setAttribute("value",f.value);for(const b of _.children)b.attributes.value===f.value?b.attributes.selected=!0:b.attributes.hasOwnProperty("selected")&&delete b.attributes.selected}c.addEventListener("input",b=>{const y=b.target.options,p=y.selectedIndex===-1?"":y[y.selectedIndex].value;h.setValue(m,{value:p})});break}}static setAttributes({html:c,element:m,storage:_=null,intent:h,linkService:d}){const{attributes:f}=m,b=c instanceof HTMLAnchorElement;f.type==="radio"&&(f.name=`${f.name}-${h}`);for(const[y,p]of Object.entries(f))if(p!=null)switch(y){case"class":p.length&&c.setAttribute(y,p.join(" "));break;case"dataId":break;case"id":c.setAttribute("data-element-id",p);break;case"style":Object.assign(c.style,p);break;case"textContent":c.textContent=p;break;default:(!b||y!=="href"&&y!=="newWindow")&&c.setAttribute(y,p)}b&&d.addLinkAttributes(c,f.href,f.newWindow),_&&f.dataId&&this.setupStorage(c,f.dataId,m,_)}static render(c){const m=c.annotationStorage,_=c.linkService,h=c.xfaHtml,d=c.intent||"display",f=document.createElement(h.name);h.attributes&&this.setAttributes({html:f,element:h,intent:d,linkService:_});const b=[[h,-1,f]],y=c.div;if(y.append(f),c.viewport){const v=`matrix(${c.viewport.transform.join(",")})`;y.style.transform=v}d!=="richText"&&y.setAttribute("class","xfaLayer xfaFont");const p=[];for(;b.length>0;){const[v,A,w]=b.at(-1);if(A+1===v.children.length){b.pop();continue}const P=v.children[++b.at(-1)[1]];if(P===null)continue;const{name:Z}=P;if(Z==="#text"){const z=document.createTextNode(P.value);p.push(z),w.append(z);continue}const Q=P?.attributes?.xmlns?document.createElementNS(P.attributes.xmlns,Z):document.createElement(Z);if(w.append(Q),P.attributes&&this.setAttributes({html:Q,element:P,storage:m,intent:d,linkService:_}),P.children&&P.children.length>0)b.push([P,-1,Q]);else if(P.value){const z=document.createTextNode(P.value);i.XfaText.shouldBuildText(Z)&&p.push(z),Q.append(z)}}for(const v of y.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:p}}static update(c){const m=`matrix(${c.viewport.transform.join(",")})`;c.div.style.transform=m,c.div.hidden=!1}}e.XfaLayer=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var i=n(1),s=n(4),o=n(29),c=n(6),m=n(5);class _ extends s.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#o=this.canvasPointerup.bind(this);#s=this.canvasPointerdown.bind(this);#a=new Path2D;#l=!1;#c=!1;#i=!1;#f=null;#d=0;#h=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(d){super({...d,name:"inkEditor"}),this.color=d.color||null,this.thickness=d.thickness||null,this.opacity=d.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(d){s.AnnotationEditor.initialize(d,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(d,f){switch(d){case i.AnnotationEditorParamsType.INK_THICKNESS:_._defaultThickness=f;break;case i.AnnotationEditorParamsType.INK_COLOR:_._defaultColor=f;break;case i.AnnotationEditorParamsType.INK_OPACITY:_._defaultOpacity=f/100;break}}updateParams(d,f){switch(d){case i.AnnotationEditorParamsType.INK_THICKNESS:this.#v(f);break;case i.AnnotationEditorParamsType.INK_COLOR:this.#g(f);break;case i.AnnotationEditorParamsType.INK_OPACITY:this.#m(f);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,_._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,_._defaultColor||s.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(_._defaultOpacity*100)]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||_._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,this.color||_._defaultColor||s.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??_._defaultOpacity))]]}#v(d){const f=this.thickness;this.addCommands({cmd:()=>{this.thickness=d,this.#A()},undo:()=>{this.thickness=f,this.#A()},mustExec:!0,type:i.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#g(d){const f=this.color;this.addCommands({cmd:()=>{this.color=d,this.#b()},undo:()=>{this.color=f,this.#b()},mustExec:!0,type:i.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(d){d/=100;const f=this.opacity;this.addCommands({cmd:()=>{this.opacity=d,this.#b()},undo:()=>{this.opacity=f,this.#b()},mustExec:!0,type:i.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#k(),this.#P()),this.isAttachedToDOM||(this.parent.add(this),this.#x()),this.#A()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#f.disconnect(),this.#f=null,super.remove())}setParent(d){!this.parent&&d?this._uiManager.removeShouldRescale(this):this.parent&&d===null&&this._uiManager.addShouldRescale(this),super.setParent(d)}onScaleChanging(){const[d,f]=this.parentDimensions,b=this.width*d,y=this.height*f;this.setDimensions(b,y)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#s))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#s))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#u(){const{parentRotation:d,parentDimensions:[f,b]}=this;switch(d){case 90:return[0,b,b,f];case 180:return[f,b,f,b];case 270:return[f,0,b,f];default:return[0,0,f,b]}}#y(){const{ctx:d,color:f,opacity:b,thickness:y,parentScale:p,scaleFactor:v}=this;d.lineWidth=y*p/v,d.lineCap="round",d.lineJoin="round",d.miterLimit=10,d.strokeStyle=`${f}${(0,m.opacityToHex)(b)}`}#S(d,f){this.canvas.addEventListener("contextmenu",c.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#o),this.canvas.removeEventListener("pointerdown",this.#s),this.isEditing=!0,this.#i||(this.#i=!0,this.#x(),this.thickness||=_._defaultThickness,this.color||=_._defaultColor||s.AnnotationEditor._defaultLineColor,this.opacity??=_._defaultOpacity),this.currentPath.push([d,f]),this.#c=!1,this.#y(),this.#p=()=>{this.#O(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#E(d,f){const[b,y]=this.currentPath.at(-1);if(this.currentPath.length>1&&d===b&&f===y)return;const p=this.currentPath;let v=this.#a;if(p.push([d,f]),this.#c=!0,p.length<=2){v.moveTo(...p[0]),v.lineTo(d,f);return}p.length===3&&(this.#a=v=new Path2D,v.moveTo(...p[0])),this.#j(v,...p.at(-3),...p.at(-2),d,f)}#R(){if(this.currentPath.length===0)return;const d=this.currentPath.at(-1);this.#a.lineTo(...d)}#C(d,f){this.#p=null,d=Math.min(Math.max(d,0),this.canvas.width),f=Math.min(Math.max(f,0),this.canvas.height),this.#E(d,f),this.#R();let b;if(this.currentPath.length!==1)b=this.#D();else{const w=[d,f];b=[[w,w.slice(),w.slice(),w]]}const y=this.#a,p=this.currentPath;this.currentPath=[],this.#a=new Path2D;const v=()=>{this.allRawPaths.push(p),this.paths.push(b),this.bezierPath2D.push(y),this.rebuild()},A=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#k(),this.#P()),this.#A())};this.addCommands({cmd:v,undo:A,mustExec:!0})}#O(){if(!this.#c)return;this.#c=!1;const d=Math.ceil(this.thickness*this.parentScale),f=this.currentPath.slice(-3),b=f.map(v=>v[0]),y=f.map(v=>v[1]);Math.min(...b)-d,Math.max(...b)+d,Math.min(...y)-d,Math.max(...y)+d;const{ctx:p}=this;p.save(),p.clearRect(0,0,this.canvas.width,this.canvas.height);for(const v of this.bezierPath2D)p.stroke(v);p.stroke(this.#a),p.restore()}#j(d,f,b,y,p,v,A){const w=(f+y)/2,P=(b+p)/2,Z=(y+v)/2,Q=(p+A)/2;d.bezierCurveTo(w+2*(y-w)/3,P+2*(p-P)/3,Z+2*(y-Z)/3,Q+2*(p-Q)/3,Z,Q)}#D(){const d=this.currentPath;if(d.length<=2)return[[d[0],d[0],d.at(-1),d.at(-1)]];const f=[];let b,[y,p]=d[0];for(b=1;b<d.length-2;b++){const[z,K]=d[b],[j,T]=d[b+1],I=(z+j)/2,Y=(K+T)/2,R=[y+2*(z-y)/3,p+2*(K-p)/3],U=[I+2*(z-I)/3,Y+2*(K-Y)/3];f.push([[y,p],R,U,[I,Y]]),[y,p]=[I,Y]}const[v,A]=d[b],[w,P]=d[b+1],Z=[y+2*(v-y)/3,p+2*(A-p)/3],Q=[w+2*(v-w)/3,P+2*(A-P)/3];return f.push([[y,p],Z,Q,[w,P]]),f}#b(){if(this.isEmpty()){this.#w();return}this.#y();const{canvas:d,ctx:f}=this;f.setTransform(1,0,0,1,0,0),f.clearRect(0,0,d.width,d.height),this.#w();for(const b of this.bezierPath2D)f.stroke(b)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#A(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(d){this._focusEventsAllowed&&(super.focusin(d),this.enableEditMode())}canvasPointerdown(d){d.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),d.preventDefault(),d.type!=="mouse"&&this.div.focus(),this.#S(d.offsetX,d.offsetY))}canvasPointermove(d){d.preventDefault(),this.#E(d.offsetX,d.offsetY)}canvasPointerup(d){d.preventDefault(),this.#N(d)}canvasPointerleave(d){this.#N(d)}#N(d){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#o),this.canvas.addEventListener("pointerdown",this.#s),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",c.noContextMenu)},10),this.#C(d.offsetX,d.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#k(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",s.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(d=>this.canvas?.setAttribute("aria-label",d)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#P(){this.#f=new ResizeObserver(d=>{const f=d[0].contentRect;f.width&&f.height&&this.setDimensions(f.width,f.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let d,f;this.width&&(d=this.x,f=this.y),super.render(),s.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(A=>this.div?.setAttribute("aria-label",A));const[b,y,p,v]=this.#u();if(this.setAt(b,y,0,0),this.setDims(p,v),this.#k(),this.width){const[A,w]=this.parentDimensions;this.setAspectRatio(this.width*A,this.height*w),this.setAt(d*A,f*w,this.width*A,this.height*w),this.#i=!0,this.#x(),this.setDims(this.width*A,this.height*w),this.#b(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#P(),this.div}#x(){if(!this.#i)return;const[d,f]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*d),this.canvas.height=Math.ceil(this.height*f),this.#w()}setDimensions(d,f){const b=Math.round(d),y=Math.round(f);if(this.#d===b&&this.#h===y)return;this.#d=b,this.#h=y,this.canvas.style.visibility="hidden";const[p,v]=this.parentDimensions;this.width=d/p,this.height=f/v,this.fixAndSetPosition(),this.#l&&this.#T(d,f),this.#x(),this.#b(),this.canvas.style.visibility="visible",this.fixDims()}#T(d,f){const b=this.#I(),y=(d-b)/this.#t,p=(f-b)/this.#e;this.scaleFactor=Math.min(y,p)}#w(){const d=this.#I()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+d,this.translationY*this.scaleFactor+d)}static#L(d){const f=new Path2D;for(let b=0,y=d.length;b<y;b++){const[p,v,A,w]=d[b];b===0&&f.moveTo(...p),f.bezierCurveTo(v[0],v[1],A[0],A[1],w[0],w[1])}return f}static#F(d,f,b){const[y,p,v,A]=f;switch(b){case 0:for(let w=0,P=d.length;w<P;w+=2)d[w]+=y,d[w+1]=A-d[w+1];break;case 90:for(let w=0,P=d.length;w<P;w+=2){const Z=d[w];d[w]=d[w+1]+y,d[w+1]=Z+p}break;case 180:for(let w=0,P=d.length;w<P;w+=2)d[w]=v-d[w],d[w+1]+=p;break;case 270:for(let w=0,P=d.length;w<P;w+=2){const Z=d[w];d[w]=v-d[w+1],d[w+1]=A-Z}break;default:throw new Error("Invalid rotation")}return d}static#B(d,f,b){const[y,p,v,A]=f;switch(b){case 0:for(let w=0,P=d.length;w<P;w+=2)d[w]-=y,d[w+1]=A-d[w+1];break;case 90:for(let w=0,P=d.length;w<P;w+=2){const Z=d[w];d[w]=d[w+1]-p,d[w+1]=Z-y}break;case 180:for(let w=0,P=d.length;w<P;w+=2)d[w]=v-d[w],d[w+1]-=p;break;case 270:for(let w=0,P=d.length;w<P;w+=2){const Z=d[w];d[w]=A-d[w+1],d[w+1]=v-Z}break;default:throw new Error("Invalid rotation")}return d}#U(d,f,b,y){const p=[],v=this.thickness/2,A=d*f+v,w=d*b+v;for(const P of this.paths){const Z=[],Q=[];for(let z=0,K=P.length;z<K;z++){const[j,T,I,Y]=P[z],R=d*j[0]+A,U=d*j[1]+w,G=d*T[0]+A,ue=d*T[1]+w,he=d*I[0]+A,se=d*I[1]+w,ee=d*Y[0]+A,W=d*Y[1]+w;z===0&&(Z.push(R,U),Q.push(R,U)),Z.push(G,ue,he,se,ee,W),Q.push(G,ue),z===K-1&&Q.push(ee,W)}p.push({bezier:_.#F(Z,y,this.rotation),points:_.#F(Q,y,this.rotation)})}return p}#M(){let d=1/0,f=-1/0,b=1/0,y=-1/0;for(const p of this.paths)for(const[v,A,w,P]of p){const Z=i.Util.bezierBoundingBox(...v,...A,...w,...P);d=Math.min(d,Z[0]),b=Math.min(b,Z[1]),f=Math.max(f,Z[2]),y=Math.max(y,Z[3])}return[d,b,f,y]}#I(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#A(d=!1){if(this.isEmpty())return;if(!this.#l){this.#b();return}const f=this.#M(),b=this.#I();this.#t=Math.max(s.AnnotationEditor.MIN_SIZE,f[2]-f[0]),this.#e=Math.max(s.AnnotationEditor.MIN_SIZE,f[3]-f[1]);const y=Math.ceil(b+this.#t*this.scaleFactor),p=Math.ceil(b+this.#e*this.scaleFactor),[v,A]=this.parentDimensions;this.width=y/v,this.height=p/A,this.setAspectRatio(y,p);const w=this.translationX,P=this.translationY;this.translationX=-f[0],this.translationY=-f[1],this.#x(),this.#b(),this.#d=y,this.#h=p,this.setDims(y,p);const Z=d?b/this.scaleFactor/2:0;this.translate(w-this.translationX-Z,P-this.translationY-Z)}static deserialize(d,f,b){if(d instanceof o.InkAnnotationElement)return null;const y=super.deserialize(d,f,b);y.thickness=d.thickness,y.color=i.Util.makeHexColor(...d.color),y.opacity=d.opacity;const[p,v]=y.pageDimensions,A=y.width*p,w=y.height*v,P=y.parentScale,Z=d.thickness/2;y.#l=!0,y.#d=Math.round(A),y.#h=Math.round(w);const{paths:Q,rect:z,rotation:K}=d;for(let{bezier:T}of Q){T=_.#B(T,z,K);const I=[];y.paths.push(I);let Y=P*(T[0]-Z),R=P*(T[1]-Z);for(let G=2,ue=T.length;G<ue;G+=6){const he=P*(T[G]-Z),se=P*(T[G+1]-Z),ee=P*(T[G+2]-Z),W=P*(T[G+3]-Z),$=P*(T[G+4]-Z),S=P*(T[G+5]-Z);I.push([[Y,R],[he,se],[ee,W],[$,S]]),Y=$,R=S}const U=this.#L(I);y.bezierPath2D.push(U)}const j=y.#M();return y.#t=Math.max(s.AnnotationEditor.MIN_SIZE,j[2]-j[0]),y.#e=Math.max(s.AnnotationEditor.MIN_SIZE,j[3]-j[1]),y.#T(A,w),y}serialize(){if(this.isEmpty())return null;const d=this.getRect(0,0),f=s.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:i.AnnotationEditorType.INK,color:f,thickness:this.thickness,opacity:this.opacity,paths:this.#U(this.scaleFactor/this.parentScale,this.translationX,this.translationY,d),pageIndex:this.pageIndex,rect:d,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}e.InkEditor=_},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var i=n(1),s=n(4),o=n(6),c=n(29);class m extends s.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#o=null;#s=null;#a=null;#l=null;#c=!1;#i=!1;static _type="stamp";constructor(h){super({...h,name:"stampEditor"}),this.#r=h.bitmapUrl,this.#o=h.bitmapFile}static initialize(h){s.AnnotationEditor.initialize(h)}static get supportedTypes(){const h=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,i.shadow)(this,"supportedTypes",h.map(d=>`image/${d}`))}static get supportedTypesStr(){return(0,i.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(h){return this.supportedTypes.includes(h)}static paste(h,d){d.pasteEditor(i.AnnotationEditorType.STAMP,{bitmapFile:h.getAsFile()})}#f(h,d=!1){if(!h){this.remove();return}this.#e=h.bitmap,d||(this.#t=h.id,this.#c=h.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#s&&this.div.focus()}#h(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(d=>this.#f(d,!0)).finally(()=>this.#d());return}if(this.#r){const d=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(d).then(f=>this.#f(f)).finally(()=>this.#d());return}if(this.#o){const d=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(d).then(f=>this.#f(f)).finally(()=>this.#d());return}const h=document.createElement("input");h.type="file",h.accept=m.supportedTypesStr,this.#n=new Promise(d=>{h.addEventListener("change",async()=>{if(!h.files||h.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const f=await this._uiManager.imageManager.getFromFile(h.files[0]);this.#f(f)}d()}),h.addEventListener("cancel",()=>{this.remove(),d()})}).finally(()=>this.#d()),h.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#s?.remove(),this.#s=null,this.#a?.disconnect(),this.#a=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#h();return}super.rebuild(),this.div!==null&&(this.#t&&this.#h(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let h,d;if(this.width&&(h=this.x,d=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#h(),this.width){const[f,b]=this.parentDimensions;this.setAt(h*f,d*b,this.width*f,this.height*b)}return this.div}#p(){const{div:h}=this;let{width:d,height:f}=this.#e;const[b,y]=this.pageDimensions,p=.75;if(this.width)d=this.width*b,f=this.height*y;else if(d>p*b||f>p*y){const P=Math.min(p*b/d,p*y/f);d*=P,f*=P}const[v,A]=this.parentDimensions;this.setDims(d*v/b,f*A/y),this._uiManager.enableWaiting(!1);const w=this.#s=document.createElement("canvas");h.append(w),h.hidden=!1,this.#m(d,f),this.#y(),this.#i||(this.parent.addUndoableEditor(this),this.#i=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#v(h,d){const[f,b]=this.parentDimensions;this.width=h/f,this.height=d/b,this.setDims(h,d),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const y=200;this.#l=setTimeout(()=>{this.#l=null,this.#m(h,d)},y)}#g(h,d){const{width:f,height:b}=this.#e;let y=f,p=b,v=this.#e;for(;y>2*h||p>2*d;){const A=y,w=p;y>2*h&&(y=y>=16384?Math.floor(y/2)-1:Math.ceil(y/2)),p>2*d&&(p=p>=16384?Math.floor(p/2)-1:Math.ceil(p/2));const P=new OffscreenCanvas(y,p);P.getContext("2d").drawImage(v,0,0,A,w,0,0,y,p),v=P.transferToImageBitmap()}return v}#m(h,d){h=Math.ceil(h),d=Math.ceil(d);const f=this.#s;if(!f||f.width===h&&f.height===d)return;f.width=h,f.height=d;const b=this.#c?this.#e:this.#g(h,d),y=f.getContext("2d");y.filter=this._uiManager.hcmFilter,y.drawImage(b,0,0,b.width,b.height,0,0,h,d)}#u(h){if(h){if(this.#c){const b=this._uiManager.imageManager.getSvgUrl(this.#t);if(b)return b}const d=document.createElement("canvas");return{width:d.width,height:d.height}=this.#e,d.getContext("2d").drawImage(this.#e,0,0),d.toDataURL()}if(this.#c){const[d,f]=this.pageDimensions,b=Math.round(this.width*d*o.PixelsPerInch.PDF_TO_CSS_UNITS),y=Math.round(this.height*f*o.PixelsPerInch.PDF_TO_CSS_UNITS),p=new OffscreenCanvas(b,y);return p.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,b,y),p.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this.#a=new ResizeObserver(h=>{const d=h[0].contentRect;d.width&&d.height&&this.#v(d.width,d.height)}),this.#a.observe(this.div)}static deserialize(h,d,f){if(h instanceof c.StampAnnotationElement)return null;const b=super.deserialize(h,d,f),{rect:y,bitmapUrl:p,bitmapId:v,isSvg:A,accessibilityData:w}=h;v&&f.imageManager.isValidId(v)?b.#t=v:b.#r=p,b.#c=A;const[P,Z]=b.pageDimensions;return b.width=(y[2]-y[0])/P,b.height=(y[3]-y[1])/Z,w&&(b.altTextData=w),b}serialize(h=!1,d=null){if(this.isEmpty())return null;const f={annotationType:i.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(h)return f.bitmapUrl=this.#u(!0),f.accessibilityData=this.altTextData,f;const{decorative:b,altText:y}=this.altTextData;if(!b&&y&&(f.accessibilityData={type:"Figure",alt:y}),d===null)return f;d.stamps||=new Map;const p=this.#c?(f.rect[2]-f.rect[0])*(f.rect[3]-f.rect[1]):null;if(!d.stamps.has(this.#t))d.stamps.set(this.#t,{area:p,serialized:f}),f.bitmap=this.#u(!1);else if(this.#c){const v=d.stamps.get(this.#t);p>v.area&&(v.area=p,v.serialized.bitmap.close(),v.serialized.bitmap=this.#u(!1))}return f}}e.StampEditor=m}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__w_pdfjs_require__),n.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return o.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return c.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return m.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"DOMSVGFactory",{enumerable:!0,get:function(){return i.DOMSVGFactory}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return _.GlobalWorkerOptions}}),Object.defineProperty(t,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(t,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return n.SVGGraphics}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return h.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return i.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(t,"noContextMenu",{enumerable:!0,get:function(){return i.noContextMenu}}),Object.defineProperty(t,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return i.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return s.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return n.version}});var e=__w_pdfjs_require__(1),n=__w_pdfjs_require__(2),i=__w_pdfjs_require__(6),s=__w_pdfjs_require__(26),o=__w_pdfjs_require__(27),c=__w_pdfjs_require__(5),m=__w_pdfjs_require__(29),_=__w_pdfjs_require__(14),h=__w_pdfjs_require__(32)})(),__webpack_exports__})())}(pdf)),pdf.exports}var hasRequiredCore_min;function requireCore_min(){return hasRequiredCore_min||(hasRequiredCore_min=1,function(t){var e=requireReact(),n=requirePdf();function i(te){var fe=Object.create(null);return te&&Object.keys(te).forEach(function(be){if(be!=="default"){var Ee=Object.getOwnPropertyDescriptor(te,be);Object.defineProperty(fe,be,Ee.get?Ee:{enumerable:!0,get:function(){return te[be]}})}}),fe.default=te,Object.freeze(fe)}var s,o=i(e),c=i(n);t.AnnotationType=void 0,(s=t.AnnotationType||(t.AnnotationType={}))[s.Text=1]="Text",s[s.Link=2]="Link",s[s.FreeText=3]="FreeText",s[s.Line=4]="Line",s[s.Square=5]="Square",s[s.Circle=6]="Circle",s[s.Polygon=7]="Polygon",s[s.Polyline=8]="Polyline",s[s.Highlight=9]="Highlight",s[s.Underline=10]="Underline",s[s.Squiggly=11]="Squiggly",s[s.StrikeOut=12]="StrikeOut",s[s.Stamp=13]="Stamp",s[s.Caret=14]="Caret",s[s.Ink=15]="Ink",s[s.Popup=16]="Popup",s[s.FileAttachment=17]="FileAttachment";var m=function(te,fe){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(be,Ee){be.__proto__=Ee}||function(be,Ee){for(var we in Ee)Object.prototype.hasOwnProperty.call(Ee,we)&&(be[we]=Ee[we])},m(te,fe)};function _(te,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Class extends value "+String(fe)+" is not a constructor or null");function be(){this.constructor=te}m(te,fe),te.prototype=fe===null?Object.create(fe):(be.prototype=fe.prototype,new be)}var h,d=function(){return d=Object.assign||function(te){for(var fe,be=1,Ee=arguments.length;be<Ee;be++)for(var we in fe=arguments[be])Object.prototype.hasOwnProperty.call(fe,we)&&(te[we]=fe[we]);return te},d.apply(this,arguments)};t.TextDirection=void 0,(h=t.TextDirection||(t.TextDirection={})).RightToLeft="RTL",h.LeftToRight="LTR";var f,b=o.createContext({currentTheme:"light",direction:t.TextDirection.LeftToRight,setCurrentTheme:function(){}}),y=function(te){var fe=[];return Object.keys(te).forEach(function(be){be&&te[be]&&fe.push(be)}),fe.join(" ")},p=typeof window<"u"?o.useLayoutEffect:o.useEffect,v=function(te){var fe=o.useRef(null),be=te.once,Ee=te.threshold,we=te.onVisibilityChanged;return p(function(){var Re=fe.current;if(Re){var Oe=new IntersectionObserver(function(Me){Me.forEach(function(_e){var Ce=_e.isIntersecting,Ie=_e.intersectionRatio;we({isVisible:Ce,ratio:Ie}),Ce&&be&&(Oe.unobserve(Re),Oe.disconnect())})},{threshold:Ee||0});return Oe.observe(Re),function(){Oe.unobserve(Re),Oe.disconnect()}}},[]),fe},A=function(te){var fe=te.children,be=te.ignoreDirection,Ee=be!==void 0&&be,we=te.size,Re=we===void 0?24:we,Oe=o.useContext(b).direction,Me=!Ee&&Oe===t.TextDirection.RightToLeft,_e="".concat(Re||24,"px");return o.createElement("svg",{"aria-hidden":"true",className:y({"rpv-core__icon":!0,"rpv-core__icon--rtl":Me}),focusable:"false",height:_e,viewBox:"0 0 24 24",width:_e},fe)},w=function(){return o.createElement(A,{size:16},o.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},P=function(te){var fe=te.children,be=te.testId,Ee=te.onClick,we=o.useContext(b).direction===t.TextDirection.RightToLeft,Re=be?{"data-testid":be}:{};return o.createElement("button",d({className:y({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":we}),type:"button",onClick:Ee},Re),fe)},Z=function(te){var fe=te.size,be=fe===void 0?"4rem":fe,Ee=te.testId,we=o.useState(!1),Re=we[0],Oe=we[1],Me=Ee?{"data-testid":Ee}:{},_e=v({onVisibilityChanged:function(Ce){Oe(Ce.isVisible)}});return o.createElement("div",d({},Me,{className:y({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Re}),ref:_e,style:{height:be,width:be}}))},Q=function(te){var fe=te.ariaLabel,be=fe===void 0?"":fe,Ee=te.autoFocus,we=Ee!==void 0&&Ee,Re=te.placeholder,Oe=Re===void 0?"":Re,Me=te.testId,_e=te.type,Ce=_e===void 0?"text":_e,Ie=te.value,Ke=Ie===void 0?"":Ie,Qe=te.onChange,Ye=te.onKeyDown,dt=Ye===void 0?function(){}:Ye,st=o.useContext(b).direction,at=o.useRef(),jt=st===t.TextDirection.RightToLeft,Et={ref:at,"data-testid":"","aria-label":be,className:y({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":jt}),placeholder:Oe,value:Ke,onChange:function(At){return Qe(At.target.value)},onKeyDown:dt};return Me&&(Et["data-testid"]=Me),p(function(){if(we){var At=at.current;if(At){var Tt=window.scrollX,yt=window.scrollY;At.focus(),window.scrollTo(Tt,yt)}}},[]),Ce==="text"?o.createElement("input",d({type:"text"},Et)):o.createElement("input",d({type:"password"},Et))};(function(te){te[te.ExitFullScreen=0]="ExitFullScreen",te[te.FullScreenChange=1]="FullScreenChange",te[te.FullScreenElement=2]="FullScreenElement",te[te.FullScreenEnabled=3]="FullScreenEnabled",te[te.RequestFullScreen=4]="RequestFullScreen"})(f||(f={}));var z,K={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},j={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},T={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},I=typeof window<"u",Y=I&&(f.FullScreenEnabled in document&&K||j.FullScreenEnabled in document&&j||T.FullScreenEnabled in document&&T)||K,R=function(){return I&&Y.FullScreenEnabled in document&&document[Y.FullScreenEnabled]===!0},U=function(te){return I?te[Y.ExitFullScreen]():Promise.resolve({})},G=function(){return I?document[Y.FullScreenElement]:null},ue=function(te,fe){var be=o.useRef(),Ee=function(){be.current&&clearTimeout(be.current)};return o.useEffect(function(){return function(){return Ee()}},[]),o.useCallback(function(){for(var we=[],Re=0;Re<arguments.length;Re++)we[Re]=arguments[Re];Ee(),be.current=setTimeout(function(){te.apply(void 0,we)},fe)},[te,fe])},he=function(){var te=o.useRef(!1);return o.useEffect(function(){return te.current=!0,function(){te.current=!1}},[]),te},se=function(te){var fe=o.useRef(te);return o.useEffect(function(){fe.current=te},[te]),fe.current};(function(te){te.NotRenderedYet="NotRenderedYet",te.Rendering="Rendering",te.Rendered="Rendered"})(z||(z={}));var ee,W=-9999,$=function(te){var fe=te.doc,be=fe.numPages,Ee=fe.loadingTask.docId,we=o.useMemo(function(){return Array(be).fill(null).map(function(Me,_e){return{pageIndex:_e,renderStatus:z.NotRenderedYet,visibility:W}})},[Ee]),Re=o.useRef({currentRenderingPage:-1,startRange:0,endRange:be-1,visibilities:we}),Oe=function(Me,_e){Re.current.visibilities[Me].visibility=_e};return{getHighestPriorityPage:function(){var Me=Re.current.visibilities.slice(Re.current.startRange,Re.current.endRange+1).filter(function(Qe){return Qe.visibility>W});if(!Me.length)return-1;for(var _e=Me[0].pageIndex,Ce=Me[Me.length-1].pageIndex,Ie=Me.length,Ke=0;Ke<Ie;Ke++){if(Me[Ke].renderStatus===z.Rendering)return-1;if(Me[Ke].renderStatus===z.NotRenderedYet)return Me[Ke].pageIndex}return Ce+1<be&&Re.current.visibilities[Ce+1].renderStatus!==z.Rendered?Ce+1:_e-1>=0&&Re.current.visibilities[_e-1].renderStatus!==z.Rendered?_e-1:-1},isInRange:function(Me){return Me>=Re.current.startRange&&Me<=Re.current.endRange},markNotRendered:function(){for(var Me=0;Me<be;Me++)Re.current.visibilities[Me].renderStatus=z.NotRenderedYet},markRendered:function(Me){Re.current.visibilities[Me].renderStatus=z.Rendered},markRendering:function(Me){Re.current.currentRenderingPage!==-1&&Re.current.currentRenderingPage!==Me&&Re.current.visibilities[Re.current.currentRenderingPage].renderStatus===z.Rendering&&(Re.current.visibilities[Re.current.currentRenderingPage].renderStatus=z.NotRenderedYet),Re.current.visibilities[Me].renderStatus=z.Rendering,Re.current.currentRenderingPage=Me},setOutOfRange:function(Me){Oe(Me,W)},setRange:function(Me,_e){Re.current.startRange=Me,Re.current.endRange=_e;for(var Ce=0;Ce<be;Ce++)(Ce<Me||Ce>_e)&&(Re.current.visibilities[Ce].visibility=W,Re.current.visibilities[Ce].renderStatus=z.NotRenderedYet)},setVisibility:Oe}},S={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},J=o.createContext({l10n:S,setL10n:function(){}}),ae=0,D=function(){return ae++},de=function(te,fe,be){var Ee=function(we){var Re=fe.current;if(Re){var Oe=we.target;if(Oe instanceof Element&&Oe.shadowRoot){var Me=we.composedPath();Me.length>0&&!Re.contains(Me[0])&&be()}else Re.contains(Oe)||be()}};o.useEffect(function(){if(te){var we={capture:!0};return document.addEventListener("click",Ee,we),function(){document.removeEventListener("click",Ee,we)}}},[])},ce=function(te){var fe=function(be){be.key==="Escape"&&te()};o.useEffect(function(){return document.addEventListener("keyup",fe),function(){document.removeEventListener("keyup",fe)}},[])},H=function(te){var fe=te.ariaControlsSuffix,be=te.children,Ee=te.closeOnClickOutside,we=te.closeOnEscape,Re=te.onToggle,Oe=o.useRef(),Me=o.useContext(b).direction===t.TextDirection.RightToLeft;return o.useEffect(function(){var _e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=_e}},[]),ce(function(){Oe.current&&we&&Re()}),de(Ee,Oe,Re),p(function(){var _e=Oe.current;if(_e){var Ce=.75*document.body.clientHeight;_e.getBoundingClientRect().height>=Ce&&(_e.style.overflow="auto",_e.style.maxHeight="".concat(Ce,"px"))}},[]),o.createElement("div",{"aria-modal":"true",className:y({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Me}),id:"rpv-core__modal-body-".concat(fe),ref:Oe,role:"dialog",tabIndex:-1},be)},ne=function(te){var fe=te.children;return o.createElement("div",{className:"rpv-core__modal-overlay"},fe)};t.ToggleStatus=void 0,(ee=t.ToggleStatus||(t.ToggleStatus={})).Close="Close",ee.Open="Open",ee.Toggle="Toggle";var oe,me=function(te){var fe=o.useState(te),be=fe[0],Ee=fe[1];return{opened:be,toggle:function(we){switch(we){case t.ToggleStatus.Close:Ee(!1);break;case t.ToggleStatus.Open:Ee(!0);break;case t.ToggleStatus.Toggle:default:Ee(function(Re){return!Re})}}}},ve=function(te){var fe=te.content,be=te.isOpened,Ee=be!==void 0&&be,we=te.target,Re=me(Ee),Oe=Re.opened,Me=Re.toggle;return o.createElement(o.Fragment,null,we&&we(Me,Oe),Oe&&fe(Me))};t.Position=void 0,(oe=t.Position||(t.Position={})).TopLeft="TOP_LEFT",oe.TopCenter="TOP_CENTER",oe.TopRight="TOP_RIGHT",oe.RightTop="RIGHT_TOP",oe.RightCenter="RIGHT_CENTER",oe.RightBottom="RIGHT_BOTTOM",oe.BottomLeft="BOTTOM_LEFT",oe.BottomCenter="BOTTOM_CENTER",oe.BottomRight="BOTTOM_RIGHT",oe.LeftTop="LEFT_TOP",oe.LeftCenter="LEFT_CENTER",oe.LeftBottom="LEFT_BOTTOM";var ye,xe,je,Je,Le,qe,ze,ke,De=function(te,fe,be,Ee,we){p(function(){var Re=fe.current,Oe=te.current,Me=be.current;if(Oe&&Re&&Me){var _e=Me.getBoundingClientRect(),Ce=function(Qe,Ye,dt,st){var at=Ye.getBoundingClientRect(),jt=Qe.getBoundingClientRect(),Et=jt.height,At=jt.width,Tt=0,yt=0;switch(dt){case t.Position.TopLeft:Tt=at.top-Et,yt=at.left;break;case t.Position.TopCenter:Tt=at.top-Et,yt=at.left+at.width/2-At/2;break;case t.Position.TopRight:Tt=at.top-Et,yt=at.left+at.width-At;break;case t.Position.RightTop:Tt=at.top,yt=at.left+at.width;break;case t.Position.RightCenter:Tt=at.top+at.height/2-Et/2,yt=at.left+at.width;break;case t.Position.RightBottom:Tt=at.top+at.height-Et,yt=at.left+at.width;break;case t.Position.BottomLeft:Tt=at.top+at.height,yt=at.left;break;case t.Position.BottomCenter:Tt=at.top+at.height,yt=at.left+at.width/2-At/2;break;case t.Position.BottomRight:Tt=at.top+at.height,yt=at.left+at.width-At;break;case t.Position.LeftTop:Tt=at.top,yt=at.left-At;break;case t.Position.LeftCenter:Tt=at.top+at.height/2-Et/2,yt=at.left-At;break;case t.Position.LeftBottom:Tt=at.top+at.height-Et,yt=at.left-At}return{left:yt+(st.left||0),top:Tt+(st.top||0)}}(Oe,Re,Ee,we),Ie=Ce.top,Ke=Ce.left;Oe.style.top="".concat(Ie-_e.top,"px"),Oe.style.left="".concat(Ke-_e.left,"px")}},[])},tt=function(te){var fe,be=te.customClassName,Ee=te.position;return o.createElement("div",{className:y((fe={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Ee===t.Position.TopLeft,"rpv-core__arrow--tc":Ee===t.Position.TopCenter,"rpv-core__arrow--tr":Ee===t.Position.TopRight,"rpv-core__arrow--rt":Ee===t.Position.RightTop,"rpv-core__arrow--rc":Ee===t.Position.RightCenter,"rpv-core__arrow--rb":Ee===t.Position.RightBottom,"rpv-core__arrow--bl":Ee===t.Position.BottomLeft,"rpv-core__arrow--bc":Ee===t.Position.BottomCenter,"rpv-core__arrow--br":Ee===t.Position.BottomRight,"rpv-core__arrow--lt":Ee===t.Position.LeftTop,"rpv-core__arrow--lc":Ee===t.Position.LeftCenter,"rpv-core__arrow--lb":Ee===t.Position.LeftBottom},fe["".concat(be)]=be!=="",fe))})},Xe=function(te){var fe=te.ariaControlsSuffix,be=te.children,Ee=te.closeOnClickOutside,we=te.offset,Re=te.position,Oe=te.targetRef,Me=te.onClose,_e=o.useRef(),Ce=o.useRef(),Ie=o.useRef(),Ke=o.useContext(b).direction===t.TextDirection.RightToLeft;de(Ee,_e,Me),De(_e,Oe,Ie,Re,we),p(function(){var Ye=Ce.current;if(Ye){var dt=.75*document.body.clientHeight;Ye.getBoundingClientRect().height>=dt&&(Ye.style.overflow="auto",Ye.style.maxHeight="".concat(dt,"px"))}},[]);var Qe="rpv-core__popover-body-inner-".concat(fe);return o.createElement(o.Fragment,null,o.createElement("div",{ref:Ie,style:{left:0,position:"absolute",top:0}}),o.createElement("div",{"aria-describedby":Qe,className:y({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":Ke}),id:"rpv-core__popover-body-".concat(fe),ref:_e,role:"dialog",tabIndex:-1},o.createElement(tt,{customClassName:"rpv-core__popover-body-arrow",position:Re}),o.createElement("div",{id:Qe,ref:Ce},be)))},rt=function(te){var fe=te.closeOnEscape,be=te.onClose,Ee=o.useRef();return ce(function(){Ee.current&&fe&&be()}),o.createElement("div",{className:"rpv-core__popover-overlay",ref:Ee})},pt=function(te){var fe=te.ariaControlsSuffix,be=te.children,Ee=te.contentRef,we=te.offset,Re=te.position,Oe=te.targetRef,Me=o.useRef(),_e=o.useContext(b).direction===t.TextDirection.RightToLeft;return De(Ee,Oe,Me,Re,we),o.createElement(o.Fragment,null,o.createElement("div",{ref:Me,style:{left:0,position:"absolute",top:0}}),o.createElement("div",{className:y({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":_e}),id:"rpv-core__tooltip-body-".concat(fe),ref:Ee,role:"tooltip"},o.createElement(tt,{customClassName:"rpv-core__tooltip-body-arrow",position:Re}),o.createElement("div",{className:"rpv-core__tooltip-body-content"},be)))};t.FullScreenMode=void 0,(ye=t.FullScreenMode||(t.FullScreenMode={})).Normal="Normal",ye.Entering="Entering",ye.Entered="Entered",ye.EnteredCompletely="EnteredCompletely",ye.Exitting="Exitting",ye.Exited="Exited",t.LayerRenderStatus=void 0,(xe=t.LayerRenderStatus||(t.LayerRenderStatus={}))[xe.PreRender=0]="PreRender",xe[xe.DidRender=1]="DidRender",t.PageMode=void 0,(je=t.PageMode||(t.PageMode={})).Attachments="UseAttachments",je.Bookmarks="UseOutlines",je.ContentGroup="UseOC",je.Default="UserNone",je.FullScreen="FullScreen",je.Thumbnails="UseThumbs",t.PasswordStatus=void 0,(Je=t.PasswordStatus||(t.PasswordStatus={})).RequiredPassword="RequiredPassword",Je.WrongPassword="WrongPassword",t.RotateDirection=void 0,(Le=t.RotateDirection||(t.RotateDirection={})).Backward="Backward",Le.Forward="Forward",t.ScrollMode=void 0,(qe=t.ScrollMode||(t.ScrollMode={})).Page="Page",qe.Horizontal="Horizontal",qe.Vertical="Vertical",qe.Wrapped="Wrapped",t.SpecialZoomLevel=void 0,(ze=t.SpecialZoomLevel||(t.SpecialZoomLevel={})).ActualSize="ActualSize",ze.PageFit="PageFit",ze.PageWidth="PageWidth",t.ViewMode=void 0,(ke=t.ViewMode||(t.ViewMode={})).DualPage="DualPage",ke.DualPageWithCover="DualPageWithCover",ke.SinglePage="SinglePage";var vt,Pt=function(te,fe){return te.reduce(function(be,Ee,we){return we%fe?be[be.length-1].push(Ee):be.push([Ee]),be},[])},Be=function(te,fe){switch(fe[1].name){case"XYZ":return{bottomOffset:function(be,Ee){return fe[3]===null?Ee:fe[3]},leftOffset:function(be,Ee){return fe[2]===null?0:fe[2]},pageIndex:te,scaleTo:fe[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:te,scaleTo:t.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:fe[2],leftOffset:0,pageIndex:te,scaleTo:t.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:te,scaleTo:1}}},Ve=new Map,mt=new Map,ht=function(te,fe){return"".concat(te.loadingTask.docId,"___").concat(fe.num,"R").concat(fe.gen===0?"":fe.gen)},wt=function(te,fe,be){Ve.set(ht(te,fe),be)},Ut=function(te,fe){if(!te)return Promise.reject("The document is not loaded yet");var be="".concat(te.loadingTask.docId,"___").concat(fe),Ee=mt.get(be);return Ee?Promise.resolve(Ee):new Promise(function(we,Re){te.getPage(fe+1).then(function(Oe){mt.set(be,Oe),Oe.ref&&wt(te,Oe.ref,fe),we(Oe)})})},gn=function(te,fe){return new Promise(function(be){new Promise(function(Ee){typeof fe=="string"?te.getDestination(fe).then(function(we){Ee(we)}):Ee(fe)}).then(function(Ee){if(typeof Ee[0]=="object"&&Ee[0]!==null){var we=Ee[0],Re=function(Me,_e){var Ce=ht(Me,_e);return Ve.has(Ce)?Ve.get(Ce):null}(te,we);Re===null?te.getPageIndex(we).then(function(Me){wt(te,we,Me),gn(te,fe).then(function(_e){return be(_e)})}):be(Be(Re,Ee))}else{var Oe=Be(Ee[0],Ee);be(Oe)}})})};(function(te){te[te.Solid=1]="Solid",te[te.Dashed=2]="Dashed",te[te.Beveled=3]="Beveled",te[te.Inset=4]="Inset",te[te.Underline=5]="Underline"})(vt||(vt={}));var Gt,et=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Pe=function(te,fe,be,Ee){var we=parseInt(te,10);return we>=fe&&we<=be?we:Ee},Te=function(te){return te.contentsObj?te.contentsObj.str:te.contents||""},ct=function(te){return te.titleObj?te.titleObj.str:te.title||""},zt=function(te){var fe=te.annotation,be=o.useContext(b).direction,Ee=ct(fe),we=Te(fe),Re=be===t.TextDirection.RightToLeft,Oe=o.useRef(),Me="";if(fe.modificationDate){var _e=function(Ce){var Ie=et.exec(Ce);if(!Ie)return null;var Ke=parseInt(Ie[1],10),Qe=Pe(Ie[2],1,12,1)-1,Ye=Pe(Ie[3],1,31,1),dt=Pe(Ie[4],0,23,0),st=Pe(Ie[5],0,59,0),at=Pe(Ie[6],0,59,0),jt=Ie[7]||"Z",Et=Pe(Ie[8],0,23,0),At=Pe(Ie[9],0,59,0);switch(jt){case"-":dt+=Et,st+=At;break;case"+":dt-=Et,st-=At}return new Date(Date.UTC(Ke,Qe,Ye,dt,st,at))}(fe.modificationDate);Me=_e?"".concat(_e.toLocaleDateString(),", ").concat(_e.toLocaleTimeString()):""}return o.useLayoutEffect(function(){if(Oe.current){var Ce=document.querySelector('[data-annotation-id="'.concat(fe.id,'"]'));if(Ce){var Ie=Ce;return Ie.style.zIndex+=1,function(){Ie.style.zIndex="".concat(parseInt(Ie.style.zIndex,10)-1)}}}},[]),o.createElement("div",{ref:Oe,className:y({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Re}),style:{top:fe.annotationType===t.AnnotationType.Popup?"":"100%"}},Ee&&o.createElement(o.Fragment,null,o.createElement("div",{className:y({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Re,"rpv-core__annotation-popup-title--rtl":Re})},Ee),o.createElement("div",{className:"rpv-core__annotation-popup-date"},Me)),we&&o.createElement("div",{className:"rpv-core__annotation-popup-content"},we.split(`
`).map(function(Ce,Ie){return o.createElement(o.Fragment,{key:Ie},Ce,o.createElement("br",null))})))};(function(te){te.Click="Click",te.Hover="Hover"})(Gt||(Gt={}));var It,Wt=function(te){var fe,be=te.annotation,Ee=te.children,we=te.ignoreBorder,Re=te.hasPopup,Oe=te.isRenderable,Me=te.page,_e=te.viewport,Ce=be.rect,Ie=function(){var Ct=me(!1),rn=Ct.opened,Qt=Ct.toggle,un=o.useState(Gt.Hover),cn=un[0],nn=un[1];return{opened:rn,closeOnHover:function(){cn===Gt.Hover&&Qt(t.ToggleStatus.Close)},openOnHover:function(){cn===Gt.Hover&&Qt(t.ToggleStatus.Open)},toggleOnClick:function(){switch(cn){case Gt.Click:rn&&nn(Gt.Hover),Qt(t.ToggleStatus.Toggle);break;case Gt.Hover:nn(Gt.Click),Qt(t.ToggleStatus.Open)}}}}(),Ke=Ie.closeOnHover,Qe=Ie.opened,Ye=Ie.openOnHover,dt=Ie.toggleOnClick,st=(fe=[Ce[0],Me.view[3]+Me.view[1]-Ce[1],Ce[2],Me.view[3]+Me.view[1]-Ce[3]],[Math.min(fe[0],fe[2]),Math.min(fe[1],fe[3]),Math.max(fe[0],fe[2]),Math.max(fe[1],fe[3])]),at=Ce[2]-Ce[0],jt=Ce[3]-Ce[1],Et={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!we&&be.borderStyle.width>0){switch(be.borderStyle.style){case vt.Dashed:Et.borderStyle="dashed";break;case vt.Solid:Et.borderStyle="solid";break;case vt.Underline:Et=Object.assign({borderBottomStyle:"solid"},Et);case vt.Beveled:case vt.Inset:}var At=be.borderStyle.width;Et.borderWidth="".concat(At,"px"),be.borderStyle.style!==vt.Underline&&(at-=2*At,jt-=2*At);var Tt=be.borderStyle,yt=Tt.horizontalCornerRadius,Dt=Tt.verticalCornerRadius;(yt>0||Dt>0)&&(Et.borderRadius="".concat(yt,"px / ").concat(Dt,"px")),be.color?Et.borderColor="rgb(".concat(0|be.color[0],", ").concat(0|be.color[1],", ").concat(0|be.color[2],")"):Et.borderWidth="0"}return o.createElement(o.Fragment,null,Oe&&Ee({popup:{opened:Qe,closeOnHover:Ke,openOnHover:Ye,toggleOnClick:dt},slot:{attrs:{style:Object.assign({height:"".concat(jt,"px"),left:"".concat(st[0],"px"),top:"".concat(st[1],"px"),transform:"matrix(".concat(_e.transform.join(","),")"),transformOrigin:"-".concat(st[0],"px -").concat(st[1],"px"),width:"".concat(at,"px")},Et)},children:o.createElement(o.Fragment,null,Re&&Qe&&o.createElement(zt,{annotation:be}))}}))},Wn=function(te){var fe=te.annotation,be=te.page,Ee=te.viewport,we=fe.hasPopup===!1,Re=ct(fe),Oe=Te(fe),Me=!!(fe.hasPopup||Re||Oe);return o.createElement(Wt,{annotation:fe,hasPopup:we,ignoreBorder:!0,isRenderable:Me,page:be,viewport:Ee},function(_e){return o.createElement("div",d({},_e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":fe.id,onClick:_e.popup.toggleOnClick,onMouseEnter:_e.popup.openOnHover,onMouseLeave:_e.popup.closeOnHover}),_e.slot.children)})},Vn=function(te){var fe=te.annotation,be=te.page,Ee=te.viewport,we=fe.hasPopup===!1,Re=ct(fe),Oe=Te(fe),Me=!!(fe.hasPopup||Re||Oe),_e=fe.rect,Ce=_e[2]-_e[0],Ie=_e[3]-_e[1],Ke=fe.borderStyle.width;return o.createElement(Wt,{annotation:fe,hasPopup:we,ignoreBorder:!0,isRenderable:Me,page:be,viewport:Ee},function(Qe){return o.createElement("div",d({},Qe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":fe.id,onClick:Qe.popup.toggleOnClick,onMouseEnter:Qe.popup.openOnHover,onMouseLeave:Qe.popup.closeOnHover}),o.createElement("svg",{height:"".concat(Ie,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ce," ").concat(Ie),width:"".concat(Ce,"px")},o.createElement("circle",{cy:Ie/2,fill:"none",rx:Ce/2-Ke/2,ry:Ie/2-Ke/2,stroke:"transparent",strokeWidth:Ke||1})),Qe.slot.children)})},cr=function(te){var fe=te.annotation,be=te.page,Ee=te.viewport,we=ct(fe),Re=Te(fe),Oe=!(fe.hasPopup!==!1||!we&&!Re),Me=function(){var _e,Ce,Ie,Ke,Qe=fe.file;Qe&&(_e=Qe.filename,Ce=Qe.content,Ie=typeof Ce=="string"?"":URL.createObjectURL(new Blob([Ce],{type:""})),(Ke=document.createElement("a")).style.display="none",Ke.href=Ie||_e,Ke.setAttribute("download",function(Ye){var dt=Ye.split("/").pop();return dt?dt.split("#")[0].split("?")[0]:Ye}(_e)),document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke),Ie&&URL.revokeObjectURL(Ie))};return o.createElement(Wt,{annotation:fe,hasPopup:Oe,ignoreBorder:!0,isRenderable:!0,page:be,viewport:Ee},function(_e){return o.createElement("div",d({},_e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":fe.id,onClick:_e.popup.toggleOnClick,onDoubleClick:Me,onMouseEnter:_e.popup.openOnHover,onMouseLeave:_e.popup.closeOnHover}),_e.slot.children)})},Cn=function(te){var fe=te.annotation,be=te.page,Ee=te.viewport,we=fe.hasPopup===!1,Re=ct(fe),Oe=Te(fe),Me=!!(fe.hasPopup||Re||Oe);return o.createElement(Wt,{annotation:fe,hasPopup:we,ignoreBorder:!0,isRenderable:Me,page:be,viewport:Ee},function(_e){return o.createElement("div",d({},_e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":fe.id,onClick:_e.popup.toggleOnClick,onMouseEnter:_e.popup.openOnHover,onMouseLeave:_e.popup.closeOnHover}),_e.slot.children)})},fr=function(te){var fe=te.annotation,be=te.page,Ee=te.viewport,we=ct(fe),Re=Te(fe),Oe=!(!we&&!Re),Me=!fe.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(fe.parentType)!==-1;return p(function(){if(fe.parentId){var _e=document.querySelector('[data-annotation-id="'.concat(fe.parentId,'"]')),Ce=document.querySelector('[data-annotation-id="'.concat(fe.id,'"]'));if(_e&&Ce){var Ie=parseFloat(_e.style.left),Ke=parseFloat(_e.style.top)+parseFloat(_e.style.height);Ce.style.left="".concat(Ie,"px"),Ce.style.top="".concat(Ke,"px"),Ce.style.transformOrigin="-".concat(Ie,"px -").concat(Ke,"px")}}},[]),o.createElement(Wt,{annotation:fe,hasPopup:Me,ignoreBorder:!1,isRenderable:Oe,page:be,viewport:Ee},function(_e){return o.createElement("div",d({},_e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":fe.id}),o.createElement(zt,{annotation:fe}))})},Qn=function(te){var fe=te.annotation,be=te.childAnnotation,Ee=te.page,we=te.viewport,Re=fe.hasPopup===!1,Oe=ct(fe),Me=Te(fe),_e=!!(fe.hasPopup||Oe||Me);if(fe.quadPoints&&fe.quadPoints.length>0){var Ce=fe.quadPoints.map(function(Ie){return Object.assign({},fe,{rect:[Ie[2].x,Ie[2].y,Ie[1].x,Ie[1].y],quadPoints:[]})});return o.createElement(o.Fragment,null,Ce.map(function(Ie,Ke){return o.createElement(Qn,{key:Ke,annotation:Ie,childAnnotation:be,page:Ee,viewport:we})}))}return o.createElement(Wt,{annotation:fe,hasPopup:Re,ignoreBorder:!0,isRenderable:_e,page:Ee,viewport:we},function(Ie){return o.createElement(o.Fragment,null,o.createElement("div",d({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":fe.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ie.slot.children),be&&be.annotationType===t.AnnotationType.Popup&&Ie.popup.opened&&o.createElement(fr,{annotation:be,page:Ee,viewport:we}))})},yr=function(te){var fe=te.annotation,be=te.page,Ee=te.viewport,we=fe.hasPopup===!1,Re=ct(fe),Oe=Te(fe),Me=!!(fe.hasPopup||Re||Oe),_e=fe.rect,Ce=_e[2]-_e[0],Ie=_e[3]-_e[1],Ke=fe.borderStyle.width;return o.createElement(Wt,{annotation:fe,hasPopup:we,ignoreBorder:!0,isRenderable:Me,page:be,viewport:Ee},function(Qe){return o.createElement("div",d({},Qe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":fe.id,onClick:Qe.popup.toggleOnClick,onMouseEnter:Qe.popup.openOnHover,onMouseLeave:Qe.popup.closeOnHover}),fe.inkLists&&fe.inkLists.length&&o.createElement("svg",{height:"".concat(Ie,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ce," ").concat(Ie),width:"".concat(Ce,"px")},fe.inkLists.map(function(Ye,dt){return o.createElement("polyline",{key:dt,fill:"none",stroke:"transparent",strokeWidth:Ke||1,points:Ye.map(function(st){return"".concat(st.x-_e[0],",").concat(_e[3]-st.y)}).join(" ")})})),Qe.slot.children)})},yn=function(te){var fe=te.annotation,be=te.page,Ee=te.viewport,we=fe.hasPopup===!1,Re=ct(fe),Oe=Te(fe),Me=!!(fe.hasPopup||Re||Oe),_e=fe.rect,Ce=_e[2]-_e[0],Ie=_e[3]-_e[1],Ke=fe.borderStyle.width;return o.createElement(Wt,{annotation:fe,hasPopup:we,ignoreBorder:!0,isRenderable:Me,page:be,viewport:Ee},function(Qe){return o.createElement("div",d({},Qe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":fe.id,onClick:Qe.popup.toggleOnClick,onMouseEnter:Qe.popup.openOnHover,onMouseLeave:Qe.popup.closeOnHover}),o.createElement("svg",{height:"".concat(Ie,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ce," ").concat(Ie),width:"".concat(Ce,"px")},o.createElement("line",{stroke:"transparent",strokeWidth:Ke||1,x1:_e[2]-fe.lineCoordinates[0],x2:_e[2]-fe.lineCoordinates[2],y1:_e[3]-fe.lineCoordinates[1],y2:_e[3]-fe.lineCoordinates[3]})),Qe.slot.children)})},Mr=/^([^\w]*)(javascript|data|vbscript)/im,vn=/&#(\w+)(^\w|;)?/g,zn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,jn=/^([^:]+):/gm,rr=function(te,fe){var be,Ee=(be=te||"",be.replace(vn,function(Me,_e){return String.fromCharCode(_e)})).replace(zn,"").trim();if(!Ee)return fe;var we=Ee[0];if(we==="."||we==="/")return Ee;var Re=Ee.match(jn);if(!Re)return Ee;var Oe=Re[0];return Mr.test(Oe)?fe:Ee},Jn=function(te){var fe,be=te.annotation,Ee=te.annotationContainerRef,we=te.doc,Re=te.outlines,Oe=te.page,Me=te.pageIndex,_e=te.scale,Ce=te.viewport,Ie=te.onExecuteNamedAction,Ke=te.onJumpFromLinkAnnotation,Qe=te.onJumpToDest,Ye=o.useRef(),dt=Re&&Re.length&&be.dest&&typeof be.dest=="string"?(fe=Re.find(function(Et){return Et.dest===be.dest}))===null||fe===void 0?void 0:fe.title:"",st=!!(be.url||be.dest||be.action||be.unsafeUrl),at={};if(be.url||be.unsafeUrl){var jt=rr(be.url||be.unsafeUrl,"");jt?at={"data-target":"external",href:jt,rel:"noopener noreferrer nofollow",target:be.newWindow?"_blank":"",title:jt}:st=!1}else at={href:"","data-annotation-link":be.id,onClick:function(Et){Et.preventDefault(),be.action?Ie(be.action):gn(we,be.dest).then(function(At){var Tt=Ye.current,yt=Ee.current;if(Tt&&yt){var Dt=Tt.getBoundingClientRect();yt.style.setProperty("height","100%"),yt.style.setProperty("width","100%");var Ct=yt.getBoundingClientRect();yt.style.removeProperty("height"),yt.style.removeProperty("width");var rn=(Dt.left-Ct.left)/_e,Qt=(Ct.bottom-Dt.bottom+Dt.height)/_e;Ke({bottomOffset:Qt,label:dt,leftOffset:rn,pageIndex:Me})}Qe(At)})}};return dt&&(at=Object.assign({},at,{title:dt,"aria-label":dt})),o.createElement(Wt,{annotation:be,hasPopup:!1,ignoreBorder:!1,isRenderable:st,page:Oe,viewport:Ce},function(Et){return o.createElement("div",d({},Et.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":be.id,"data-testid":"core__annotation--link-".concat(be.id)}),o.createElement("a",d({ref:Ye},at)))})},ui=function(te){var fe=te.annotation,be=te.page,Ee=te.viewport,we=fe.hasPopup===!1,Re=ct(fe),Oe=Te(fe),Me=!!(fe.hasPopup||Re||Oe),_e=fe.rect,Ce=_e[2]-_e[0],Ie=_e[3]-_e[1],Ke=fe.borderStyle.width;return o.createElement(Wt,{annotation:fe,hasPopup:we,ignoreBorder:!0,isRenderable:Me,page:be,viewport:Ee},function(Qe){return o.createElement("div",d({},Qe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":fe.id,onClick:Qe.popup.toggleOnClick,onMouseEnter:Qe.popup.openOnHover,onMouseLeave:Qe.popup.closeOnHover}),fe.vertices&&fe.vertices.length&&o.createElement("svg",{height:"".concat(Ie,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ce," ").concat(Ie),width:"".concat(Ce,"px")},o.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:Ke||1,points:fe.vertices.map(function(Ye){return"".concat(Ye.x-_e[0],",").concat(_e[3]-Ye.y)}).join(" ")})),Qe.slot.children)})},Dr=function(te){var fe=te.annotation,be=te.page,Ee=te.viewport,we=fe.hasPopup===!1,Re=ct(fe),Oe=Te(fe),Me=!!(fe.hasPopup||Re||Oe),_e=fe.rect,Ce=_e[2]-_e[0],Ie=_e[3]-_e[1],Ke=fe.borderStyle.width;return o.createElement(Wt,{annotation:fe,hasPopup:we,ignoreBorder:!0,isRenderable:Me,page:be,viewport:Ee},function(Qe){return o.createElement("div",d({},Qe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":fe.id,onClick:Qe.popup.toggleOnClick,onMouseEnter:Qe.popup.openOnHover,onMouseLeave:Qe.popup.closeOnHover}),fe.vertices&&fe.vertices.length&&o.createElement("svg",{height:"".concat(Ie,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ce," ").concat(Ie),width:"".concat(Ce,"px")},o.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:Ke||1,points:fe.vertices.map(function(Ye){return"".concat(Ye.x-_e[0],",").concat(_e[3]-Ye.y)}).join(" ")})),Qe.slot.children)})},ls=function(te){var fe=te.annotation,be=te.page,Ee=te.viewport,we=fe.hasPopup===!1,Re=ct(fe),Oe=Te(fe),Me=!!(fe.hasPopup||Re||Oe),_e=fe.rect,Ce=_e[2]-_e[0],Ie=_e[3]-_e[1],Ke=fe.borderStyle.width;return o.createElement(Wt,{annotation:fe,hasPopup:we,ignoreBorder:!0,isRenderable:Me,page:be,viewport:Ee},function(Qe){return o.createElement("div",d({},Qe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":fe.id,onClick:Qe.popup.toggleOnClick,onMouseEnter:Qe.popup.openOnHover,onMouseLeave:Qe.popup.closeOnHover}),o.createElement("svg",{height:"".concat(Ie,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ce," ").concat(Ie),width:"".concat(Ce,"px")},o.createElement("rect",{height:Ie-Ke,fill:"none",stroke:"transparent",strokeWidth:Ke||1,x:Ke/2,y:Ke/2,width:Ce-Ke})),Qe.slot.children)})},Oi=function(te){var fe=te.annotation,be=te.page,Ee=te.viewport,we=fe.hasPopup===!1,Re=ct(fe),Oe=Te(fe),Me=!!(fe.hasPopup||Re||Oe);return o.createElement(Wt,{annotation:fe,hasPopup:we,ignoreBorder:!0,isRenderable:Me,page:be,viewport:Ee},function(_e){return o.createElement("div",d({},_e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":fe.id,onClick:_e.popup.toggleOnClick,onMouseEnter:_e.popup.openOnHover,onMouseLeave:_e.popup.closeOnHover}),_e.slot.children)})},ji=function(te){var fe=te.annotation,be=te.page,Ee=te.viewport,we=fe.hasPopup===!1,Re=ct(fe),Oe=Te(fe),Me=!!(fe.hasPopup||Re||Oe);return o.createElement(Wt,{annotation:fe,hasPopup:we,ignoreBorder:!0,isRenderable:Me,page:be,viewport:Ee},function(_e){return o.createElement("div",d({},_e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":fe.id,onClick:_e.popup.toggleOnClick,onMouseEnter:_e.popup.openOnHover,onMouseLeave:_e.popup.closeOnHover}),_e.slot.children)})},_i=function(te){var fe=te.annotation,be=te.page,Ee=te.viewport,we=fe.hasPopup===!1,Re=ct(fe),Oe=Te(fe),Me=!!(fe.hasPopup||Re||Oe);return o.createElement(Wt,{annotation:fe,hasPopup:we,ignoreBorder:!0,isRenderable:Me,page:be,viewport:Ee},function(_e){return o.createElement("div",d({},_e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":fe.id,onClick:_e.popup.toggleOnClick,onMouseEnter:_e.popup.openOnHover,onMouseLeave:_e.popup.closeOnHover}),_e.slot.children)})},ni=function(){return o.createElement(A,{size:16},o.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),o.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),o.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),o.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ri=function(){return o.createElement(A,{size:16},o.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),o.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),o.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),o.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),o.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),o.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),o.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),o.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),o.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),o.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Er=function(){return o.createElement(A,{size:16},o.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),o.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Zn=function(){return o.createElement(A,{size:16},o.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),o.createElement("path",{d:"M6 4.5L6 0.5"}),o.createElement("path",{d:"M18 4.5L18 0.5"}),o.createElement("path",{d:"M10 4.5L10 0.5"}),o.createElement("path",{d:"M14 4.5L14 0.5"}))},Ua=function(){return o.createElement(A,{size:16},o.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),o.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),o.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},oa=function(){return o.createElement(A,{size:16},o.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Hr=function(te){var fe=te.annotation,be=te.childAnnotation,Ee=te.page,we=te.viewport,Re=fe.hasPopup===!1,Oe=ct(fe),Me=Te(fe),_e=!!(fe.hasPopup||Oe||Me),Ce=fe.name?fe.name.toLowerCase():"";return o.createElement(Wt,{annotation:fe,hasPopup:Re,ignoreBorder:!1,isRenderable:_e,page:Ee,viewport:we},function(Ie){return o.createElement(o.Fragment,null,o.createElement("div",d({},Ie.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":fe.id,onClick:Ie.popup.toggleOnClick,onMouseEnter:Ie.popup.openOnHover,onMouseLeave:Ie.popup.closeOnHover}),Ce&&o.createElement("div",{className:"rpv-core__annotation-text-icon"},Ce==="check"&&o.createElement(w,null),Ce==="comment"&&o.createElement(ni,null),Ce==="help"&&o.createElement(ri,null),Ce==="insert"&&o.createElement(oa,null),Ce==="key"&&o.createElement(Er,null),Ce==="note"&&o.createElement(Zn,null),(Ce==="newparagraph"||Ce==="paragraph")&&o.createElement(Ua,null)),Ie.slot.children),be&&be.annotationType===t.AnnotationType.Popup&&Ie.popup.opened&&o.createElement(fr,{annotation:be,page:Ee,viewport:we}))})},di=function(te){var fe=te.annotation,be=te.page,Ee=te.viewport,we=fe.hasPopup===!1,Re=ct(fe),Oe=Te(fe),Me=!!(fe.hasPopup||Re||Oe);return o.createElement(Wt,{annotation:fe,hasPopup:we,ignoreBorder:!0,isRenderable:Me,page:be,viewport:Ee},function(_e){return o.createElement("div",d({},_e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":fe.id,onClick:_e.popup.toggleOnClick,onMouseEnter:_e.popup.openOnHover,onMouseLeave:_e.popup.closeOnHover}),_e.slot.children)})},cs=function(te){var fe=te.annotations,be=te.doc,Ee=te.outlines,we=te.page,Re=te.pageIndex,Oe=te.plugins,Me=te.rotation,_e=te.scale,Ce=te.onExecuteNamedAction,Ie=te.onJumpFromLinkAnnotation,Ke=te.onJumpToDest,Qe=o.useRef(),Ye=we.getViewport({rotation:Me,scale:_e}).clone({dontFlip:!0}),dt=fe.filter(function(st){return!st.parentId});return p(function(){var st=Qe.current;st&&Oe.forEach(function(at){at.onAnnotationLayerRender&&at.onAnnotationLayerRender({annotations:dt,container:st,pageIndex:Re,rotation:Me,scale:_e})})},[]),o.createElement("div",{ref:Qe,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Re)},dt.map(function(st){var at=fe.find(function(jt){return jt.parentId===st.id});switch(st.annotationType){case t.AnnotationType.Caret:return o.createElement(Wn,{key:st.id,annotation:st,page:we,viewport:Ye});case t.AnnotationType.Circle:return o.createElement(Vn,{key:st.id,annotation:st,page:we,viewport:Ye});case t.AnnotationType.FileAttachment:return o.createElement(cr,{key:st.id,annotation:st,page:we,viewport:Ye});case t.AnnotationType.FreeText:return o.createElement(Cn,{key:st.id,annotation:st,page:we,viewport:Ye});case t.AnnotationType.Highlight:return o.createElement(Qn,{key:st.id,annotation:st,childAnnotation:at,page:we,viewport:Ye});case t.AnnotationType.Ink:return o.createElement(yr,{key:st.id,annotation:st,page:we,viewport:Ye});case t.AnnotationType.Line:return o.createElement(yn,{key:st.id,annotation:st,page:we,viewport:Ye});case t.AnnotationType.Link:return o.createElement(Jn,{key:st.id,annotation:st,annotationContainerRef:Qe,doc:be,outlines:Ee,page:we,pageIndex:Re,scale:_e,viewport:Ye,onExecuteNamedAction:Ce,onJumpFromLinkAnnotation:Ie,onJumpToDest:Ke});case t.AnnotationType.Polygon:return o.createElement(ui,{key:st.id,annotation:st,page:we,viewport:Ye});case t.AnnotationType.Polyline:return o.createElement(Dr,{key:st.id,annotation:st,page:we,viewport:Ye});case t.AnnotationType.Popup:return o.createElement(fr,{key:st.id,annotation:st,page:we,viewport:Ye});case t.AnnotationType.Square:return o.createElement(ls,{key:st.id,annotation:st,page:we,viewport:Ye});case t.AnnotationType.Squiggly:return o.createElement(Oi,{key:st.id,annotation:st,page:we,viewport:Ye});case t.AnnotationType.Stamp:return o.createElement(ji,{key:st.id,annotation:st,page:we,viewport:Ye});case t.AnnotationType.StrikeOut:return o.createElement(_i,{key:st.id,annotation:st,page:we,viewport:Ye});case t.AnnotationType.Text:return o.createElement(Hr,{key:st.id,annotation:st,childAnnotation:at,page:we,viewport:Ye});case t.AnnotationType.Underline:return o.createElement(di,{key:st.id,annotation:st,page:we,viewport:Ye});default:return o.createElement(o.Fragment,{key:st.id})}}))},us=function(te){var fe=te.page,be=te.renderAnnotations,Ee=he(),we=o.useState({loading:!0,annotations:[]}),Re=we[0],Oe=we[1];return o.useEffect(function(){fe.getAnnotations({intent:"display"}).then(function(Me){Ee.current&&Oe({loading:!1,annotations:Me})})},[]),Re.loading?o.createElement(o.Fragment,null):be(Re.annotations)},Di=function(te){var fe=te.doc,be=te.outlines,Ee=te.page,we=te.pageIndex,Re=te.plugins,Oe=te.rotation,Me=te.scale,_e=te.onExecuteNamedAction,Ce=te.onJumpFromLinkAnnotation,Ie=te.onJumpToDest;return o.createElement(us,{page:Ee,renderAnnotations:function(Ke){return o.createElement(cs,{annotations:Ke,doc:fe,outlines:be,page:Ee,pageIndex:we,plugins:Re,rotation:Oe,scale:Me,onExecuteNamedAction:_e,onJumpFromLinkAnnotation:Ce,onJumpToDest:Ie})}})},Li=function(te,fe){var be=te%fe;return be===0?te:Math.floor(te-be)},Ei=function(te){var fe=te.canvasLayerRef,be=te.height,Ee=te.page,we=te.pageIndex,Re=te.plugins,Oe=te.rotation,Me=te.scale,_e=te.width,Ce=te.onRenderCanvasCompleted,Ie=o.useRef();return p(function(){var Ke=Ie.current;Ke&&Ke.cancel();var Qe=fe.current;Qe.removeAttribute("data-testid"),Re.forEach(function(Ct){Ct.onCanvasLayerRender&&Ct.onCanvasLayerRender({ele:Qe,pageIndex:we,rotation:Oe,scale:Me,status:t.LayerRenderStatus.PreRender})});var Ye=Ee.getViewport({rotation:Oe,scale:Me}),dt=window.devicePixelRatio||1,st=Math.sqrt(16777216/(Ye.width*Ye.height)),at=dt>st;at?Qe.style.transform="scale(1, 1)":Qe.style.removeProperty("transform");var jt=Math.min(st,dt),Et=function(Ct,rn){var Qt,un;if(Math.floor(Ct)===Ct)return[Ct,1];var cn=1/Ct;if(cn>rn)return[1,rn];if(Math.floor(cn)===cn)return[1,cn];for(var nn=Ct>1?cn:Ct,qn=0,En=1,Hn=1,Sn=1;;){var Dn=qn+Hn,Pn=En+Sn;if(Pn>rn)break;nn<=Dn/Pn?(Hn=(Qt=[Dn,Pn])[0],Sn=Qt[1]):(qn=(un=[Dn,Pn])[0],En=un[1])}return nn<(qn/En+Hn/Sn)/2?nn===Ct?[qn,En]:[En,qn]:nn===Ct?[Hn,Sn]:[Sn,Hn]}(jt,8),At=Et[0],Tt=Et[1];Qe.width=Li(Ye.width*jt,At),Qe.height=Li(Ye.height*jt,At),Qe.style.width="".concat(Li(Ye.width,Tt),"px"),Qe.style.height="".concat(Li(Ye.height,Tt),"px"),Qe.hidden=!0;var yt=Qe.getContext("2d",{alpha:!1}),Dt=at||dt!==1?[jt,0,0,jt,0,0]:null;return Ie.current=Ee.render({canvasContext:yt,transform:Dt,viewport:Ye}),Ie.current.promise.then(function(){Qe.hidden=!1,Qe.setAttribute("data-testid","core__canvas-layer-".concat(we)),Re.forEach(function(Ct){Ct.onCanvasLayerRender&&Ct.onCanvasLayerRender({ele:Qe,pageIndex:we,rotation:Oe,scale:Me,status:t.LayerRenderStatus.DidRender})}),Ce()},function(){Ce()}),function(){Qe&&(Qe.width=0,Qe.height=0)}},[]),o.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(be,"px"),width:"".concat(_e,"px")}},o.createElement("canvas",{ref:fe}))},ii=function(te){var fe=te.height,be=te.page,Ee=te.rotation,we=te.scale,Re=te.width,Oe=o.useRef();return p(function(){var Me=Oe.current,_e=be.getViewport({rotation:Ee,scale:we});be.getOperatorList().then(function(Ce){(function(){var Ie=Oe.current;Ie&&(Ie.innerHTML="")})(),new c.SVGGraphics(be.commonObjs,be.objs).getSVG(Ce,_e).then(function(Ie){Ie.style.height="".concat(fe,"px"),Ie.style.width="".concat(Re,"px"),Me.appendChild(Ie)})})},[]),o.createElement("div",{className:"rpv-core__svg-layer",ref:Oe})},pr=function(te){var fe=te.containerRef,be=te.page,Ee=te.pageIndex,we=te.plugins,Re=te.rotation,Oe=te.scale,Me=te.onRenderTextCompleted,_e=o.useRef(),Ce=function(){var Ie=fe.current;Ie&&([].slice.call(Ie.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(Ke){return Ie.removeChild(Ke)}),[].slice.call(Ie.querySelectorAll('br[role="presentation"]')).forEach(function(Ke){return Ie.removeChild(Ke)}))};return p(function(){var Ie=_e.current;Ie&&Ie.cancel();var Ke=fe.current;if(Ke){Ke.removeAttribute("data-testid");var Qe=be.getViewport({rotation:Re,scale:Oe});return we.forEach(function(Ye){Ye.onTextLayerRender&&Ye.onTextLayerRender({ele:Ke,pageIndex:Ee,scale:Oe,status:t.LayerRenderStatus.PreRender})}),be.getTextContent().then(function(Ye){Ce(),_e.current=c.renderTextLayer({container:Ke,textContent:Ye,textContentSource:Ye,viewport:Qe}),_e.current.promise.then(function(){Ke.setAttribute("data-testid","core__text-layer-".concat(Ee)),[].slice.call(Ke.children).forEach(function(dt){dt.classList.contains("rpv-core__text-layer-text--not")||dt.classList.add("rpv-core__text-layer-text")}),we.forEach(function(dt){dt.onTextLayerRender&&dt.onTextLayerRender({ele:Ke,pageIndex:Ee,scale:Oe,status:t.LayerRenderStatus.DidRender})}),Me()},function(){Ke.removeAttribute("data-testid"),Me()})}),function(){var Ye;Ce(),(Ye=_e.current)===null||Ye===void 0||Ye.cancel()}}},[]),o.createElement("div",{className:"rpv-core__text-layer",ref:fe})},Fi=function(te){var fe=te.doc,be=te.measureRef,Ee=te.outlines,we=te.pageIndex,Re=te.pageRotation,Oe=te.pageSize,Me=te.plugins,_e=te.renderPage,Ce=te.renderQueueKey,Ie=te.rotation,Ke=te.scale,Qe=te.shouldRender,Ye=te.viewMode,dt=te.onExecuteNamedAction,st=te.onJumpFromLinkAnnotation,at=te.onJumpToDest,jt=te.onRenderCompleted,Et=te.onRotatePage,At=he(),Tt=o.useState(null),yt=Tt[0],Dt=Tt[1],Ct=o.useState(!1),rn=Ct[0],Qt=Ct[1],un=o.useState(!1),cn=un[0],nn=un[1],qn=o.useRef(),En=o.useRef(),Hn=Math.abs(Ie+Re)%180==0,Sn=Oe.pageWidth*Ke,Dn=Oe.pageHeight*Ke,Pn=Hn?Sn:Dn,In=Hn?Dn:Sn,tr=(Oe.rotation+Ie+Re)%360,ur=o.useRef(0),Cr=_e||function(Yn){return o.createElement(o.Fragment,null,Yn.canvasLayer.children,Yn.textLayer.children,Yn.annotationLayer.children)};return o.useEffect(function(){Dt(null),Qt(!1),nn(!1)},[Re,Ie,Ke]),o.useEffect(function(){Qe&&At.current&&!yt&&Ut(fe,we).then(function(Yn){At.current&&(ur.current=Ce,Dt(Yn))})},[Qe,yt]),o.useEffect(function(){rn&&cn&&(Ce!==ur.current?(Dt(null),Qt(!1),nn(!1)):jt(we))},[rn,cn]),o.createElement("div",{className:y({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":Ye===t.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":Ye===t.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":Ye===t.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(we),ref:be,style:{height:"".concat(In,"px"),width:"".concat(Pn,"px")}},yt?o.createElement(o.Fragment,null,Cr({annotationLayer:{attrs:{},children:o.createElement(Di,{doc:fe,outlines:Ee,page:yt,pageIndex:we,plugins:Me,rotation:tr,scale:Ke,onExecuteNamedAction:dt,onJumpFromLinkAnnotation:st,onJumpToDest:at})},canvasLayer:{attrs:{},children:o.createElement(Ei,{canvasLayerRef:qn,height:In,page:yt,pageIndex:we,plugins:Me,rotation:tr,scale:Ke,width:Pn,onRenderCanvasCompleted:function(){At.current&&Qt(!0)}})},canvasLayerRendered:rn,doc:fe,height:In,pageIndex:we,rotation:tr,scale:Ke,svgLayer:{attrs:{},children:o.createElement(ii,{height:In,page:yt,rotation:tr,scale:Ke,width:Pn})},textLayer:{attrs:{},children:o.createElement(pr,{containerRef:En,page:yt,pageIndex:we,plugins:Me,rotation:tr,scale:Ke,onRenderTextCompleted:function(){At.current&&nn(!0)}})},textLayerRendered:cn,width:Pn,markRendered:jt,onRotatePage:function(Yn){return Et(we,Yn)}}),Me.map(function(Yn,mr){return Yn.renderPageLayer?o.createElement(o.Fragment,{key:mr},Yn.renderPageLayer({canvasLayerRef:qn,canvasLayerRendered:rn,doc:fe,height:In,pageIndex:we,rotation:tr,scale:Ke,textLayerRef:En,textLayerRendered:cn,width:Pn})):o.createElement(o.Fragment,{key:mr})})):o.createElement(Z,{testId:"core__page-layer-loading-".concat(we)}))},ds=function(te,fe){var be=fe.rect;return te.height!==be.height||te.width!==be.width?be:te};(function(te){te.Horizontal="Horizontal",te.Vertical="Vertical",te.Both="Both"})(It||(It={}));var hi=function(te){return 1-Math.pow(1-te,4)},fi=1e-4,Bi={left:0,top:0},la={capture:!1,passive:!0},ca=function(te){var fe=te.elementRef,be=te.enableSmoothScroll,Ee=te.isRtl,we=te.scrollDirection,Re=te.onSmoothScroll,Oe=o.useState(Bi),Me=Oe[0],_e=Oe[1],Ce=o.useState(fe.current),Ie=Ce[0],Ke=Ce[1],Qe=Ee?-1:1,Ye=o.useRef(we);Ye.current=we;var dt=o.useRef(Bi),st=o.useRef(!0),at=o.useCallback(function(){st.current=!0,be&&_e(dt.current),Re(!1)},[]),jt=o.useCallback(function(){if(Ie){switch(Ye.current){case It.Horizontal:dt.current={left:Qe*Ie.scrollLeft,top:0};break;case It.Both:dt.current={left:Qe*Ie.scrollLeft,top:Ie.scrollTop};break;case It.Vertical:default:dt.current={left:0,top:Ie.scrollTop}}be&&!st.current||_e(dt.current)}},[Ie]);p(function(){Ke(fe.current)}),p(function(){if(Ie)return Ie.addEventListener("scroll",jt,la),function(){Ie.removeEventListener("scroll",jt,la)}},[Ie]);var Et=o.useCallback(function(At,Tt){var yt=fe.current;if(!yt)return Promise.resolve();var Dt={left:0,top:0};switch(Ye.current){case It.Horizontal:Dt.left=Qe*At.left;break;case It.Both:Dt.left=Qe*At.left,Dt.top=At.top;break;case It.Vertical:default:Dt.top=At.top}return Tt?(st.current=!1,Re(!0),new Promise(function(Ct,rn){(function(Qt,un,cn,nn,qn,En){qn===void 0&&(qn=function(mr){return mr}),En===void 0&&(En=function(){});var Hn=0,Sn=0,Dn=!1;switch(un){case It.Horizontal:Sn=Qt.scrollLeft,Hn=0;case It.Both:Sn=Qt.scrollLeft,Hn=Qt.scrollTop;break;case It.Vertical:default:Sn=0,Hn=Qt.scrollTop}var Pn=function(){Dn||(Dn=!0,Qt.scrollLeft=cn.left,Qt.scrollTop=cn.top,En())};if(Math.abs(Hn-cn.top)<=fi&&un===It.Vertical)Pn();else if(Math.abs(Sn-cn.left)<=fi&&un===It.Horizontal)Pn();else{var In,tr=-1,ur=Sn-cn.left,Cr=Hn-cn.top,Yn=function(mr){tr===-1&&(tr=mr);var Fr=mr-tr,_t=Math.min(Fr/nn,1),Rt=qn(_t),bt={left:Sn-ur*Rt,top:Hn-Cr*Rt};switch(un){case It.Horizontal:Qt.scrollLeft=bt.left;break;case It.Both:Qt.scrollLeft=bt.left,Qt.scrollTop=bt.top;break;case It.Vertical:default:Qt.scrollTop=bt.top}Math.abs(bt.top-cn.top)<=fi&&Math.abs(bt.left-cn.left)<=fi&&!Dn&&(window.cancelAnimationFrame(In),Pn()),Fr<nn?In=window.requestAnimationFrame(Yn):window.cancelAnimationFrame(In)};In=window.requestAnimationFrame(Yn)}})(yt,Ye.current,Dt,400,hi,function(){at(),Ct()})})):new Promise(function(Ct,rn){switch(Ye.current){case It.Horizontal:yt.scrollLeft=Dt.left;break;case It.Both:yt.scrollLeft=Dt.left,yt.scrollTop=Dt.top;break;case It.Vertical:default:yt.scrollTop=Dt.top}Ct()})},[fe]);return{scrollOffset:Me,scrollTo:Et}},sr=function(te,fe,be){return Math.max(te,Math.min(be,fe))},za=function(te,fe){if(fe!==t.ViewMode.DualPageWithCover)return 0;if(!function(we){var Re=we.length;if(Re===1)return!1;for(var Oe=1;Oe<Re;Oe++)if(we[Oe].height!==we[0].height||we[Oe].width!==we[0].width)return!0;return!1}(te))return 2*te[0].width;var be=Pt(te.slice(1),2).map(function(we){return we.length===2?we[0].width+we[1].width:we[0].width}),Ee=[te[0].width].concat(be);return Math.max.apply(Math,Ee)},Us={left:0,top:0},ua={left:0,top:0},Ui={left:0,top:0},zi={left:0,top:0},zs={height:0,width:0},er={left:0,top:0},Tr="data-virtual-index",qi=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Si=function(te){var fe=te.enableSmoothScroll,be=te.isRtl,Ee=te.numberOfItems,we=te.parentRef,Re=te.setRenderRange,Oe=te.sizes,Me=te.scrollMode,_e=te.viewMode,Ce=o.useState(!1),Ie=Ce[0],Ke=Ce[1],Qe=o.useCallback(function(_t){return Ke(_t)},[]),Ye=o.useRef(Me);Ye.current=Me;var dt=o.useRef(_e);dt.current=_e;var st=Me===t.ScrollMode.Wrapped||_e===t.ViewMode.DualPageWithCover||_e===t.ViewMode.DualPage?It.Both:Me===t.ScrollMode.Horizontal?It.Horizontal:It.Vertical,at=ca({elementRef:we,enableSmoothScroll:fe,isRtl:be,scrollDirection:st,onSmoothScroll:Qe}),jt=at.scrollOffset,Et=at.scrollTo,At=function(_t){var Rt=_t.elementRef,bt=o.useState(Rt.current),xt=bt[0],g=bt[1],V=o.useRef(!1),ie=o.useReducer(ds,{height:0,width:0}),pe=ie[0],Se=ie[1];return p(function(){Rt.current!==xt&&g(Rt.current)}),p(function(){if(xt&&!V.current){V.current=!0;var Fe=xt.getBoundingClientRect(),Ze=Fe.height,Lt=Fe.width;Se({rect:{height:Ze,width:Lt}})}},[xt]),o.useEffect(function(){if(xt){var Fe=new ResizeObserver(function(Ze,Lt){Ze.forEach(function(Bt){if(Bt.target===xt){var qt=Bt.contentRect,wn=qt.height,St=qt.width;Se({rect:{height:wn,width:St}})}})});return Fe.observe(xt),function(){Fe.unobserve(xt)}}},[xt]),pe}({elementRef:we}),Tt=o.useRef({scrollOffset:er,measurements:[]});Tt.current.scrollOffset=jt;var yt=o.useMemo(function(){return Array(Ee).fill(-1)},[]),Dt=o.useState(yt),Ct=Dt[0],rn=Dt[1],Qt=o.useMemo(function(){var _t=new IntersectionObserver(function(Rt){Rt.forEach(function(bt){var xt=bt.isIntersecting?bt.intersectionRatio:-1,g=bt.target.getAttribute(Tr);if(g){var V=parseInt(g,10);0<=V&&V<Ee&&rn(function(ie){return ie[V]=xt,function(pe,Se,Fe){for(var Ze,Lt=0,Bt=Se.length;Lt<Bt;Lt++)!Ze&&Lt in Se||(Ze||(Ze=Array.prototype.slice.call(Se,0,Lt)),Ze[Lt]=Se[Lt]);return pe.concat(Ze||Array.prototype.slice.call(Se))}([],ie)})}})},{threshold:qi});return _t},[]),un=o.useMemo(function(){return Me===t.ScrollMode.Page&&_e===t.ViewMode.SinglePage?function(_t,Rt,bt){for(var xt=[],g=0;g<_t;g++){var V={height:Math.max(Rt.height,bt[g].height),width:Math.max(Rt.width,bt[g].width)},ie=g===0?zi:xt[g-1].end,pe={left:ie.left+V.width,top:ie.top+V.height};xt[g]={index:g,start:ie,size:V,end:pe,visibility:-1}}return xt}(Ee,At,Oe):_e===t.ViewMode.DualPageWithCover?function(_t,Rt,bt,xt){for(var g=[],V=0,ie=0,pe=Ui,Se=0;Se<_t;Se++){var Fe=Se===0?{height:xt===t.ScrollMode.Page?Math.max(Rt.height,bt[Se].height):bt[Se].height,width:xt===t.ScrollMode.Page?Math.max(Rt.width,bt[Se].width):bt[Se].width}:{height:xt===t.ScrollMode.Page?Math.max(Rt.height,bt[Se].height):bt[Se].height,width:Math.max(Rt.width/2,bt[Se].width)};xt===t.ScrollMode.Page?pe=Se===0?Ui:{left:Se%2==0?Fe.width:0,top:Math.floor((Se-1)/2)*Fe.height+g[0].end.top}:Se===0?(pe=Ui,V=bt[0].height,ie=0):Se%2==1?(pe={left:0,top:V+=ie},ie=Se===_t-1?bt[Se].height:Math.max(bt[Se].height,bt[Se+1].height)):pe={left:g[Se-1].end.left,top:V};var Ze={left:pe.left+Fe.width,top:pe.top+Fe.height};g[Se]={index:Se,start:pe,size:Fe,end:Ze,visibility:-1}}return g}(Ee,At,Oe,Me):_e===t.ViewMode.DualPage?function(_t,Rt,bt,xt){for(var g=[],V=0,ie=0,pe=ua,Se=0;Se<_t;Se++){var Fe={height:xt===t.ScrollMode.Page?Math.max(Rt.height,bt[Se].height):bt[Se].height,width:Math.max(Rt.width/2,bt[Se].width)};xt===t.ScrollMode.Page?pe={left:Se%2==0?0:Fe.width,top:Math.floor(Se/2)*Fe.height}:Se%2==0?(pe={left:0,top:V+=ie},ie=Se===_t-1?bt[Se].height:Math.max(bt[Se].height,bt[Se+1].height)):pe={left:g[Se-1].end.left,top:V};var Ze={left:pe.left+Fe.width,top:pe.top+Fe.height};g[Se]={index:Se,start:pe,size:Fe,end:Ze,visibility:-1}}return g}(Ee,At,Oe,Me):function(_t,Rt,bt,xt){for(var g=[],V=0,ie={left:0,top:0},pe=0,Se=Us,Fe=0;Fe<_t;Fe++){var Ze=bt[Fe];if(Fe===0)V=Ze.width,ie={left:0,top:0},pe=Ze.height;else switch(xt){case t.ScrollMode.Wrapped:(V+=Ze.width)<Rt.width?(Se={left:g[Fe-1].end.left,top:ie.top},pe=Math.max(pe,Ze.height)):(V=Ze.width,ie={left:(Se={left:ie.left,top:ie.top+pe}).left,top:Se.top},pe=Ze.height);break;case t.ScrollMode.Horizontal:case t.ScrollMode.Vertical:default:Se=g[Fe-1].end}var Lt={left:Se.left+Ze.width,top:Se.top+Ze.height};g[Fe]={index:Fe,start:Se,size:Ze,end:Lt,visibility:-1}}return g}(Ee,At,Oe,Me)},[Me,Oe,_e,At]),cn=un[Ee-1]?{height:un[Ee-1].end.top,width:un[Ee-1].end.left}:zs;Tt.current.measurements=un;var nn=o.useMemo(function(){var _t=function(Fe,Ze,Lt,Bt){var qt=0;switch(Fe){case It.Horizontal:qt=Bt.left;break;case It.Vertical:default:qt=Bt.top}var wn=Ze.length-1,St=function(xn,Yr,Gi,$a){for(;xn<=Yr;){var gi=(xn+Yr)/2|0,Wi=$a(gi);if(Wi<Gi)xn=gi+1;else{if(!(Wi>Gi))return gi;Yr=gi-1}}return xn>0?xn-1:0}(0,wn,qt,function(xn){switch(Fe){case It.Horizontal:return Ze[xn].start.left;case It.Both:case It.Vertical:default:return Ze[xn].start.top}});if(Fe===It.Both)for(var Ln=Ze[St].start.top;St-1>=0&&Ze[St-1].start.top===Ln&&Ze[St-1].start.left>=Bt.left;)St--;for(var Jt=St;Jt<=wn;){var hn={top:Ze[Jt].start.top-Bt.top,left:Ze[Jt].start.left-Bt.left},Mn={height:Lt.height-hn.top,width:Lt.width-hn.left};if(Fe===It.Horizontal&&Mn.width<0||Fe===It.Vertical&&Mn.height<0||Fe===It.Both&&(Mn.width<0||Mn.height<0))break;Jt++}return{start:St,end:Jt}}(st,un,At,jt),Rt=_t.start,bt=_t.end,xt=Ct.slice(sr(0,Ee,Rt),sr(0,Ee,bt)),g=Rt+xt.reduce(function(Fe,Ze,Lt,Bt){return Ze>Bt[Fe]?Lt:Fe},0),V=g=sr(0,Ee-1,g),ie=Re({endPage:bt,numPages:Ee,startPage:Rt}),pe=ie.startPage,Se=ie.endPage;switch(pe=Math.max(pe,0),Se=Math.min(Se,Ee-1),_e){case t.ViewMode.DualPageWithCover:g>0&&(V=g%2==1?g:g-1),pe=pe===0?0:pe%2==1?pe:pe-1,Ee-(Se=Se%2==1?Se-1:Se)<=2&&(Se=Ee-1);break;case t.ViewMode.DualPage:V=g%2==0?g:g-1,pe=pe%2==0?pe:pe-1,Se=Se%2==1?Se:Se-1;break;case t.ViewMode.SinglePage:default:V=g}return{startPage:pe,endPage:Se,maxVisbilityIndex:V}},[un,At,jt,_e,Ct]),qn=nn.startPage,En=nn.endPage,Hn=nn.maxVisbilityIndex,Sn=o.useMemo(function(){for(var _t=[],Rt=function(xt){var g=un[xt],V=d(d({},g),{visibility:Ct[xt]!==void 0?Ct[xt]:-1,measureRef:function(ie){ie&&(ie.setAttribute(Tr,"".concat(xt)),Qt.observe(ie))}});_t.push(V)},bt=qn;bt<=En;bt++)Rt(bt);return _t},[qn,En,Ct,un]),Dn=o.useCallback(function(_t,Rt){var bt=Tt.current.measurements[sr(0,Ee-1,_t)],xt=Ye.current===t.ScrollMode.Page?er:Rt;return bt?Et({left:xt.left+bt.start.left,top:xt.top+bt.start.top},fe):Promise.resolve()},[Et,fe]),Pn=o.useCallback(function(_t,Rt){var bt=Tt.current.measurements,xt=bt[_t].start,g=bt.find(function(ie){return ie.start.top-xt.top>1e-12});if(!g)return Promise.resolve();var V=g.index;switch(dt.current){case t.ViewMode.DualPage:V=V%2==0?V:V+1;break;case t.ViewMode.DualPageWithCover:V=V%2==1?V:V+1}return Dn(V,Rt)},[]),In=o.useCallback(function(_t,Rt){for(var bt=Tt.current.measurements,xt=bt[_t].start,g=_t,V=!1,ie=Ee-1;ie>=0;ie--)if(xt.top-bt[ie].start.top>1e-12){V=!0,g=bt[ie].index;break}if(!V)return Promise.resolve();switch(dt.current){case t.ViewMode.DualPage:g=g%2==0?g:g-1;break;case t.ViewMode.DualPageWithCover:g=g%2==0?g-1:g}return g===_t&&(g=_t-1),Dn(g,Rt)},[]),tr=o.useCallback(function(_t,Rt){if(dt.current===t.ViewMode.DualPageWithCover||dt.current===t.ViewMode.DualPage)return Pn(_t,Rt);switch(Ye.current){case t.ScrollMode.Wrapped:return Pn(_t,Rt);case t.ScrollMode.Horizontal:case t.ScrollMode.Vertical:default:return Dn(_t+1,Rt)}},[]),ur=o.useCallback(function(_t,Rt){if(dt.current===t.ViewMode.DualPageWithCover||dt.current===t.ViewMode.DualPage)return In(_t,Rt);switch(Ye.current){case t.ScrollMode.Wrapped:return In(_t,Rt);case t.ScrollMode.Horizontal:case t.ScrollMode.Vertical:default:return Dn(_t-1,Rt)}},[]),Cr=o.useCallback(function(){return function(_t,Rt){switch(Rt){case t.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(_t.width,"px")};case t.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(_t.height,"px"),width:"100%"}}}(cn,Ye.current)},[cn]),Yn=o.useCallback(function(_t){return function(Rt,bt,xt){return xt!==t.ScrollMode.Page?{}:{height:"".concat(bt.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Rt.start.top,"px)")}}(_t,At,Ye.current)},[At]),mr=o.useCallback(function(_t){return function(Rt,bt,xt,g,V){var ie,pe,Se,Fe,Ze,Lt,Bt,qt=bt?"right":"left",wn=bt?-1:1,St=xt.length,Ln=Rt.start.left*wn,Jt=Rt.size,hn=Jt.height,Mn=Jt.width;if(g===t.ViewMode.DualPageWithCover){var xn=V===t.ScrollMode.Page?0:Rt.start.top;return Rt.index===0||St%2==0&&Rt.index===St-1?((ie={height:"".concat(hn,"px"),minWidth:"".concat(za(xt,g),"px"),width:"100%"})[qt]=0,ie.position="absolute",ie.top=0,ie.transform="translate(".concat(Ln,"px, ").concat(xn,"px)"),ie):((pe={height:"".concat(hn,"px"),width:"".concat(Mn,"px")})[qt]=0,pe.position="absolute",pe.top=0,pe.transform="translate(".concat(Ln,"px, ").concat(xn,"px)"),pe)}if(g===t.ViewMode.DualPage)return(Se={height:"".concat(hn,"px"),width:"".concat(Mn,"px")})[qt]=0,Se.position="absolute",Se.top=0,Se.transform="translate(".concat(Ln,"px, ").concat(V===t.ScrollMode.Page?0:Rt.start.top,"px)"),Se;switch(V){case t.ScrollMode.Horizontal:return(Fe={height:"100%",width:"".concat(Mn,"px")})[qt]=0,Fe.position="absolute",Fe.top=0,Fe.transform="translateX(".concat(Ln,"px)"),Fe;case t.ScrollMode.Page:return(Ze={height:"".concat(hn,"px"),width:"".concat(Mn,"px")})[qt]=0,Ze.position="absolute",Ze.top=0,Ze;case t.ScrollMode.Wrapped:return(Lt={height:"".concat(hn,"px"),width:"".concat(Mn,"px")})[qt]=0,Lt.position="absolute",Lt.top=0,Lt.transform="translate(".concat(Ln,"px, ").concat(Rt.start.top,"px)"),Lt;case t.ScrollMode.Vertical:default:return(Bt={height:"".concat(hn,"px"),width:"100%"})[qt]=0,Bt.position="absolute",Bt.top=0,Bt.transform="translateY(".concat(Rt.start.top,"px)"),Bt}}(_t,be,Oe,dt.current,Ye.current)},[be,Oe]),Fr=o.useCallback(function(_t,Rt){var bt=Tt.current,xt=bt.measurements,g=bt.scrollOffset,V=xt[sr(0,Ee-1,Rt)];if(V){var ie=Ye.current===t.ScrollMode.Page?{left:V.start.left,top:V.start.top}:{left:g.left*_t,top:g.top*_t};return Et(ie,!1)}return Promise.resolve()},[]);return o.useEffect(function(){return function(){Qt.disconnect()}},[]),{boundingClientRect:At,isSmoothScrolling:Ie,startPage:qn,endPage:En,maxVisbilityIndex:Hn,virtualItems:Sn,getContainerStyles:Cr,getItemContainerStyles:Yn,getItemStyles:mr,scrollToItem:Dn,scrollToNextItem:tr,scrollToPreviousItem:ur,zoom:Fr}},$r=function(te,fe,be,Ee,we,Re){var Oe=be;switch(!0){case(we===t.ViewMode.DualPageWithCover&&Re>=3):case(we===t.ViewMode.DualPage&&Re>=3):Oe=2*be;break;default:Oe=be}switch(Ee){case t.SpecialZoomLevel.ActualSize:return 1;case t.SpecialZoomLevel.PageFit:return Math.min((te.clientWidth-17)/Oe,(te.clientHeight-16)/fe);case t.SpecialZoomLevel.PageWidth:return(te.clientWidth-17)/Oe}},kn=function(te){var fe,be,Ee=te.getCurrentPage,we=(fe=50,be=o.useRef([]),o.useEffect(function(){return function(){be.current=[]}},[]),{push:function(Ce){var Ie=be.current;Ie.length+1>fe&&Ie.shift(),Ie.push(Ce),be.current=Ie},map:function(Ce){return be.current.map(function(Ie){return Ce(Ie)})},pop:function(){var Ce=be.current;if(Ce.length===0)return null;var Ie=Ce.pop();return be.current=Ce,Ie}}),Re=function(Ce){var Ie=o.useRef([]);return o.useEffect(function(){return function(){Ie.current=[]}},[]),{dequeue:function(){var Ke=Ie.current;if(Ke.length===0)return null;var Qe=Ke.shift();return Ie.current=Ke,Qe||null},enqueue:function(Ke){var Qe=Ie.current;Qe.length+1>Ce&&Qe.pop(),Ie.current=[Ke].concat(Qe)},map:function(Ke){return Ie.current.map(function(Qe){return Ke(Qe)})}}}(50),Oe=function(){var Ce=Re.dequeue();return Ce&&we.push(Ce),Ce&&Ce.pageIndex===Ee()?Oe():Ce},Me=function(){var Ce=we.pop();return Ce&&Re.enqueue(Ce),Ce&&Ce.pageIndex===Ee()?Me():Ce},_e=o.useCallback(function(Ce){we.push(Ce)},[]);return{getNextDestination:Oe,getPreviousDestination:Me,markVisitedDestination:_e}},wi=function(te){var fe=[];return te.map(function(be){fe=fe.concat(be).concat(function(Ee){var we=[];return Ee.items&&Ee.items.length>0&&(we=we.concat(wi(Ee.items))),we}(be))}),fe},Ir={capture:!1,passive:!0},Hi={height:0,width:0},da={height:0,width:0},qa=function(te){var fe=te.getCurrentPage,be=te.getCurrentScrollMode,Ee=te.jumpToPage,we=te.targetRef,Re=o.useState(t.FullScreenMode.Normal),Oe=Re[0],Me=Re[1],_e=function(){var Ct=o.useState(Hi),rn=Ct[0],Qt=Ct[1],un=ue(function(){Qt({height:window.innerHeight,width:window.innerWidth})},100);return p(function(){return window.addEventListener("resize",un,Ir),function(){window.removeEventListener("resize",un,Ir)}},[]),rn}(),Ce=o.useState(da),Ie=Ce[0],Ke=Ce[1],Qe=o.useRef(da),Ye=o.useRef(fe()),dt=o.useRef(da),st=o.useState(we.current),at=st[0],jt=st[1],Et=o.useRef();p(function(){we.current!==at&&jt(we.current)},[]),p(function(){if(at){var Ct=new ResizeObserver(function(rn){rn.forEach(function(Qt){var un=Qt.target.getBoundingClientRect(),cn=un.height,nn=un.width;Ke({height:cn,width:nn})})});return Ct.observe(at),function(){Ct.unobserve(at),Ct.disconnect()}}},[at]);var At=o.useCallback(function(Ct){var rn=G();return rn&&rn!==Ct?(Me(t.FullScreenMode.Normal),U(rn)):Promise.resolve()},[]),Tt=o.useCallback(function(Ct){Ct&&R()&&(jt(Ct),At(Ct).then(function(){Et.current=Ct,Me(t.FullScreenMode.Entering),function(rn){I&&rn[Y.RequestFullScreen]()}(Ct)}))},[]),yt=o.useCallback(function(){G()&&(Me(t.FullScreenMode.Exitting),U(document))},[]),Dt=o.useCallback(function(){at&&G()!==at&&Me(t.FullScreenMode.Exitting)},[at]);return o.useEffect(function(){switch(Oe){case t.FullScreenMode.Entering:Et.current&&(Et.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),Ye.current=fe(),Qe.current={height:window.innerHeight,width:window.innerWidth};break;case t.FullScreenMode.Entered:be()===t.ScrollMode.Page?Ee(Ye.current).then(function(){Me(t.FullScreenMode.EnteredCompletely)}):Me(t.FullScreenMode.EnteredCompletely);break;case t.FullScreenMode.Exitting:Et.current&&(Et.current.style.backgroundColor="",Et.current=null),Ye.current=fe();break;case t.FullScreenMode.Exited:Me(t.FullScreenMode.Normal),be()===t.ScrollMode.Page&&Ee(Ye.current)}},[Oe]),o.useEffect(function(){if(Oe!==t.FullScreenMode.Normal)return Oe===t.FullScreenMode.Entering&&_e.height===Ie.height&&_e.width===Ie.width&&_e.height>0&&_e.width>0&&(dt.current.height===0||_e.height==dt.current.height)?(dt.current={height:window.innerHeight,width:window.innerWidth},void Me(t.FullScreenMode.Entered)):void(Oe===t.FullScreenMode.Exitting&&Qe.current.height===_e.height&&Qe.current.width===_e.width&&_e.height>0&&_e.width>0&&Me(t.FullScreenMode.Exited))},[Oe,_e,Ie]),o.useEffect(function(){var Ct;return Ct=Dt,I&&document.addEventListener(Y.FullScreenChange,Ct),function(){(function(rn){I&&document.removeEventListener(Y.FullScreenChange,rn)})(Dt)}},[at]),{enterFullScreenMode:Tt,exitFullScreenMode:yt,fullScreenMode:Oe}},Ha={buildPageStyles:function(){return{}},transformSize:function(te){return te.size}},Ai={left:0,top:0},qs=function(te){var fe=te.currentFile,be=te.defaultScale,Ee=te.doc,we=te.enableSmoothScroll,Re=te.initialPage,Oe=te.initialRotation,Me=te.initialScale,_e=te.pageLayout,Ce=te.pageSizes,Ie=te.plugins,Ke=te.renderPage,Qe=te.scrollMode,Ye=te.setRenderRange,dt=te.viewMode,st=te.viewerState,at=te.onDocumentLoad,jt=te.onOpenFile,Et=te.onPageChange,At=te.onRotate,Tt=te.onRotatePage,yt=te.onZoom,Dt=Ee.numPages,Ct=Ee.loadingTask.docId,rn=o.useContext(J).l10n,Qt=o.useContext(b),un=Qt.direction===t.TextDirection.RightToLeft,cn=o.useRef(),nn=o.useRef(),qn=o.useState(Re),En=qn[0],Hn=qn[1],Sn=o.useRef(null),Dn=kn({getCurrentPage:function(){return St.current.pageIndex}}),Pn=o.useState(Oe),In=Pn[0],tr=Pn[1],ur=se(In),Cr=o.useState(!1),Yn=Cr[0],mr=Cr[1],Fr=o.useState(new Map),_t=Fr[0],Rt=Fr[1],bt=o.useState(Qe),xt=bt[0],g=bt[1],V=se(xt),ie=o.useState(dt),pe=ie[0],Se=ie[1],Fe=se(pe),Ze=function(lt){var Nt=he(),Zt=o.useState([]),Kt=Zt[0],Yt=Zt[1];return o.useEffect(function(){lt.getOutline().then(function(Xt){if(Nt.current&&Xt!==null){var Xn=wi(Xt);Yt(Xn)}})},[]),Kt}(Ee),Lt=o.useState(Me),Bt=Lt[0],qt=Lt[1],wn=se(Bt),St=o.useRef(st),Ln=o.useRef(typeof be=="string"?be:null),Jt=o.useRef(-1),hn=o.useRef(-1),Mn=o.useRef(Re),xn=qa({getCurrentPage:function(){return St.current.pageIndex},getCurrentScrollMode:function(){return St.current.scrollMode},jumpToPage:function(lt){return Ti(lt)},targetRef:nn}),Yr=o.useState(-1),Gi=Yr[0],$a=Yr[1],gi=o.useState(0),Wi=gi[0],jo=gi[1],kr=$({doc:Ee});o.useEffect(function(){return function(){Ve.clear(),mt.clear()}},[Ct]);var Hs=o.useMemo(function(){return Object.assign({},Ha,_e)},[]),Dl=o.useMemo(function(){return Array(Dt).fill(0).map(function(lt,Nt){var Zt=[Ce[Nt].pageHeight,Ce[Nt].pageWidth],Kt=Math.abs(In)%180==0?{height:Zt[0],width:Zt[1]}:{height:Zt[1],width:Zt[0]},Yt={height:Kt.height*Bt,width:Kt.width*Bt};return Hs.transformSize({numPages:Dt,pageIndex:Nt,size:Yt})})},[In,Bt]),Rn=Si({enableSmoothScroll:we,isRtl:un,numberOfItems:Dt,parentRef:nn,scrollMode:xt,setRenderRange:Ye,sizes:Dl,viewMode:pe}),Ll=ue(function(){!Ln.current||St.current.fullScreenMode!==t.FullScreenMode.Normal||Re>0&&Mn.current===Re||Br(Ln.current)},200);(function(lt){var Nt=lt.targetRef,Zt=lt.onResize;p(function(){var Kt=new ResizeObserver(function(Xt){Xt.forEach(function(Xn){Zt(Xn.target)})}),Yt=Nt.current;if(Yt)return Kt.observe(Yt),function(){Kt.unobserve(Yt)}},[])})({targetRef:nn,onResize:Ll});var Ri=function(lt){var Nt=lt;Ie.forEach(function(Zt){Zt.onViewerStateChange&&(Nt=Zt.onViewerStateChange(Nt))}),St.current=Nt},Fl=function(){return nn.current},Nr=function(){return St.current},Va=o.useCallback(function(lt){Dn.markVisitedDestination(lt)},[]),hs=o.useCallback(function(lt){var Nt=lt.pageIndex,Zt=lt.bottomOffset,Kt=lt.leftOffset,Yt=lt.scaleTo,Xt=nn.current,Xn=St.current;return Xt&&Xn?new Promise(function(Xr,ga){Ut(Ee,Nt).then(function(va){var Or=va.getViewport({scale:1}),Wa=0,Ya=(typeof Zt=="function"?Zt(Or.width,Or.height):Zt)||0,yi=(typeof Kt=="function"?Kt(Or.width,Or.height):Kt)||0,ya=Xn.scale;switch(Yt){case t.SpecialZoomLevel.PageFit:Wa=0,yi=0,Br(t.SpecialZoomLevel.PageFit);break;case t.SpecialZoomLevel.PageWidth:ya=$r(Xt,Ce[Nt].pageHeight,Ce[Nt].pageWidth,t.SpecialZoomLevel.PageWidth,dt,Dt),Wa=(Or.height-Ya)*ya,yi*=ya,Br(ya);break;default:Wa=(Or.height-Ya)*ya,yi*=ya}switch(Xn.scrollMode){case t.ScrollMode.Horizontal:Rn.scrollToItem(Nt,{left:yi,top:0}).then(function(){Xr()});break;case t.ScrollMode.Vertical:default:Rn.scrollToItem(Nt,{left:0,top:Wa}).then(function(){Xr()})}})}):Promise.resolve()},[]),$s=o.useCallback(function(lt){return Dn.markVisitedDestination(lt),hs(lt)},[]),Do=o.useCallback(function(){var lt=Dn.getNextDestination();return lt?hs(lt):Promise.resolve()},[]),Lo=o.useCallback(function(){var lt=Dn.getPreviousDestination();return lt?hs(lt):Promise.resolve()},[]),Vs=o.useCallback(function(){return Rn.scrollToNextItem(St.current.pageIndex,Ai)},[]),Ti=o.useCallback(function(lt){return 0<=lt&&lt<Dt?Rn.scrollToItem(lt,Ai):Promise.resolve()},[]),pa=o.useCallback(function(){return Rn.scrollToPreviousItem(St.current.pageIndex,Ai)},[]),fs=o.useCallback(function(lt){var Nt,Zt;(Nt=lt.name,Zt=Nt.split(/\./).pop(),Zt?Zt.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Kt){var Yt=new FileReader;Yt.readAsArrayBuffer(lt),Yt.onload=function(){var Xt=new Uint8Array(Yt.result);Kt(Xt)}}).then(function(Kt){jt(lt.name,Kt)})},[jt]),ma=o.useCallback(function(lt){var Nt=lt===t.RotateDirection.Backward?-90:90,Zt=St.current.rotation,Kt=Zt===360||Zt===-360?Nt:Zt+Nt;kr.markNotRendered(),tr(Kt),Ri(d(d({},St.current),{rotation:Kt})),At({direction:lt,doc:Ee,rotation:Kt})},[]),Ga=o.useCallback(function(lt,Nt){var Zt=Nt===t.RotateDirection.Backward?-90:90,Kt=St.current.pagesRotation,Yt=(Kt.has(lt)?Kt.get(lt):Oe)+Zt,Xt=Kt.set(lt,Yt);Rt(Xt),mr(function(Xn){return!Xn}),Ri(d(d({},St.current),{pagesRotation:Xt,rotatedPage:lt})),Tt({direction:Nt,doc:Ee,pageIndex:lt,rotation:Yt}),kr.markRendering(lt),$a(lt)},[]),Gs=o.useCallback(function(lt){Ri(d(d({},St.current),{scrollMode:lt})),g(lt)},[]),Ci=o.useCallback(function(lt){Ri(d(d({},St.current),{viewMode:lt})),Se(lt)},[]),Br=o.useCallback(function(lt){var Nt=nn.current,Zt=St.current.pageIndex;if(!(Zt<0||Zt>=Dt)){var Kt=Ce[Zt].pageHeight,Yt=Ce[Zt].pageWidth,Xt=Nt?typeof lt=="string"?$r(Nt,Kt,Yt,lt,St.current.viewMode,Dt):lt:1;Ln.current=typeof lt=="string"?lt:null,Xt!==St.current.scale&&(jo(function(Xn){return Xn+1}),kr.markNotRendered(),qt(Xt),yt({doc:Ee,scale:Xt}),Ri(d(d({},St.current),{scale:Xt})))}},[]),Ws=o.useCallback(function(lt){xn.enterFullScreenMode(lt)},[]),Fo=o.useCallback(function(){xn.exitFullScreenMode()},[]);o.useEffect(function(){Ri(d(d({},St.current),{fullScreenMode:xn.fullScreenMode}))},[xn.fullScreenMode]),o.useEffect(function(){var lt={enterFullScreenMode:Ws,exitFullScreenMode:Fo,getPagesContainer:Fl,getViewerState:Nr,jumpToDestination:$s,jumpToNextDestination:Do,jumpToPreviousDestination:Lo,jumpToNextPage:Vs,jumpToPreviousPage:pa,jumpToPage:Ti,openFile:fs,rotate:ma,rotatePage:Ga,setViewerState:Ri,switchScrollMode:Gs,switchViewMode:Ci,zoom:Br};return Ie.forEach(function(Nt){Nt.install&&Nt.install(lt)}),function(){Ie.forEach(function(Nt){Nt.uninstall&&Nt.uninstall(lt)})}},[Ct]),o.useEffect(function(){at({doc:Ee,file:fe}),Ie.forEach(function(lt){lt.onDocumentLoad&&lt.onDocumentLoad({doc:Ee,file:fe})})},[Ct]);var vi,ps,gs,Ys=Rn.boundingClientRect;vi=function(){Re&&Ti(Re)},ps=Ys.height>0&&Ys.width>0,gs=o.useRef(!1),p(function(){ps&&!gs.current&&(gs.current=!0,vi())},[vi,ps]),p(function(){var lt=St.current.pageIndex;lt>-1&&V!==xt&&Rn.scrollToItem(lt,Ai).then(function(){xn.fullScreenMode===t.FullScreenMode.EnteredCompletely&&(we||kr.markNotRendered(),Jt.current=-1)})},[xt]),p(function(){var lt=St.current.pageIndex;lt>-1&&ur!==In&&Rn.scrollToItem(lt,Ai)},[In]),p(function(){wn!=0&&wn!=St.current.scale&&Rn.zoom(St.current.scale/wn,St.current.pageIndex).then(function(){xn.fullScreenMode===t.FullScreenMode.EnteredCompletely&&(hn.current=-1)})},[Bt]),p(function(){if(Fe!==St.current.viewMode){var lt=Rn.startPage,Nt=Rn.endPage,Zt=Rn.virtualItems;kr.markNotRendered(),kr.setRange(lt,Nt);for(var Kt=function(Xt){var Xn=Zt.find(function(Xr){return Xr.index===Xt});Xn&&kr.setVisibility(Xt,Xn.visibility)},Yt=lt;Yt<=Nt;Yt++)Kt(Yt);Xs()}},[pe]),p(function(){var lt=St.current.pageIndex;lt>-1&&Fe!==pe&&Rn.scrollToItem(lt,Ai)},[pe]),p(function(){var lt=St.current.pageIndex;lt>0&&lt===Re&&Mn.current===Re&&Ln.current&&(Mn.current=-1,Br(Ln.current))},[En]),o.useEffect(function(){Rn.isSmoothScrolling||Sn.current!==null&&Sn.current===En||(Sn.current=En,Et({currentPage:En,doc:Ee}))},[En,Rn.isSmoothScrolling]),o.useEffect(function(){xn.fullScreenMode===t.FullScreenMode.Entering&&St.current.scrollMode===t.ScrollMode.Page&&(Jt.current=St.current.pageIndex),xn.fullScreenMode===t.FullScreenMode.EnteredCompletely&&St.current.scrollMode===t.ScrollMode.Page&&we&&(Jt.current=-1),xn.fullScreenMode===t.FullScreenMode.EnteredCompletely&&Ln.current&&(hn.current=St.current.pageIndex,Br(Ln.current))},[xn.fullScreenMode]),o.useEffect(function(){if(xn.fullScreenMode!==t.FullScreenMode.Entering&&xn.fullScreenMode!==t.FullScreenMode.Exitting&&!Rn.isSmoothScrolling){var lt=Rn.startPage,Nt=Rn.endPage,Zt=Rn.maxVisbilityIndex,Kt=Rn.virtualItems,Yt=Zt,Xt=xn.fullScreenMode===t.FullScreenMode.Entered||xn.fullScreenMode===t.FullScreenMode.EnteredCompletely;if(!(Xt&&Yt!==Jt.current&&Jt.current>-1||Xt&&Yt!==hn.current&&hn.current>-1)){Hn(Yt),Ri(d(d({},St.current),{pageIndex:Yt})),kr.setRange(lt,Nt);for(var Xn=function(ga){var va=Kt.find(function(Or){return Or.index===ga});va&&kr.setVisibility(ga,va.visibility)},Xr=lt;Xr<=Nt;Xr++)Xn(Xr);Xs()}}},[Rn.startPage,Rn.endPage,Rn.isSmoothScrolling,Rn.maxVisbilityIndex,xn.fullScreenMode,Yn,In,Bt]);var Bl=o.useCallback(function(lt){kr.markRendered(lt),Xs()},[Wi]),Xs=function(){var lt=kr.getHighestPriorityPage();lt>-1&&kr.isInRange(lt)&&(kr.markRendering(lt),$a(lt))},Ul=function(lt){var Nt=En-1,Zt=En+1;switch(lt){case"FirstPage":Ti(0);break;case"LastPage":Ti(Dt-1);break;case"NextPage":Zt<Dt&&Ti(Zt);break;case"PrevPage":Nt>=0&&Ti(Nt)}},Bo=o.useCallback(function(){var lt=Rn.virtualItems,Nt=[];switch(pe){case t.ViewMode.DualPage:Nt=Pt(lt,2);break;case t.ViewMode.DualPageWithCover:lt.length&&(Nt=lt[0].index===0?[[lt[0]]].concat(Pt(lt.slice(1),2)):Pt(lt,2));break;case t.ViewMode.SinglePage:default:Nt=Pt(lt,1)}var Zt=rn&&rn.core?rn.core.pageLabel:"Page {{pageIndex}}",Kt={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:cn,style:{height:"100%"}},children:o.createElement(o.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:y({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":xt===t.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":un,"rpv-core__inner-pages--single":xt===t.ScrollMode.Page,"rpv-core__inner-pages--vertical":xt===t.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":xt===t.ScrollMode.Wrapped}),ref:nn,style:{height:"100%",position:"relative"}},children:o.createElement("div",{"data-testid":"core__inner-current-page-".concat(En),style:Object.assign({"--scale-factor":Bt},Rn.getContainerStyles())},Nt.map(function(Yt){return o.createElement("div",{className:y({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":xt===t.ScrollMode.Page}),style:Rn.getItemContainerStyles(Yt[0]),key:"".concat(Yt[0].index,"-").concat(pe)},Yt.map(function(Xt){var Xn=pe===t.ViewMode.DualPageWithCover&&(Xt.index===0||Dt%2==0&&Xt.index===Dt-1);return o.createElement("div",{"aria-label":Zt.replace("{{pageIndex}}","".concat(Xt.index+1)),className:y({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":pe===t.ViewMode.DualPage&&Xt.index%2==0,"rpv-core__inner-page--dual-odd":pe===t.ViewMode.DualPage&&Xt.index%2==1,"rpv-core__inner-page--dual-cover":Xn,"rpv-core__inner-page--dual-cover-even":pe===t.ViewMode.DualPageWithCover&&!Xn&&Xt.index%2==0,"rpv-core__inner-page--dual-cover-odd":pe===t.ViewMode.DualPageWithCover&&!Xn&&Xt.index%2==1,"rpv-core__inner-page--single":pe===t.ViewMode.SinglePage&&xt===t.ScrollMode.Page}),role:"region",key:"".concat(Xt.index,"-").concat(pe),style:Object.assign({},Rn.getItemStyles(Xt),Hs.buildPageStyles({numPages:Dt,pageIndex:Xt.index,scrollMode:xt,viewMode:pe}))},o.createElement(Fi,{doc:Ee,measureRef:Xt.measureRef,outlines:Ze,pageIndex:Xt.index,pageRotation:_t.has(Xt.index)?_t.get(Xt.index):0,pageSize:Ce[Xt.index],plugins:Ie,renderPage:Ke,renderQueueKey:Wi,rotation:In,scale:Bt,shouldRender:Gi===Xt.index,viewMode:pe,onExecuteNamedAction:Ul,onJumpFromLinkAnnotation:Va,onJumpToDest:$s,onRenderCompleted:Bl,onRotatePage:Ga}))}))}))}};return Ie.forEach(function(Yt){Yt.renderViewer&&(Kt=Yt.renderViewer({containerRef:cn,doc:Ee,pagesContainerRef:nn,pagesRotation:_t,pageSizes:Ce,rotation:In,slot:Kt,themeContext:Qt,jumpToPage:Ti,openFile:fs,rotate:ma,rotatePage:Ga,switchScrollMode:Gs,switchViewMode:Ci,zoom:Br}))}),Kt},[Ie,Rn]),Ks=o.useCallback(function(lt){return o.createElement("div",d({},lt.attrs,{style:lt.attrs&&lt.attrs.style?lt.attrs.style:{}}),lt.children,lt.subSlot&&Ks(lt.subSlot))},[]);return Ks(Bo())},$i=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],pi=function(te){var fe=te.defaultScale,be=te.doc,Ee=te.render,we=te.scrollMode,Re=te.viewMode,Oe=o.useRef(),Me=o.useState({pageSizes:[],scale:0}),_e=Me[0],Ce=Me[1];return o.useLayoutEffect(function(){var Ie=Array(be.numPages).fill(0).map(function(Ke,Qe){return new Promise(function(Ye,dt){Ut(be,Qe).then(function(st){var at=st.getViewport({scale:1});Ye({pageHeight:at.height,pageWidth:at.width,rotation:at.rotation})})})});Promise.all(Ie).then(function(Ke){var Qe=Oe.current;if(Qe&&Ke.length!==0){var Ye=Ke[0].pageWidth,dt=Ke[0].pageHeight,st=Qe.parentElement,at=(st.clientWidth-45)/Ye,jt=(st.clientHeight-45)/dt,Et=at;switch(we){case t.ScrollMode.Horizontal:Et=Math.min(at,jt);break;case t.ScrollMode.Vertical:default:Et=at}var At,Tt,yt=fe?typeof fe=="string"?$r(st,dt,Ye,fe,Re,be.numPages):fe:(At=Et,(Tt=$i.findIndex(function(Dt){return Dt>=At}))===-1||Tt===0?At:$i[Tt-1]);Ce({pageSizes:Ke,scale:yt})}})},[be.loadingTask.docId]),_e.pageSizes.length===0||_e.scale===0?o.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:Oe},o.createElement(Z,null)):Ee(_e.pageSizes,_e.scale)},Sr=function(){},Vr=function(te){function fe(be,Ee){var we=te.call(this)||this;return we.verifyPassword=be,we.passwordStatus=Ee,we}return _(fe,te),fe}(Sr),mi=function(te){var fe=te.passwordStatus,be=te.renderProtectedView,Ee=te.verifyPassword,we=te.onDocumentAskPassword,Re=o.useContext(J).l10n,Oe=o.useState(""),Me=Oe[0],_e=Oe[1],Ce=o.useContext(b).direction===t.TextDirection.RightToLeft,Ie=function(){return Ee(Me)};return o.useEffect(function(){we&&we({verifyPassword:Ee})},[]),be?be({passwordStatus:fe,verifyPassword:Ee}):o.createElement("div",{className:"rpv-core__asking-password-wrapper"},o.createElement("div",{className:y({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Ce})},o.createElement("div",{className:"rpv-core__asking-password-message"},fe===t.PasswordStatus.RequiredPassword&&Re.core.askingPassword.requirePasswordToOpen,fe===t.PasswordStatus.WrongPassword&&Re.core.wrongPassword.tryAgain),o.createElement("div",{className:"rpv-core__asking-password-body"},o.createElement("div",{className:y({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Ce,"rpv-core__asking-password-input--rtl":Ce})},o.createElement(Q,{testId:"core__asking-password-input",type:"password",value:Me,onChange:_e,onKeyDown:function(Ke){Ke.key==="Enter"&&Ie()}})),o.createElement(P,{onClick:Ie},Re.core.askingPassword.submit))))},ha=function(te){function fe(be){var Ee=te.call(this)||this;return Ee.doc=be,Ee}return _(fe,te),fe}(Sr),Gr=function(te){function fe(be){var Ee=te.call(this)||this;return Ee.error=be,Ee}return _(fe,te),fe}(Sr),fa=function(te){function fe(be){var Ee=te.call(this)||this;return Ee.percentages=be,Ee}return _(fe,te),fe}(Sr),Vi=function(te){var fe=te.characterMap,be=te.file,Ee=te.httpHeaders,we=te.render,Re=te.renderError,Oe=te.renderLoader,Me=te.renderProtectedView,_e=te.transformGetDocumentParams,Ce=te.withCredentials,Ie=te.onDocumentAskPassword,Ke=o.useContext(b).direction===t.TextDirection.RightToLeft,Qe=o.useState(new fa(0)),Ye=Qe[0],dt=Qe[1],st=o.useRef(""),at=he();return o.useEffect(function(){st.current="",dt(new fa(0));var jt=new c.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Et=Object.assign({httpHeaders:Ee,withCredentials:Ce,worker:jt},typeof be=="string"?{url:be}:{data:be},fe?{cMapUrl:fe.url,cMapPacked:fe.isCompressed}:{}),At=_e?_e(Et):Et,Tt=c.getDocument(At);return Tt.onPassword=function(yt,Dt){switch(Dt){case c.PasswordResponses.NEED_PASSWORD:at.current&&dt(new Vr(yt,t.PasswordStatus.RequiredPassword));break;case c.PasswordResponses.INCORRECT_PASSWORD:at.current&&dt(new Vr(yt,t.PasswordStatus.WrongPassword))}},Tt.onProgress=function(yt){var Dt=yt.total>0?Math.min(100,100*yt.loaded/yt.total):100;at.current&&st.current===""&&dt(new fa(Dt))},Tt.promise.then(function(yt){st.current=yt.loadingTask.docId,at.current&&dt(new ha(yt))},function(yt){return at.current&&!jt.destroyed&&dt(new Gr({message:yt.message||"Cannot load document",name:yt.name}))}),function(){Tt.destroy(),jt.destroy()}},[be]),Ye instanceof Vr?o.createElement(mi,{passwordStatus:Ye.passwordStatus,renderProtectedView:Me,verifyPassword:Ye.verifyPassword,onDocumentAskPassword:Ie}):Ye instanceof ha?we(Ye.doc):Ye instanceof Gr?Re?Re(Ye.error):o.createElement("div",{className:y({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":Ke})},o.createElement("div",{className:"rpv-core__doc-error-text"},Ye.error.message)):o.createElement("div",{"data-testid":"core__doc-loading",className:y({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":Ke})},Oe?Oe(Ye.percentages):o.createElement(Z,null))},Wr=function(te,fe){var be=o.useMemo(function(){return te==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":te},[]),Ee=o.useState(be),we=Ee[0],Re=Ee[1],Oe=se(we);return o.useEffect(function(){if(te==="auto"){var Me=window.matchMedia("(prefers-color-scheme: dark)"),_e=function(Ce){Re(Ce.matches?"dark":"light")};return Me.addEventListener("change",_e),function(){return Me.removeEventListener("change",_e)}}},[]),o.useEffect(function(){we!==Oe&&fe&&fe(we)},[we]),o.useEffect(function(){te!==we&&Re(te)},[te]),{currentTheme:we,setCurrentTheme:Re}},Lr=function(te){return{startPage:te.startPage-3,endPage:te.endPage+3}};t.Button=function(te){var fe=te.children,be=te.testId,Ee=te.onClick,we=o.useContext(b).direction===t.TextDirection.RightToLeft,Re=be?{"data-testid":be}:{};return o.createElement("button",d({className:y({"rpv-core__button":!0,"rpv-core__button--rtl":we}),type:"button",onClick:Ee},Re),fe)},t.Icon=A,t.LazyRender=function(te){var fe=te.attrs,be=te.children,Ee=te.testId,we=o.useState(!1),Re=we[0],Oe=we[1],Me=Ee?d(d({},fe),{"data-testid":Ee}):fe,_e=v({once:!0,onVisibilityChanged:function(Ce){Ce.isVisible&&Oe(!0)}});return o.createElement("div",d({ref:_e},Me),Re&&be)},t.LocalizationContext=J,t.Menu=function(te){var fe=te.children,be=o.useRef(),Ee=o.useRef([]),we=o.useContext(b).direction===t.TextDirection.RightToLeft,Re=function(Me){if(be.current)switch(Me.key){case"Tab":Me.preventDefault();break;case"ArrowDown":Me.preventDefault(),Oe(function(_e,Ce){return Ce+1});break;case"ArrowUp":Me.preventDefault(),Oe(function(_e,Ce){return Ce-1});break;case"End":Me.preventDefault(),Oe(function(_e,Ce){return _e.length-1});break;case"Home":Me.preventDefault(),Oe(function(_e,Ce){return 0})}},Oe=function(Me){if(be.current){var _e=Ee.current,Ce=_e.findIndex(function(Ke){return Ke.getAttribute("tabindex")==="0"}),Ie=Math.min(_e.length-1,Math.max(0,Me(_e,Ce)));Ce>=0&&Ce<=_e.length-1&&_e[Ce].setAttribute("tabindex","-1"),_e[Ie].setAttribute("tabindex","0"),_e[Ie].focus()}};return p(function(){var Me=be.current;if(Me){var _e=function(Ce){var Ie=[];return Ce.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(Ke){if(Ke instanceof HTMLElement){var Qe=Ke.parentElement;(Qe===Ce||window.getComputedStyle(Qe).display!=="none")&&Ie.push(Ke)}}),Ie}(Me);Ee.current=_e}},[]),p(function(){return document.addEventListener("keydown",Re),function(){document.removeEventListener("keydown",Re)}},[]),o.createElement("div",{ref:be,"aria-orientation":"vertical",className:y({"rpv-core__menu":!0,"rpv-core__menu--rtl":we}),role:"menu",tabIndex:0},fe)},t.MenuDivider=function(){return o.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},t.MenuItem=function(te){var fe=te.checked,be=fe!==void 0&&fe,Ee=te.children,we=te.icon,Re=we===void 0?null:we,Oe=te.isDisabled,Me=Oe!==void 0&&Oe,_e=te.testId,Ce=te.onClick,Ie=o.useContext(b).direction===t.TextDirection.RightToLeft,Ke=_e?{"data-testid":_e}:{};return o.createElement("button",d({className:y({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Me,"rpv-core__menu-item--ltr":!Ie,"rpv-core__menu-item--rtl":Ie}),role:"menuitem",tabIndex:-1,type:"button",onClick:Ce},Ke),o.createElement("div",{className:y({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Ie,"rpv-core__menu-item-icon--rtl":Ie})},Re),o.createElement("div",{className:y({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Ie,"rpv-core__menu-item-label--rtl":Ie})},Ee),o.createElement("div",{className:y({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Ie,"rpv-core__menu-item-check--rtl":Ie})},be&&o.createElement(w,null)))},t.MinimalButton=function(te){var fe=te.ariaLabel,be=fe===void 0?"":fe,Ee=te.ariaKeyShortcuts,we=Ee===void 0?"":Ee,Re=te.children,Oe=te.isDisabled,Me=Oe!==void 0&&Oe,_e=te.isSelected,Ce=_e!==void 0&&_e,Ie=te.testId,Ke=te.onClick,Qe=o.useContext(b).direction===t.TextDirection.RightToLeft,Ye=Ie?{"data-testid":Ie}:{};return o.createElement("button",d({"aria-label":be},we&&{"aria-keyshortcuts":we},Me&&{"aria-disabled":!0},{className:y({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Me,"rpv-core__minimal-button--rtl":Qe,"rpv-core__minimal-button--selected":Ce}),type:"button",onClick:Ke},Ye),Re)},t.Modal=function(te){var fe=te.ariaControlsSuffix,be=te.closeOnClickOutside,Ee=te.closeOnEscape,we=te.content,Re=te.isOpened,Oe=Re!==void 0&&Re,Me=te.target,_e=fe||"".concat(D());return o.createElement(ve,{target:Me?function(Ce,Ie){return o.createElement("div",{"aria-expanded":Ie?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(_e)},Me(Ce,Ie))}:null,content:function(Ce){return o.createElement(ne,null,o.createElement(H,{ariaControlsSuffix:_e,closeOnClickOutside:be,closeOnEscape:Ee,onToggle:Ce},we(Ce)))},isOpened:Oe})},t.Popover=function(te){var fe=te.ariaHasPopup,be=fe===void 0?"dialog":fe,Ee=te.ariaControlsSuffix,we=te.closeOnClickOutside,Re=te.closeOnEscape,Oe=te.content,Me=te.lockScroll,_e=Me===void 0||Me,Ce=te.offset,Ie=te.position,Ke=te.target,Qe=me(!1),Ye=Qe.opened,dt=Qe.toggle,st=o.useRef(),at=o.useMemo(function(){return Ee||"".concat(D())},[]);return o.createElement("div",{ref:st,"aria-expanded":Ye?"true":"false","aria-haspopup":be,"aria-controls":"rpv-core__popver-body-".concat(at)},Ke(dt,Ye),Ye&&o.createElement(o.Fragment,null,_e&&o.createElement(rt,{closeOnEscape:Re,onClose:dt}),o.createElement(Xe,{ariaControlsSuffix:at,closeOnClickOutside:we,offset:Ce,position:Ie,targetRef:st,onClose:dt},Oe(dt))))},t.PrimaryButton=P,t.ProgressBar=function(te){var fe=te.progress,be=o.useContext(b).direction===t.TextDirection.RightToLeft;return o.createElement("div",{className:y({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":be})},o.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(fe,"%")}},fe,"%"))},t.Separator=function(){return o.createElement("div",{className:"rpv-core__separator"})},t.Spinner=Z,t.Splitter=function(te){var fe=te.constrain,be=o.useContext(b).direction===t.TextDirection.RightToLeft,Ee=o.useRef(),we=o.useRef(),Re=o.useRef(),Oe=o.useRef(0),Me=o.useRef(0),_e=o.useRef(0),Ce=o.useRef(0),Ie={capture:!0},Ke=function(Ye){var dt=Ee.current,st=we.current,at=Re.current;if(dt&&st&&at){var jt=Ce.current,Et=Ye.clientX-Oe.current,At=_e.current+(be?-Et:Et),Tt=dt.parentElement.getBoundingClientRect().width,yt=100*At/Tt;if(dt.classList.add("rpv-core__splitter--resizing"),fe){var Dt=Tt-At-jt;if(!fe({firstHalfPercentage:yt,firstHalfSize:At,secondHalfPercentage:100*Dt/Tt,secondHalfSize:Dt}))return}st.style.width="".concat(yt,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),st.classList.add("rpv-core__splitter-sibling--resizing"),at.classList.add("rpv-core__splitter-sibling--resizing")}},Qe=function(Ye){var dt=Ee.current,st=we.current,at=Re.current;dt&&st&&at&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),dt.classList.remove("rpv-core__splitter--resizing"),st.classList.remove("rpv-core__splitter-sibling--resizing"),at.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",Ke,Ie),document.removeEventListener("mouseup",Qe,Ie))};return o.useEffect(function(){var Ye=Ee.current;Ye&&(Ce.current=Ye.getBoundingClientRect().width,we.current=Ye.previousElementSibling,Re.current=Ye.nextElementSibling)},[]),o.createElement("div",{ref:Ee,className:"rpv-core__splitter",onMouseDown:function(Ye){var dt=we.current;dt&&(Oe.current=Ye.clientX,Me.current=Ye.clientY,_e.current=dt.getBoundingClientRect().width,document.addEventListener("mousemove",Ke,Ie),document.addEventListener("mouseup",Qe,Ie))}})},t.TextBox=Q,t.ThemeContext=b,t.Tooltip=function(te){var fe=te.ariaControlsSuffix,be=te.content,Ee=te.offset,we=te.position,Re=te.target,Oe=me(!1),Me=Oe.opened,_e=Oe.toggle,Ce=o.useRef(),Ie=o.useRef(),Ke=o.useMemo(function(){return fe||"".concat(D())},[]);ce(function(){Ce.current&&document.activeElement&&Ce.current.contains(document.activeElement)&&Ye()});var Qe=function(){_e(t.ToggleStatus.Open)},Ye=function(){_e(t.ToggleStatus.Close)};return o.createElement(o.Fragment,null,o.createElement("div",{ref:Ce,"aria-describedby":"rpv-core__tooltip-body-".concat(Ke),onBlur:function(dt){dt.relatedTarget instanceof HTMLElement&&dt.currentTarget.parentElement&&dt.currentTarget.parentElement.contains(dt.relatedTarget)?Ie.current&&(Ie.current.style.display="none"):Ye()},onFocus:Qe,onMouseEnter:Qe,onMouseLeave:Ye},Re),Me&&o.createElement(pt,{ariaControlsSuffix:Ke,contentRef:Ie,offset:Ee,position:we,targetRef:Ce},be()))},t.Viewer=function(te){var fe=te.characterMap,be=te.defaultScale,Ee=te.enableSmoothScroll,we=Ee===void 0||Ee,Re=te.fileUrl,Oe=te.httpHeaders,Me=Oe===void 0?{}:Oe,_e=te.initialPage,Ce=_e===void 0?0:_e,Ie=te.pageLayout,Ke=te.initialRotation,Qe=Ke===void 0?0:Ke,Ye=te.localization,dt=te.plugins,st=dt===void 0?[]:dt,at=te.renderError,jt=te.renderLoader,Et=te.renderPage,At=te.renderProtectedView,Tt=te.scrollMode,yt=Tt===void 0?t.ScrollMode.Vertical:Tt,Dt=te.setRenderRange,Ct=Dt===void 0?Lr:Dt,rn=te.transformGetDocumentParams,Qt=te.theme,un=Qt===void 0?{direction:t.TextDirection.LeftToRight,theme:"light"}:Qt,cn=te.viewMode,nn=cn===void 0?t.ViewMode.SinglePage:cn,qn=te.withCredentials,En=qn!==void 0&&qn,Hn=te.onDocumentAskPassword,Sn=te.onDocumentLoad,Dn=Sn===void 0?function(){}:Sn,Pn=te.onPageChange,In=Pn===void 0?function(){}:Pn,tr=te.onRotate,ur=tr===void 0?function(){}:tr,Cr=te.onRotatePage,Yn=Cr===void 0?function(){}:Cr,mr=te.onSwitchTheme,Fr=mr===void 0?function(){}:mr,_t=te.onZoom,Rt=_t===void 0?function(){}:_t,bt=o.useState({data:Re,name:typeof Re=="string"?Re:"",shouldLoad:!1}),xt=bt[0],g=bt[1],V=function(Jt,hn){g({data:hn,name:Jt,shouldLoad:!0})},ie=o.useState(!1),pe=ie[0],Se=ie[1],Fe=se(xt);o.useEffect(function(){var Jt,hn,Mn,xn;Jt=Fe.data,xn=typeof(hn=Re),(Mn=typeof Jt)=="string"&&xn==="string"&&Jt===hn||Mn==="object"&&xn==="object"&&Jt.length===hn.length&&Jt.every(function(Yr,Gi){return Yr===hn[Gi]})||g({data:Re,name:typeof Re=="string"?Re:"",shouldLoad:pe})},[Re,pe]);var Ze=v({onVisibilityChanged:function(Jt){Se(Jt.isVisible),Jt.isVisible&&g(function(hn){return Object.assign({},hn,{shouldLoad:!0})})}}),Lt=typeof un=="string"?{direction:t.TextDirection.LeftToRight,theme:un}:un,Bt=o.useState(Ye||S),qt=Bt[0],wn=Bt[1],St={l10n:qt,setL10n:wn},Ln=Object.assign({},{direction:Lt.direction},Wr(Lt.theme||"light",Fr));return o.useEffect(function(){Ye&&wn(Ye)},[Ye]),o.createElement(J.Provider,{value:St},o.createElement(b.Provider,{value:Ln},o.createElement("div",{ref:Ze,className:"rpv-core__viewer rpv-core__viewer--".concat(Ln.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},xt.shouldLoad&&o.createElement(Vi,{characterMap:fe,file:xt.data,httpHeaders:Me,render:function(Jt){return o.createElement(pi,{defaultScale:be,doc:Jt,render:function(hn,Mn){return o.createElement(qs,{currentFile:{data:xt.data,name:xt.name},defaultScale:be,doc:Jt,enableSmoothScroll:we,initialPage:Ce,initialRotation:Qe,initialScale:Mn,pageLayout:Ie,pageSizes:hn,plugins:st,renderPage:Et,scrollMode:yt,setRenderRange:Ct,viewMode:nn,viewerState:{file:xt,fullScreenMode:t.FullScreenMode.Normal,pageIndex:-1,pageHeight:hn[0].pageHeight,pageWidth:hn[0].pageWidth,pagesRotation:new Map,rotation:Qe,scale:Mn,scrollMode:yt,viewMode:nn},onDocumentLoad:Dn,onOpenFile:V,onPageChange:In,onRotate:ur,onRotatePage:Yn,onZoom:Rt})},scrollMode:yt,viewMode:nn})},renderError:at,renderLoader:jt,renderProtectedView:At,transformGetDocumentParams:rn,withCredentials:En,onDocumentAskPassword:Hn}))))},t.Worker=function(te){var fe=te.children,be=te.workerUrl;return c.GlobalWorkerOptions.workerSrc=be,o.createElement(o.Fragment,null,fe)},t.chunk=Pt,t.classNames=y,t.createStore=function(te){var fe=te||{},be={},Ee=function(Re,Oe){var Me;fe=d(d({},fe),((Me={})[Re]=Oe,Me)),(be[Re]||[]).forEach(function(_e){return _e(fe[Re])})},we=function(Re){return fe[Re]};return{subscribe:function(Re,Oe){be[Re]=(be[Re]||[]).concat(Oe)},unsubscribe:function(Re,Oe){be[Re]=(be[Re]||[]).filter(function(Me){return Me!==Oe})},update:function(Re,Oe){Ee(Re,Oe)},updateCurrentValue:function(Re,Oe){var Me=we(Re);Me!==void 0&&Ee(Re,Oe(Me))},get:function(Re){return we(Re)}}},t.getDestination=gn,t.getPage=Ut,t.isFullScreenEnabled=R,t.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},t.useDebounceCallback=ue,t.useIntersectionObserver=v,t.useIsMounted=he,t.useIsomorphicLayoutEffect=p,t.usePrevious=se,t.useRenderQueue=$}(core_min)),core_min}var hasRequiredLib$i;function requireLib$i(){if(hasRequiredLib$i)return lib$i.exports;hasRequiredLib$i=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$i.exports=requireCore_min(),lib$i.exports}var libExports$2=requireLib$i(),lib$h={exports:{}},defaultLayout_min={},lib$g={exports:{}},attachment_min={},hasRequiredAttachment_min;function requireAttachment_min(){if(hasRequiredAttachment_min)return attachment_min;hasRequiredAttachment_min=1;var t=requireLib$i();function e(c){var m=Object.create(null);return c&&Object.keys(c).forEach(function(_){if(_!=="default"){var h=Object.getOwnPropertyDescriptor(c,_);Object.defineProperty(m,_,h.get?h:{enumerable:!0,get:function(){return c[_]}})}}),m.default=c,Object.freeze(m)}var n=e(requireReact()),i=function(c){var m=c.files,_=n.useRef(),h=n.useContext(t.LocalizationContext).l10n,d=n.useContext(t.ThemeContext).direction===t.TextDirection.RightToLeft,f=n.useRef([]),b=h&&h.attachment?h.attachment.clickToDownload:"Click to download",y=function(p){var v=_.current,A=[].slice.call(v.getElementsByClassName("rpv-attachment__item"));if(A.length!==0){A.forEach(function(Z){return Z.setAttribute("tabindex","-1")});var w=document.activeElement,P=A[Math.min(A.length-1,Math.max(0,p(A,w)))];P.setAttribute("tabindex","0"),P.focus()}};return t.useIsomorphicLayoutEffect(function(){var p=_.current;if(p){var v=[].slice.call(p.getElementsByClassName("rpv-attachment__item"));if(f.current=v,v.length>0){var A=v[0];A.focus(),A.setAttribute("tabindex","0")}}},[]),n.createElement("div",{"data-testid":"attachment__list",className:t.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":d}),ref:_,tabIndex:-1,onKeyDown:function(p){switch(p.key){case"ArrowDown":p.preventDefault(),y(function(v,A){return v.indexOf(A)+1});break;case"ArrowUp":p.preventDefault(),y(function(v,A){return v.indexOf(A)-1});break;case"End":p.preventDefault(),y(function(v,A){return v.length-1});break;case"Home":p.preventDefault(),y(function(v,A){return 0})}}},m.map(function(p){return n.createElement("button",{className:"rpv-attachment__item",key:p.fileName,tabIndex:-1,title:b,type:"button",onClick:function(){return v=p.fileName,A=p.data,w=typeof A=="string"?"":URL.createObjectURL(new Blob([A],{type:""})),(P=document.createElement("a")).style.display="none",P.href=w||v,P.setAttribute("download",function(Z){var Q=Z.split("/").pop();return Q?Q.split("#")[0].split("?")[0]:Z}(v)),document.body.appendChild(P),P.click(),document.body.removeChild(P),void(w&&URL.revokeObjectURL(w));var v,A,w,P}},p.fileName)}))},s=function(c){var m=c.doc,_=n.useContext(t.LocalizationContext).l10n,h=n.useContext(t.ThemeContext).direction===t.TextDirection.RightToLeft,d=_&&_.attachment?_.attachment.noAttachment:"There is no attachment",f=n.useState({files:[],isLoaded:!1}),b=f[0],y=f[1];return n.useEffect(function(){m.getAttachments().then(function(p){var v=p?Object.keys(p).map(function(A){return{data:p[A].content,fileName:p[A].filename}}):[];y({files:v,isLoaded:!0})})},[m]),b.isLoaded?b.files.length===0?n.createElement("div",{"data-testid":"attachment__empty",className:t.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":h})},d):n.createElement(i,{files:b.files}):n.createElement(t.Spinner,null)},o=function(c){var m=c.store,_=n.useState(m.get("doc")),h=_[0],d=_[1],f=function(b){d(b)};return n.useEffect(function(){return m.subscribe("doc",f),function(){m.unsubscribe("doc",f)}},[]),h?n.createElement(s,{doc:h}):n.createElement("div",{className:"rpv-attachment__loader"},n.createElement(t.Spinner,null))};return attachment_min.attachmentPlugin=function(){var c=n.useMemo(function(){return t.createStore({})},[]);return{onDocumentLoad:function(m){c.update("doc",m.doc)},Attachments:function(){return n.createElement(o,{store:c})}}},attachment_min}var hasRequiredLib$h;function requireLib$h(){if(hasRequiredLib$h)return lib$g.exports;hasRequiredLib$h=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$g.exports=requireAttachment_min(),lib$g.exports}var lib$f={exports:{}},bookmark_min={},hasRequiredBookmark_min;function requireBookmark_min(){if(hasRequiredBookmark_min)return bookmark_min;hasRequiredBookmark_min=1;var t=requireLib$i();function e(b){var y=Object.create(null);return b&&Object.keys(b).forEach(function(p){if(p!=="default"){var v=Object.getOwnPropertyDescriptor(b,p);Object.defineProperty(y,p,v.get?v:{enumerable:!0,get:function(){return b[p]}})}}),y.default=b,Object.freeze(y)}var n,i=e(requireReact()),s=function(){return s=Object.assign||function(b){for(var y,p=1,v=arguments.length;p<v;p++)for(var A in y=arguments[p])Object.prototype.hasOwnProperty.call(y,A)&&(b[A]=y[A]);return b},s.apply(this,arguments)},o=function(){return i.createElement(t.Icon,{size:16},i.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},c=function(){return i.createElement(t.Icon,{size:16},i.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},m=function(b){var y=b.bookmark,p=b.depth,v=b.doc,A=b.index,w=b.isBookmarkExpanded,P=b.numberOfSiblings,Z=b.pathFromRoot,Q=b.renderBookmarkItem,z=b.store,K=Z?"".concat(Z,".").concat(A):"".concat(A),j=i.useMemo(function(){return function(J){var ae=J.count,D=J.items;if(ae>=0)return!1;var de=D.length;if(de===0)return!1;for(var ce=D.concat([]);ce.length>0;){var H=ce.shift(),ne=H.items;H.count&&ne&&H.count>0&&ne.length>0&&(de+=ne.length,ce=ce.concat(ne))}return Math.abs(ae)===de}(y)},[y]),T=z.get("bookmarkExpandedMap"),I=w?w({bookmark:y,doc:v,depth:p,index:A}):T.has(K)?T.get(K):!j,Y=i.useState(I),R=Y[0],U=Y[1],G=y.items&&y.items.length>0,ue=function(){var J=!R;z.updateCurrentValue("bookmarkExpandedMap",function(ae){return ae.set(K,J)}),U(J)},he=function(){var J=y.dest,ae=z.get("jumpToDestination");t.getDestination(v,J).then(function(D){ae&&ae(s({label:y.title},D))})},se=function(){G&&y.dest&&he()},ee=function(){!G&&y.dest&&he()},W=function(J,ae){return i.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*p,"rem")},onClick:J},ae)},$=function(J,ae){return G?i.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(p,"-").concat(A),onClick:ue},R?J:ae):i.createElement("span",{className:"rpv-bookmark__toggle"})},S=function(J){return y.url?i.createElement("a",{className:"rpv-bookmark__title",href:y.url,rel:"noopener noreferrer nofollow",target:y.newWindow?"_blank":""},y.title):i.createElement("div",{className:"rpv-bookmark__title","aria-label":y.title,onClick:J},y.title)};return i.createElement("li",{"aria-expanded":R?"true":"false","aria-label":y.title,"aria-level":p+1,"aria-posinset":A+1,"aria-setsize":P,role:"treeitem",tabIndex:-1},Q?Q({bookmark:y,depth:p,hasSubItems:G,index:A,isExpanded:R,path:K,defaultRenderItem:W,defaultRenderTitle:S,defaultRenderToggle:$,onClickItem:ee,onClickTitle:se,onToggleSubItems:ue}):W(ee,i.createElement(i.Fragment,null,$(i.createElement(o,null),i.createElement(c,null)),S(se))),G&&R&&i.createElement(_,{bookmarks:y.items,depth:p+1,doc:v,isBookmarkExpanded:w,isRoot:!1,pathFromRoot:K,renderBookmarkItem:Q,store:z}))},_=function(b){var y=b.bookmarks,p=b.depth,v=p===void 0?0:p,A=b.doc,w=b.isBookmarkExpanded,P=b.isRoot,Z=b.pathFromRoot,Q=b.renderBookmarkItem,z=b.store;return i.createElement("ul",{className:"rpv-bookmark__list",role:P?"tree":"group",tabIndex:-1},y.map(function(K,j){return i.createElement(m,{bookmark:K,depth:v,doc:A,index:j,isBookmarkExpanded:w,key:j,numberOfSiblings:y.length,pathFromRoot:Z,renderBookmarkItem:Q,store:z})}))};(function(b){b[b.Collapse=0]="Collapse",b[b.Expand=1]="Expand"})(n||(n={}));var h=function(b){var y=b.bookmarks,p=b.doc,v=b.isBookmarkExpanded,A=b.renderBookmarkItem,w=b.store,P=i.useRef(),Z=function(j){var T=P.current;if(T&&j.target instanceof HTMLElement&&T.contains(j.target))switch(j.key){case"ArrowDown":j.preventDefault(),z(function(I,Y){return I.indexOf(Y)+1});break;case"ArrowLeft":j.preventDefault(),K(n.Collapse);break;case"ArrowRight":j.preventDefault(),K(n.Expand);break;case"ArrowUp":j.preventDefault,z(function(I,Y){return I.indexOf(Y)-1});break;case"End":j.preventDefault(),z(function(I,Y){return I.length-1});break;case" ":case"Enter":case"Space":j.preventDefault(),Q();break;case"Home":j.preventDefault(),z(function(I,Y){return 0})}},Q=function(){var j=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");j&&j.click()},z=function(j){var T=P.current,I=[].slice.call(T.getElementsByClassName("rpv-bookmark__item"));if(I.length!==0){var Y=document.activeElement,R=I[Math.min(I.length-1,Math.max(0,j(I,Y)))];Y.setAttribute("tabindex","-1"),R.setAttribute("tabindex","0"),R.focus()}},K=function(j){var T=P.current;if([].slice.call(T.getElementsByClassName("rpv-bookmark__item")).length!==0){var I=document.activeElement.closest(".rpv-bookmark__item"),Y=j===n.Collapse?"true":"false";if(I&&I.parentElement.getAttribute("aria-expanded")===Y){var R=I.querySelector(".rpv-bookmark__toggle");R&&R.click()}}};return i.useEffect(function(){return document.addEventListener("keydown",Z),function(){document.removeEventListener("keydown",Z)}},[]),i.useEffect(function(){var j=P.current;if(j){var T=[].slice.call(j.getElementsByClassName("rpv-bookmark__item"));T.length>0&&(T[0].focus(),T[0].setAttribute("tabindex","0"))}},[]),i.createElement("div",{ref:P},i.createElement(_,{bookmarks:y,depth:0,doc:p,isBookmarkExpanded:v,isRoot:!0,pathFromRoot:"",renderBookmarkItem:A,store:w}))},d=function(b){var y=b.doc,p=b.isBookmarkExpanded,v=b.renderBookmarkItem,A=b.store,w=i.useContext(t.LocalizationContext).l10n,P=i.useContext(t.ThemeContext).direction===t.TextDirection.RightToLeft,Z=i.useState({isLoaded:!1,items:[]}),Q=Z[0],z=Z[1];return i.useEffect(function(){z({isLoaded:!1,items:[]}),y.getOutline().then(function(K){z({isLoaded:!0,items:K||[]})})},[y]),Q.isLoaded?Q.items.length===0?i.createElement("div",{"data-testid":"bookmark__empty",className:t.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":P})},w&&w.bookmark?w.bookmark.noBookmark:"There is no bookmark"):i.createElement("div",{"data-testid":"bookmark__container",className:t.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":P})},i.createElement(h,{bookmarks:Q.items,doc:y,isBookmarkExpanded:p,renderBookmarkItem:v,store:A})):i.createElement("div",{className:"rpv-bookmark__loader"},i.createElement(t.Spinner,null))},f=function(b){var y=b.isBookmarkExpanded,p=b.renderBookmarkItem,v=b.store,A=i.useState(v.get("doc")),w=A[0],P=A[1],Z=function(Q){P(Q)};return i.useEffect(function(){return v.subscribe("doc",Z),function(){v.unsubscribe("doc",Z)}},[]),w?i.createElement(d,{doc:w,isBookmarkExpanded:y,renderBookmarkItem:p,store:v}):i.createElement("div",{className:"rpv-bookmark__loader"},i.createElement(t.Spinner,null))};return bookmark_min.DownArrowIcon=o,bookmark_min.RightArrowIcon=c,bookmark_min.bookmarkPlugin=function(){var b=i.useMemo(function(){return t.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function(y){b.update("jumpToDestination",y.jumpToDestination)},onDocumentLoad:function(y){b.update("doc",y.doc)},Bookmarks:function(y){return i.createElement(f,{isBookmarkExpanded:y?.isBookmarkExpanded,renderBookmarkItem:y?.renderBookmarkItem,store:b})}}},bookmark_min}var hasRequiredLib$g;function requireLib$g(){if(hasRequiredLib$g)return lib$f.exports;hasRequiredLib$g=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$f.exports=requireBookmark_min(),lib$f.exports}var lib$e={exports:{}},thumbnail_min={},hasRequiredThumbnail_min;function requireThumbnail_min(){return hasRequiredThumbnail_min||(hasRequiredThumbnail_min=1,function(t){var e=requireLib$i();function n(v){var A=Object.create(null);return v&&Object.keys(v).forEach(function(w){if(w!=="default"){var P=Object.getOwnPropertyDescriptor(v,w);Object.defineProperty(A,w,P.get?P:{enumerable:!0,get:function(){return v[w]}})}}),A.default=v,Object.freeze(A)}var i,s=n(requireReact());t.ThumbnailDirection=void 0,(i=t.ThumbnailDirection||(t.ThumbnailDirection={})).Horizontal="Horizontal",i.Vertical="Vertical";var o=function(){return o=Object.assign||function(v){for(var A,w=1,P=arguments.length;w<P;w++)for(var Z in A=arguments[w])Object.prototype.hasOwnProperty.call(A,Z)&&(v[Z]=A[Z]);return v},o.apply(this,arguments)},c=function(v){var A=v.doc,w=v.getPageIndex,P=v.renderSpinner,Z=v.store,Q=v.width,z=A.numPages,K=w?w({numPages:z}):0,j=Math.max(0,Math.min(K,z-1)),T=Z.get("pagesRotation")||new Map,I=T.has(j)?T.get(j):0,Y=s.useState(""),R=Y[0],U=Y[1],G=e.useIsMounted(),ue=s.useRef(),he=s.useState(Z.get("rotation")||0),se=he[0],ee=he[1],W=s.useState(I),$=W[0],S=W[1],J=s.useState(!1),ae=J[0],D=J[1],de=function(ne){var oe=ne.has(j)?ne.get(j):0;S(oe)},ce=function(ne){ee(ne)},H=e.useIntersectionObserver({onVisibilityChanged:function(ne){D(ne.isVisible)}});return s.useEffect(function(){if(ae){var ne=H.current;ne&&(U(""),e.getPage(A,j).then(function(oe){var me=oe.getViewport({scale:1}),ve=(me.rotation+se+$)%360,ye=Math.abs(se+$)%180==0,xe=ye?me.width:me.height,je=ye?me.height:me.width,Je=document.createElement("canvas"),Le=Je.getContext("2d",{alpha:!1}),qe=ne.clientWidth,ze=ne.clientHeight,ke=Q?Q/xe:Math.min(qe/xe,ze/je),De=ke*xe,tt=ke*je;Je.height=tt,Je.width=De,Je.style.opacity="0";var Xe=oe.getViewport({rotation:ve,scale:ke});ue.current=oe.render({canvasContext:Le,viewport:Xe}),ue.current.promise.then(function(){G.current&&U(Je.toDataURL()),Je.width=0,Je.height=0},function(){})}))}},[$,ae]),s.useEffect(function(){return Z.subscribe("pagesRotation",de),Z.subscribe("rotation",ce),function(){Z.unsubscribe("pagesRotation",de),Z.unsubscribe("rotation",ce)}},[]),s.useEffect(function(){return function(){var ne;(ne=ue.current)===null||ne===void 0||ne.cancel()}},[]),s.createElement("div",{ref:H,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},R?s.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:R}):s.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},P?P():s.createElement(e.Spinner,null)))},m=function(v){var A=v.getPageIndex,w=v.renderSpinner,P=v.store,Z=v.width,Q=s.useState(P.get("doc")),z=Q[0],K=Q[1],j=function(T){K(T)};return s.useEffect(function(){return P.subscribe("doc",j),function(){P.unsubscribe("doc",j)}},[]),s.createElement("div",{className:"rpv-thumbnail__cover"},z?s.createElement(c,{doc:z,getPageIndex:A,renderSpinner:w,store:P,width:Z}):s.createElement("div",{className:"rpv-thumbnail__cover-loader"},w?w():s.createElement(e.Spinner,null)))},_=function(){return s.createElement(e.Spinner,null)},h=s.createContext({renderSpinner:_}),d=function(v){var A=v.children,w=v.doc,P=e.useIsMounted(),Z=s.useState({loading:!0,labels:[]}),Q=Z[0],z=Z[1];return s.useEffect(function(){w.getPageLabels().then(function(K){P.current&&z({loading:!1,labels:K||[]})})},[w.loadingTask.docId]),Q.loading?s.createElement(s.Fragment,null):A(Q.labels)},f=function(v){var A=v.page,w=v.pageHeight,P=v.pageIndex,Z=v.pageWidth,Q=v.rotation,z=v.thumbnailHeight,K=v.thumbnailWidth,j=v.onRenderCompleted,T=s.useContext(e.LocalizationContext).l10n,I=s.useRef(),Y=s.useState(""),R=Y[0],U=Y[1],G=T&&T.thumbnail?T.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return s.useEffect(function(){var ue=I.current;ue&&ue.cancel();var he=document.createElement("canvas"),se=he.getContext("2d",{alpha:!1}),ee=K,W=ee/(Z/w),$=ee/Z;he.height=W,he.width=ee,he.style.height="".concat(W,"px"),he.style.width="".concat(ee,"px");var S=A.getViewport({rotation:Q,scale:$});return I.current=A.render({canvasContext:se,viewport:S}),I.current.promise.then(function(){U(he.toDataURL()),j(P)},function(){j(P)}),function(){var J;(J=I.current)===null||J===void 0||J.cancel()}},[Q]),R?s.createElement("img",{"aria-label":G.replace("{{pageIndex}}","".concat(P+1)),src:R,height:"".concat(z,"px"),width:"".concat(K,"px")}):s.useContext(h).renderSpinner()},b=function(v){var A=v.doc,w=v.pageHeight,P=v.pageIndex,Z=v.pageRotation,Q=v.pageWidth,z=v.rotation,K=v.shouldRender,j=v.thumbnailWidth,T=v.onRenderCompleted,I=v.onVisibilityChanged,Y=e.useIsMounted(),R=s.useState({height:w,page:null,viewportRotation:0,width:Q}),U=R[0],G=R[1],ue=U.page,he=U.height,se=U.width,ee=se/he,W=Math.abs(z+Z)%180==0,$=W?j:j/ee,S=W?j/ee:j;s.useEffect(function(){K&&e.getPage(A,P).then(function(D){var de=D.getViewport({scale:1});Y.current&&G({height:de.height,page:D,viewportRotation:de.rotation,width:de.width})})},[K]);var J=(U.viewportRotation+z+Z)%360,ae=e.useIntersectionObserver({onVisibilityChanged:function(D){I(P,D)}});return s.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(P),ref:ae,style:{height:"".concat(S,"px"),width:"".concat($,"px")}},ue?s.createElement(f,{page:ue,pageHeight:W?he:se,pageIndex:P,pageWidth:W?se:he,rotation:J,thumbnailHeight:S,thumbnailWidth:$,onRenderCompleted:T}):s.useContext(h).renderSpinner())},y=function(v){var A=v.currentPage,w=v.doc,P=v.labels,Z=v.pagesRotation,Q=v.pageHeight,z=v.pageWidth,K=v.renderCurrentPageLabel,j=v.renderThumbnailItem,T=v.rotatedPage,I=v.rotation,Y=v.thumbnailDirection,R=v.thumbnailWidth,U=v.viewMode,G=v.onJumpToPage,ue=v.onRotatePage,he=w.numPages,se=w.loadingTask.docId,ee=s.useRef(null),W=s.useRef([]),$=s.useState(A),S=$[0],J=$[1],ae=s.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,D=s.useState(-1),de=D[0],ce=D[1],H=e.useIsMounted(),ne=e.usePrevious(U),oe=s.useRef(!1),me=e.useRenderQueue({doc:w}),ve=s.useMemo(function(){return Array(he).fill(0).map(function(ke,De){return De})},[se]),ye=s.useMemo(function(){switch(U){case e.ViewMode.DualPage:return e.chunk(ve,2);case e.ViewMode.DualPageWithCover:return[[ve[0]]].concat(e.chunk(ve.slice(1),2));case e.ViewMode.SinglePage:default:return e.chunk(ve,1)}},[se,U]),xe=function(){if(ee.current){var ke=W.current,De=S+1;De<ke.length&&(S>=0&&ke[S].setAttribute("tabindex","-1"),J(De))}},je=function(){if(ee.current){var ke=W.current,De=S-1;De>=0&&(S>=0&&ke[S].setAttribute("tabindex","-1"),J(De))}},Je=function(){S>=0&&S<he&&G(S)};e.useIsomorphicLayoutEffect(function(){var ke=ee.current;ke&&(W.current=Array.from(ke.querySelectorAll(".rpv-thumbnail__item")))},[U]),s.useEffect(function(){var ke=W.current;if(!(ke.length===0||S<0||S>ke.length)){var De=ke[S];De.setAttribute("tabindex","0"),De.focus()}},[S]),e.useIsomorphicLayoutEffect(function(){var ke=ee.current,De=W.current;if(!(!ke||De.length===0||A<0||A>De.length)){var tt=De[A].closest(".rpv-thumbnail__items");tt&&(Y===t.ThumbnailDirection.Vertical?function(Xe,rt){var pt=Xe.getBoundingClientRect().top-rt.getBoundingClientRect().top,vt=Xe.clientHeight,Pt=rt.clientHeight;pt<0?rt.scrollTop+=pt:pt+vt<=Pt||(rt.scrollTop+=pt+vt-Pt)}(tt,ke):function(Xe,rt){var pt=Xe.getBoundingClientRect().left-rt.getBoundingClientRect().left,vt=Xe.clientWidth,Pt=rt.clientWidth;pt<0?rt.scrollLeft+=pt:pt+vt<=Pt||(rt.scrollLeft+=pt+vt-Pt)}(tt,ke))}},[A,Y]);var Le=s.useCallback(function(ke){H.current&&(me.markRendered(ke),oe.current=!1,ze())},[se]),qe=s.useCallback(function(ke,De){De.isVisible?me.setVisibility(ke,De.ratio):me.setOutOfRange(ke),ze()},[se]),ze=s.useCallback(function(){if(!oe.current){var ke=me.getHighestPriorityPage();ke>-1&&(me.markRendering(ke),oe.current=!0,ce(ke))}},[se]);return s.useEffect(function(){T>=0&&(me.markRendering(T),oe.current=!0,ce(T))},[se,T]),e.useIsomorphicLayoutEffect(function(){ne!==U&&(me.markNotRendered(),ze())},[U]),s.createElement("div",{ref:ee,"data-testid":"thumbnail__list",className:e.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":Y===t.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":ae,"rpv-thumbnail__list--vertical":Y===t.ThumbnailDirection.Vertical}),onKeyDown:function(ke){switch(ke.key){case"ArrowDown":xe();break;case"ArrowUp":je();break;case"Enter":Je()}}},ye.map(function(ke,De){var tt=!1;switch(U){case e.ViewMode.DualPage:tt=A===2*De||A===2*De+1;break;case e.ViewMode.DualPageWithCover:tt=A===0&&De===0||De>0&&A===2*De-1||De>0&&A===2*De;break;case e.ViewMode.SinglePage:default:tt=A===De}return s.createElement("div",{className:e.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":U===e.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":U===e.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":U===e.ViewMode.SinglePage,"rpv-thumbnail__items--selected":tt}),key:"".concat(De,"___").concat(U)},ke.map(function(Xe){return function(rt){var pt=U===e.ViewMode.DualPageWithCover&&(rt===0||he%2==0&&rt===he-1),vt="".concat(w.loadingTask.docId,"___").concat(rt),Pt=P.length===he?P[rt]:"".concat(rt+1),Be=K?K({currentPage:A,pageIndex:rt,numPages:he,pageLabel:Pt}):Pt,Ve=Z.has(rt)?Z.get(rt):0,mt=s.createElement(b,{doc:w,pageHeight:Q,pageIndex:rt,pageRotation:Ve,pageWidth:z,rotation:I,shouldRender:de===rt,thumbnailWidth:R,onRenderCompleted:Le,onVisibilityChanged:qe});return j?j({currentPage:A,key:vt,numPages:he,pageIndex:rt,renderPageLabel:s.createElement(s.Fragment,null,Be),renderPageThumbnail:mt,onJumpToPage:function(){return G(rt)},onRotatePage:function(ht){return ue(rt,ht)}}):s.createElement("div",{key:vt},s.createElement("div",{className:e.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":U===e.ViewMode.DualPage&&rt%2==0,"rpv-thumbnail__item--dual-odd":U===e.ViewMode.DualPage&&rt%2==1,"rpv-thumbnail__item--dual-cover":pt,"rpv-thumbnail__item--dual-cover-even":U===e.ViewMode.DualPageWithCover&&!pt&&rt%2==0,"rpv-thumbnail__item--dual-cover-odd":U===e.ViewMode.DualPageWithCover&&!pt&&rt%2==1,"rpv-thumbnail__item--single":U===e.ViewMode.SinglePage,"rpv-thumbnail__item--selected":A===rt}),role:"button",tabIndex:A===rt?0:-1,onClick:function(){return G(rt)}},mt),s.createElement("div",{"data-testid":"thumbnail__label-".concat(rt),className:"rpv-thumbnail__label"},Be))}(Xe)}))}))},p=function(v){var A=v.renderCurrentPageLabel,w=v.renderThumbnailItem,P=v.store,Z=v.thumbnailDirection,Q=v.thumbnailWidth,z=s.useState(P.get("doc")),K=z[0],j=z[1],T=s.useState(P.get("currentPage")||0),I=T[0],Y=T[1],R=s.useState(P.get("pageHeight")||0),U=R[0],G=R[1],ue=s.useState(P.get("pageWidth")||0),he=ue[0],se=ue[1],ee=s.useState(P.get("rotation")||0),W=ee[0],$=ee[1],S=s.useState(P.get("pagesRotation")||new Map),J=S[0],ae=S[1],D=s.useState(P.get("rotatedPage")||-1),de=D[0],ce=D[1],H=s.useState(P.get("viewMode")),ne=H[0],oe=H[1],me=function(De){Y(De)},ve=function(De){j(De)},ye=function(De){G(De)},xe=function(De){se(De)},je=function(De){$(De)},Je=function(De){ae(De)},Le=function(De){ce(De)},qe=function(De){oe(De)},ze=function(De){var tt=P.get("jumpToPage");tt&&tt(De)},ke=function(De,tt){P.get("rotatePage")(De,tt)};return s.useEffect(function(){return P.subscribe("doc",ve),P.subscribe("pageHeight",ye),P.subscribe("pageWidth",xe),P.subscribe("rotatedPage",Le),P.subscribe("rotation",je),P.subscribe("pagesRotation",Je),P.subscribe("viewMode",qe),function(){P.unsubscribe("doc",ve),P.unsubscribe("pageHeight",ye),P.unsubscribe("pageWidth",xe),P.unsubscribe("rotatedPage",Le),P.unsubscribe("rotation",je),P.unsubscribe("pagesRotation",Je),P.unsubscribe("viewMode",qe)}},[]),e.useIsomorphicLayoutEffect(function(){return P.subscribe("currentPage",me),function(){P.unsubscribe("currentPage",me)}},[]),K?s.createElement(e.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},s.createElement(d,{doc:K},function(De){return s.createElement(y,{currentPage:I,doc:K,labels:De,pagesRotation:J,pageHeight:U,pageWidth:he,renderCurrentPageLabel:A,renderThumbnailItem:w,rotatedPage:de,rotation:W,thumbnailDirection:Z,thumbnailWidth:Q,viewMode:ne,onJumpToPage:ze,onRotatePage:ke})})):s.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},s.useContext(h).renderSpinner())};t.thumbnailPlugin=function(v){var A=s.useMemo(function(){return e.createStore({rotatePage:function(){},viewMode:e.ViewMode.SinglePage})},[]),w=s.useState(""),P=w[0],Z=w[1];return{install:function(Q){A.update("jumpToPage",Q.jumpToPage),A.update("rotatePage",Q.rotatePage)},onDocumentLoad:function(Q){Z(Q.doc.loadingTask.docId),A.update("doc",Q.doc)},onViewerStateChange:function(Q){return A.update("currentPage",Q.pageIndex),A.update("pagesRotation",Q.pagesRotation),A.update("pageHeight",Q.pageHeight),A.update("pageWidth",Q.pageWidth),A.update("rotation",Q.rotation),A.update("rotatedPage",Q.rotatedPage),A.update("viewMode",Q.viewMode),Q},Cover:function(Q){return s.createElement(m,o({},Q,{renderSpinner:v?.renderSpinner,store:A}))},Thumbnails:s.useCallback(function(Q){return s.createElement(h.Provider,{value:{renderSpinner:v?.renderSpinner||_}},s.createElement(p,{renderCurrentPageLabel:v?.renderCurrentPageLabel,renderThumbnailItem:Q?.renderThumbnailItem,store:A,thumbnailDirection:Q?.thumbnailDirection||t.ThumbnailDirection.Vertical,thumbnailWidth:v?.thumbnailWidth||100}))},[P])}}}(thumbnail_min)),thumbnail_min}var hasRequiredLib$f;function requireLib$f(){if(hasRequiredLib$f)return lib$e.exports;hasRequiredLib$f=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$e.exports=requireThumbnail_min(),lib$e.exports}var lib$d={exports:{}},toolbar_min={},lib$c={exports:{}},selectionMode_min={},hasRequiredSelectionMode_min;function requireSelectionMode_min(){return hasRequiredSelectionMode_min||(hasRequiredSelectionMode_min=1,function(t){var e=requireLib$i();function n(p){var v=Object.create(null);return p&&Object.keys(p).forEach(function(A){if(A!=="default"){var w=Object.getOwnPropertyDescriptor(p,A);Object.defineProperty(v,A,w.get?w:{enumerable:!0,get:function(){return p[A]}})}}),v.default=p,Object.freeze(v)}var i,s=n(requireReact()),o=function(){return s.createElement(e.Icon,{size:16},s.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},c=function(){return c=Object.assign||function(p){for(var v,A=1,w=arguments.length;A<w;A++)for(var P in v=arguments[A])Object.prototype.hasOwnProperty.call(v,P)&&(p[P]=v[P]);return p},c.apply(this,arguments)};t.SelectionMode=void 0,(i=t.SelectionMode||(t.SelectionMode={})).Hand="Hand",i.Text="Text";var m=function(){return s.createElement(e.Icon,{size:16},s.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},_=function(p){var v=p.children,A=p.mode,w=p.onClick,P=s.useContext(e.LocalizationContext).l10n,Z="",Q=s.createElement(m,null);switch(A){case t.SelectionMode.Hand:Z=P&&P.selectionMode?P.selectionMode.handTool:"Hand tool",Q=s.createElement(o,null);break;case t.SelectionMode.Text:default:Z=P&&P.selectionMode?P.selectionMode.textSelectionTool:"Text selection tool",Q=s.createElement(m,null)}return v({icon:Q,label:Z,onClick:w})},h={left:0,top:8},d=function(p){var v=p.isSelected,A=p.mode,w=p.onClick,P="";switch(A){case t.SelectionMode.Hand:P="selection-mode__hand-button";break;case t.SelectionMode.Text:default:P="selection-mode__text-button"}return s.createElement(_,{mode:A,onClick:w},function(Z){return s.createElement(e.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:e.Position.BottomCenter,target:s.createElement(e.MinimalButton,{ariaLabel:Z.label,isSelected:v,testId:P,onClick:Z.onClick},Z.icon),content:function(){return Z.label},offset:h})})},f=function(p){var v=p.children,A=p.mode,w=p.store,P=A===w.get("selectionMode");return(v||function(Z){return s.createElement(d,{isSelected:P,mode:Z.mode,onClick:Z.onClick})})({isSelected:P,mode:A,onClick:function(){return w.update("selectionMode",A)}})},b=function(p){var v=p.isSelected,A=p.mode,w=p.onClick,P="";switch(A){case t.SelectionMode.Hand:P="selection-mode__hand-menu";break;case t.SelectionMode.Text:default:P="selection-mode__text-menu"}return s.createElement(_,{mode:A,onClick:w},function(Z){return s.createElement(e.MenuItem,{checked:v,icon:Z.icon,testId:P,onClick:Z.onClick},Z.label)})},y=function(p){var v=p.store,A=s.useRef(null),w=s.useState(t.SelectionMode.Text),P=w[0],Z=w[1],Q=s.useRef({top:0,left:0,x:0,y:0}),z=function(Y){var R=A.current;R&&(R.scrollTop=Q.current.top-(Y.clientY-Q.current.y),R.scrollLeft=Q.current.left-(Y.clientX-Q.current.x))},K=function(){var Y=A.current;Y&&(Y.classList.add("rpv-selection-mode__grab"),Y.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",K))},j=function(Y){var R=A.current;R&&P!==t.SelectionMode.Text&&(R.classList.remove("rpv-selection-mode__grab"),R.classList.add("rpv-selection-mode__grabbing"),Y.preventDefault(),Y.stopPropagation(),Q.current={left:R.scrollLeft,top:R.scrollTop,x:Y.clientX,y:Y.clientY},document.addEventListener("mousemove",z),document.addEventListener("mouseup",K))},T=function(Y){A.current=Y()},I=function(Y){Z(Y)};return s.useEffect(function(){var Y=A.current;if(Y)return P===t.SelectionMode.Hand?Y.classList.add("rpv-selection-mode__grab"):Y.classList.remove("rpv-selection-mode__grab"),Y.addEventListener("mousedown",j),function(){Y.removeEventListener("mousedown",j)}},[P]),s.useEffect(function(){return v.subscribe("getPagesContainer",T),v.subscribe("selectionMode",I),function(){v.unsubscribe("getPagesContainer",T),v.unsubscribe("selectionMode",I)}},[]),s.createElement(s.Fragment,null)};t.HandToolIcon=o,t.TextSelectionIcon=m,t.selectionModePlugin=function(p){var v=s.useMemo(function(){return e.createStore()},[]),A=function(w){return s.createElement(f,c({},w,{store:v}))};return{install:function(w){v.update("selectionMode",p&&p.selectionMode?p.selectionMode:t.SelectionMode.Text),v.update("getPagesContainer",w.getPagesContainer)},renderViewer:function(w){var P=w.slot;return P.subSlot&&P.subSlot.children&&(P.subSlot.children=s.createElement(s.Fragment,null,s.createElement(y,{store:v}),P.subSlot.children)),P},SwitchSelectionMode:A,SwitchSelectionModeButton:function(w){return s.createElement(A,{mode:w.mode},function(P){return s.createElement(d,{isSelected:P.isSelected,mode:P.mode,onClick:function(){P.onClick()}})})},SwitchSelectionModeMenuItem:function(w){return s.createElement(A,{mode:w.mode},function(P){return s.createElement(b,{isSelected:P.isSelected,mode:P.mode,onClick:function(){P.onClick(),w.onClick()}})})}}}}(selectionMode_min)),selectionMode_min}var hasRequiredLib$e;function requireLib$e(){if(hasRequiredLib$e)return lib$c.exports;hasRequiredLib$e=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$c.exports=requireSelectionMode_min(),lib$c.exports}var lib$b={exports:{}},fullScreen_min={},hasRequiredFullScreen_min;function requireFullScreen_min(){if(hasRequiredFullScreen_min)return fullScreen_min;hasRequiredFullScreen_min=1;var t=requireLib$i();function e(w){var P=Object.create(null);return w&&Object.keys(w).forEach(function(Z){if(Z!=="default"){var Q=Object.getOwnPropertyDescriptor(w,Z);Object.defineProperty(P,Z,Q.get?Q:{enumerable:!0,get:function(){return w[Z]}})}}),P.default=w,Object.freeze(P)}var n=e(requireReact()),i=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},s=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:"M0.5 12L23.5 12"}),n.createElement("path",{d:"M11.5 1L11.5 23"}),n.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},o=function(){return o=Object.assign||function(w){for(var P,Z=1,Q=arguments.length;Z<Q;Z++)for(var z in P=arguments[Z])Object.prototype.hasOwnProperty.call(P,z)&&(w[z]=P[z]);return w},o.apply(this,arguments)},c={left:0,top:8},m=function(w){var P=w.enableShortcuts,Z=w.onClick,Q=n.useContext(t.LocalizationContext).l10n,z=Q&&Q.fullScreen?Q.fullScreen.enterFullScreen:"Full screen",K=P?t.isMac()?"Meta+Ctrl+F":"F11":"";return n.createElement(t.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaKeyShortcuts:K,ariaLabel:z,isDisabled:!t.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:Z},n.createElement(s,null)),content:function(){return z},offset:c})},_={left:0,top:8},h=function(w){var P=w.onClick,Z=n.useContext(t.LocalizationContext).l10n,Q=Z&&Z.fullScreen?Z.fullScreen.exitFullScreen:"Exit full screen";return n.createElement(t.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:Q,testId:"full-screen__exit-button-with-tooltip",onClick:P},n.createElement(i,null)),content:function(){return Q},offset:_})},d=function(w,P){var Z=n.useState(P.get("fullScreenMode")),Q=Z[0],z=Z[1],K=n.useCallback(function(j){z(j)},[]);return n.useEffect(function(){return P.subscribe("fullScreenMode",K),function(){P.unsubscribe("fullScreenMode",K)}},[]),{enterFullScreen:function(){var j=P.get("getPagesContainer");if(j){var T=w(j());P.get("enterFullScreenMode")(T)}},exitFullScreen:function(){P.get("exitFullScreenMode")()},isFullScreen:Q===t.FullScreenMode.Entering||Q===t.FullScreenMode.EnteredCompletely}},f=function(w){var P=w.children,Z=w.enableShortcuts,Q=w.getFullScreenTarget,z=w.store,K=d(Q,z),j=K.enterFullScreen,T=K.exitFullScreen,I=K.isFullScreen;return(P||function(Y){return I?n.createElement(h,{onClick:Y.onClick}):n.createElement(m,{enableShortcuts:Z,onClick:Y.onClick})})({onClick:I?T:j})},b=function(w){var P=w.onClick,Z=n.useContext(t.LocalizationContext).l10n,Q=Z&&Z.fullScreen?Z.fullScreen.enterFullScreen:"Full screen";return n.createElement(t.MenuItem,{icon:n.createElement(s,null),isDisabled:!t.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:P},Q)},y=function(w){var P=w.onClick,Z=n.useContext(t.LocalizationContext).l10n,Q=n.useContext(t.ThemeContext).direction===t.TextDirection.RightToLeft,z=Z&&Z.fullScreen?Z.fullScreen.exitFullScreen:"Exit full screen";return n.createElement("div",{className:t.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!Q,"rpv-full-screen__exit-button--rtl":Q})},n.createElement(t.MinimalButton,{ariaLabel:z,testId:"full-screen__exit-button",onClick:P},n.createElement(i,null)))},p=function(w){var P=w.children,Z=w.getFullScreenTarget,Q=w.store,z=d(Z,Q),K=z.enterFullScreen,j=z.exitFullScreen,T=z.isFullScreen;return T&&(P||function(I){return n.createElement(y,{onClick:I.onClick})})({onClick:T?j:K})},v=function(w){var P=w.store,Z=w.onEnterFullScreen,Q=w.onExitFullScreen,z=n.useState(P.get("fullScreenMode")),K=z[0],j=z[1],T=n.useCallback(function(I){j(I)},[]);return n.useEffect(function(){switch(K){case t.FullScreenMode.EnteredCompletely:Z(P.get("zoom"));break;case t.FullScreenMode.Exited:Q(P.get("zoom"))}},[K]),n.useEffect(function(){return P.subscribe("fullScreenMode",T),function(){P.unsubscribe("fullScreenMode",T)}},[]),(K===t.FullScreenMode.Entering||K===t.FullScreenMode.Entered)&&n.createElement("div",{className:"rpv-full-screen__overlay"},n.createElement(t.Spinner,null))},A=function(w){var P=w.containerRef,Z=w.getFullScreenTarget,Q=w.store,z=d(Z,Q).enterFullScreen,K=function(j){if(!j.shiftKey&&!j.altKey&&(t.isMac()?j.metaKey&&j.ctrlKey&&j.key==="f":j.key==="F11")){var T=P.current;T&&document.activeElement&&T.contains(document.activeElement)&&(j.preventDefault(),z())}};return n.useEffect(function(){if(P.current)return document.addEventListener("keydown",K),function(){document.removeEventListener("keydown",K)}},[P.current]),n.createElement(n.Fragment,null)};return fullScreen_min.ExitFullScreenIcon=i,fullScreen_min.FullScreenIcon=s,fullScreen_min.fullScreenPlugin=function(w){var P=w?.getFullScreenTarget||function(j){return j},Z=n.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},w)},[]),Q=n.useMemo(function(){return t.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:t.FullScreenMode.Normal,zoom:function(){}})},[]),z=function(j){return n.createElement(f,o({},j,{enableShortcuts:Z.enableShortcuts,getFullScreenTarget:P,store:Q}))},K=function(){return n.createElement(p,{getFullScreenTarget:P,store:Q},w?.renderExitFullScreenButton)};return{install:function(j){Q.update("enterFullScreenMode",j.enterFullScreenMode),Q.update("exitFullScreenMode",j.exitFullScreenMode),Q.update("getPagesContainer",j.getPagesContainer),Q.update("zoom",j.zoom)},onViewerStateChange:function(j){return Q.update("fullScreenMode",j.fullScreenMode),j},renderViewer:function(j){var T=j.slot;return T.subSlot&&(T.subSlot.children=n.createElement(n.Fragment,null,Z.enableShortcuts&&n.createElement(A,{containerRef:j.containerRef,getFullScreenTarget:P,store:Q}),n.createElement(v,{store:Q,onEnterFullScreen:Z.onEnterFullScreen,onExitFullScreen:Z.onExitFullScreen}),n.createElement(K,null),T.subSlot.children)),T},EnterFullScreen:z,EnterFullScreenButton:function(){return n.createElement(z,null,function(j){return n.createElement(m,o({enableShortcuts:Z.enableShortcuts},j))})},EnterFullScreenMenuItem:function(j){return n.createElement(z,null,function(T){return n.createElement(b,{onClick:function(){T.onClick(),j.onClick()}})})}}},fullScreen_min}var hasRequiredLib$d;function requireLib$d(){if(hasRequiredLib$d)return lib$b.exports;hasRequiredLib$d=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$b.exports=requireFullScreen_min(),lib$b.exports}var lib$a={exports:{}},getFile_min={},hasRequiredGetFile_min;function requireGetFile_min(){if(hasRequiredGetFile_min)return getFile_min;hasRequiredGetFile_min=1;var t=requireLib$i();function e(b){var y=Object.create(null);return b&&Object.keys(b).forEach(function(p){if(p!=="default"){var v=Object.getOwnPropertyDescriptor(b,p);Object.defineProperty(y,p,v.get?v:{enumerable:!0,get:function(){return b[p]}})}}),y.default=b,Object.freeze(y)}var n=e(requireReact()),i=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},s=function(){return s=Object.assign||function(b){for(var y,p=1,v=arguments.length;p<v;p++)for(var A in y=arguments[p])Object.prototype.hasOwnProperty.call(y,A)&&(b[A]=y[A]);return b},s.apply(this,arguments)},o={left:0,top:8},c=function(b){var y=b.onClick,p=n.useContext(t.LocalizationContext).l10n,v=p&&p.download?p.download.download:"Download";return n.createElement(t.Tooltip,{ariaControlsSuffix:"get-file",position:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaLabel:v,testId:"get-file__download-button",onClick:y},n.createElement(i,null)),content:function(){return v},offset:o})},m=function(b,y){var p=document.createElement("a");p.style.display="none",p.href=b,p.setAttribute("download",y),document.body.appendChild(p),p.click(),document.body.removeChild(p)},_=function(b,y,p){var v=URL.createObjectURL(new Blob([b],{type:p}));m(v,y),v&&URL.revokeObjectURL(v)},h=function(b,y){b.getData().then(function(p){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?_(p,y,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?m("data:application/pdf;base64,".concat(function(v){return btoa(Array(v.length).fill("").map(function(A,w){return String.fromCharCode(v[w])}).join(""))}(p)),y):_(p,y,"application/pdf")})},d=function(b){var y=b.children,p=b.fileNameGenerator,v=b.store,A=n.useState(v.get("file")),w=A[0],P=A[1],Z=n.useState(v.get("doc")),Q=Z[0],z=Z[1],K=function(T){z(T)},j=function(T){P(T)};return n.useEffect(function(){return v.subscribe("doc",K),v.subscribe("file",j),function(){v.subscribe("doc",K),v.unsubscribe("file",j)}},[]),(y||function(T){return n.createElement(c,{onClick:T.onClick})})({onClick:function(){Q&&w&&h(Q,p(w))}})},f=function(b){var y=b.onClick,p=n.useContext(t.LocalizationContext).l10n,v=p&&p.download?p.download.download:"Download";return n.createElement(t.MenuItem,{icon:n.createElement(i,null),testId:"get-file__download-menu",onClick:y},v)};return getFile_min.DownloadIcon=i,getFile_min.getFilePlugin=function(b){var y=n.useMemo(function(){return t.createStore({})},[]),p=function(A){return A.name?(w=A.name,(P=w.split("/").pop())?P.split("#")[0].split("?")[0]:w):"document.pdf";var w,P},v=function(A){return n.createElement(d,s({},A,{fileNameGenerator:b&&b.fileNameGenerator||p,store:y}))};return{onDocumentLoad:function(A){y.update("doc",A.doc),y.update("file",A.file)},Download:v,DownloadButton:function(){return n.createElement(v,null,function(A){return n.createElement(c,s({},A))})},DownloadMenuItem:function(A){return n.createElement(v,null,function(w){return n.createElement(f,{onClick:function(){w.onClick(),A.onClick()}})})}}},getFile_min}var hasRequiredLib$c;function requireLib$c(){if(hasRequiredLib$c)return lib$a.exports;hasRequiredLib$c=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$a.exports=requireGetFile_min(),lib$a.exports}var lib$9={exports:{}},open_min={},hasRequiredOpen_min;function requireOpen_min(){if(hasRequiredOpen_min)return open_min;hasRequiredOpen_min=1;var t=requireLib$i();function e(f){var b=Object.create(null);return f&&Object.keys(f).forEach(function(y){if(y!=="default"){var p=Object.getOwnPropertyDescriptor(f,y);Object.defineProperty(b,y,p.get?p:{enumerable:!0,get:function(){return f[y]}})}}),b.default=f,Object.freeze(b)}var n=e(requireReact()),i=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},s=function(){return s=Object.assign||function(f){for(var b,y=1,p=arguments.length;y<p;y++)for(var v in b=arguments[y])Object.prototype.hasOwnProperty.call(b,v)&&(f[v]=b[v]);return f},s.apply(this,arguments)},o=function(f){var b=n.useRef(),y=function(){var v=b.current;v&&(v.click(),f.get("triggerOpenFile")&&f.update("triggerOpenFile",!1))},p=function(v){v&&y()};return n.useEffect(function(){return f.subscribe("triggerOpenFile",p),function(){f.unsubscribe("triggerOpenFile",p)}},[]),{inputRef:b,openFile:y}},c={left:0,top:8},m=function(f){var b=f.enableShortcuts,y=f.store,p=f.onClick,v=n.useContext(t.LocalizationContext).l10n,A=v&&v.open?v.open.openFile:"Open file",w=o(y),P=w.inputRef,Z=w.openFile,Q=b?t.isMac()?"Meta+O":"Ctrl+O":"";return n.createElement(t.Tooltip,{ariaControlsSuffix:"open",position:t.Position.BottomCenter,target:n.createElement("div",{className:"rpv-open__input-wrapper"},n.createElement("input",{accept:".pdf",ref:P,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:p}),n.createElement(t.MinimalButton,{ariaKeyShortcuts:Q,ariaLabel:A,testId:"open__button",onClick:Z},n.createElement(i,null))),content:function(){return A},offset:c})},_=function(f){var b=f.children,y=f.enableShortcuts,p=f.store;return(b||function(v){return n.createElement(m,{enableShortcuts:y,store:p,onClick:v.onClick})})({onClick:function(v){var A=v.target.files;if(A&&A.length){var w=p.get("openFile");w&&w(A[0])}}})},h=function(f){var b=f.store,y=f.onClick,p=n.useContext(t.LocalizationContext).l10n,v=p&&p.open?p.open.openFile:"Open file",A=o(b),w=A.inputRef,P=A.openFile;return n.createElement(t.MenuItem,{icon:n.createElement(i,null),testId:"open__menu",onClick:P},n.createElement("div",{className:"rpv-open__input-wrapper"},n.createElement("input",{accept:".pdf",ref:w,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:y}),v))},d=function(f){var b=f.containerRef,y=f.store,p=function(v){if(!v.shiftKey&&!v.altKey&&v.key==="o"&&(t.isMac()?v.metaKey:v.ctrlKey)){var A=b.current;A&&document.activeElement&&A.contains(document.activeElement)&&(v.preventDefault(),y.update("triggerOpenFile",!0))}};return n.useEffect(function(){if(b.current)return document.addEventListener("keydown",p),function(){document.removeEventListener("keydown",p)}},[b.current]),n.createElement(n.Fragment,null)};return open_min.OpenFileIcon=i,open_min.openPlugin=function(f){var b=n.useMemo(function(){return Object.assign({},{enableShortcuts:!0},f)},[]),y=n.useMemo(function(){return t.createStore({})},[]),p=function(v){return n.createElement(_,s({enableShortcuts:b.enableShortcuts},v,{store:y}))};return{install:function(v){y.update("openFile",v.openFile)},renderViewer:function(v){var A=v.slot,w={children:n.createElement(n.Fragment,null,b.enableShortcuts&&n.createElement(d,{containerRef:v.containerRef,store:y}),A.children)};return s(s({},A),w)},Open:p,OpenButton:function(){return n.createElement(p,null)},OpenMenuItem:function(){return n.createElement(p,null,function(v){return n.createElement(h,{store:y,onClick:v.onClick})})}}},open_min}var hasRequiredLib$b;function requireLib$b(){if(hasRequiredLib$b)return lib$9.exports;hasRequiredLib$b=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$9.exports=requireOpen_min(),lib$9.exports}var lib$8={exports:{}},pageNavigation_min={},hasRequiredPageNavigation_min;function requirePageNavigation_min(){if(hasRequiredPageNavigation_min)return pageNavigation_min;hasRequiredPageNavigation_min=1;var t=requireLib$i();function e(he){var se=Object.create(null);return he&&Object.keys(he).forEach(function(ee){if(ee!=="default"){var W=Object.getOwnPropertyDescriptor(he,ee);Object.defineProperty(se,ee,W.get?W:{enumerable:!0,get:function(){return he[ee]}})}}),se.default=he,Object.freeze(se)}var n=e(requireReact()),i=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},s=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o=function(){return o=Object.assign||function(he){for(var se,ee=1,W=arguments.length;ee<W;ee++)for(var $ in se=arguments[ee])Object.prototype.hasOwnProperty.call(se,$)&&(he[$]=se[$]);return he},o.apply(this,arguments)},c=function(he){var se=n.useState(he.get("currentPage")||0),ee=se[0],W=se[1],$=function(S){W(S)};return t.useIsomorphicLayoutEffect(function(){return he.subscribe("currentPage",$),function(){he.unsubscribe("currentPage",$)}},[]),{currentPage:ee}},m=function(he){var se=n.useState(he.get("numberOfPages")||0),ee=se[0],W=se[1],$=function(S){W(S)};return n.useEffect(function(){return he.subscribe("numberOfPages",$),function(){he.unsubscribe("numberOfPages",$)}},[]),{numberOfPages:ee}},_=function(he){var se=he.store,ee=n.useContext(t.LocalizationContext).l10n,W=n.useState("1"),$=W[0],S=W[1],J=c(se).currentPage,ae=m(se).numberOfPages;n.useEffect(function(){return S("".concat(J+1))},[J]);var D=function(ce){var H=se.get("jumpToPage");H&&H(ce)},de=ee&&ee.pageNavigation?ee.pageNavigation.enterPageNumber:"Enter a page number";return n.createElement("span",{className:"rpv-page-navigation__current-page-input"},n.createElement(t.TextBox,{ariaLabel:de,testId:"page-navigation__current-page-input",type:"text",value:$,onChange:S,onKeyDown:function(ce){switch(ce.key){case"ArrowUp":(oe=J-1)>=0&&(S("".concat(oe+1)),D(oe));break;case"ArrowDown":(ne=J+1)<ae&&(S("".concat(ne+1)),D(ne));break;case"Enter":H=parseInt($,10),$===""||H<1||H>ae?S("".concat(J+1)):D(H-1)}var H,ne,oe}}))},h=function(he){var se=he.children,ee=he.doc,W=t.useIsMounted(),$=n.useState({loading:!0,labels:[]}),S=$[0],J=$[1];return n.useEffect(function(){ee.getPageLabels().then(function(ae){W.current&&J({loading:!1,labels:ae||[]})})},[ee.loadingTask.docId]),S.loading?n.createElement(n.Fragment,null):se(S.labels)},d=function(he){var se=he.children,ee=he.store,W=function(ae){var D=n.useState(ae.get("doc")),de=D[0],ce=D[1],H=function(ne){ce(ne)};return n.useEffect(function(){return ae.subscribe("doc",H),function(){ae.unsubscribe("doc",H)}},[]),de}(ee),$=c(ee).currentPage,S=m(ee).numberOfPages,J=se||function(ae){return n.createElement(n.Fragment,null,ae.currentPage+1)};return W?n.createElement(h,{doc:W},function(ae){var D=ae.length===S&&S>0?ae[$]:"";return J({currentPage:$,numberOfPages:S,pageLabel:D})}):n.createElement(n.Fragment,null)},f=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},b={left:0,top:8},y=function(he){var se=he.isDisabled,ee=he.onClick,W=n.useContext(t.LocalizationContext).l10n,$=W&&W.pageNavigation?W.pageNavigation.goToFirstPage:"First page";return n.createElement(t.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaLabel:$,isDisabled:se,testId:"page-navigation__first-button",onClick:ee},n.createElement(f,null)),content:function(){return $},offset:b})},p=function(he){var se=he.children,ee=he.store;return(se||function(W){return n.createElement(y,{isDisabled:W.isDisabled,onClick:W.onClick})})({isDisabled:c(ee).currentPage===0,onClick:function(){var W=ee.get("jumpToPage");W&&W(0)}})},v=function(he){var se=he.isDisabled,ee=he.onClick,W=n.useContext(t.LocalizationContext).l10n,$=W&&W.pageNavigation?W.pageNavigation.goToFirstPage:"First page";return n.createElement(t.MenuItem,{icon:n.createElement(f,null),isDisabled:se,testId:"page-navigation__first-menu",onClick:ee},$)},A={left:0,top:8},w=function(he){var se=he.isDisabled,ee=he.onClick,W=n.useContext(t.LocalizationContext).l10n,$=W&&W.pageNavigation?W.pageNavigation.goToLastPage:"Last page";return n.createElement(t.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaLabel:$,isDisabled:se,testId:"page-navigation__last-button",onClick:ee},n.createElement(i,null)),content:function(){return $},offset:A})},P=function(he){var se=he.children,ee=he.store,W=c(ee).currentPage,$=m(ee).numberOfPages;return(se||function(S){return n.createElement(w,{isDisabled:S.isDisabled,onClick:S.onClick})})({isDisabled:W+1>=$,onClick:function(){var S=ee.get("jumpToPage");S&&S($-1)}})},Z=function(he){var se=he.isDisabled,ee=he.onClick,W=n.useContext(t.LocalizationContext).l10n,$=W&&W.pageNavigation?W.pageNavigation.goToLastPage:"Last page";return n.createElement(t.MenuItem,{icon:n.createElement(i,null),isDisabled:se,testId:"page-navigation__last-menu",onClick:ee},$)},Q={left:0,top:8},z=function(he){var se=he.isDisabled,ee=he.onClick,W=n.useContext(t.LocalizationContext).l10n,$=W&&W.pageNavigation?W.pageNavigation.goToNextPage:"Next page";return n.createElement(t.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaLabel:$,isDisabled:se,testId:"page-navigation__next-button",onClick:ee},n.createElement(s,null)),content:function(){return $},offset:Q})},K=function(he){var se=he.children,ee=he.store;return(se||function(W){return n.createElement(z,{onClick:W.onClick,isDisabled:W.isDisabled})})({isDisabled:c(ee).currentPage+1>=m(ee).numberOfPages,onClick:function(){var W=ee.get("jumpToNextPage");W&&W()}})},j=function(he){var se=he.isDisabled,ee=he.onClick,W=n.useContext(t.LocalizationContext).l10n,$=W&&W.pageNavigation?W.pageNavigation.goToNextPage:"Next page";return n.createElement(t.MenuItem,{icon:n.createElement(s,null),isDisabled:se,testId:"page-navigation__next-menu",onClick:ee},$)},T=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},I={left:0,top:8},Y=function(he){var se=he.isDisabled,ee=he.onClick,W=n.useContext(t.LocalizationContext).l10n,$=W&&W.pageNavigation?W.pageNavigation.goToPreviousPage:"Previous page";return n.createElement(t.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaLabel:$,isDisabled:se,testId:"page-navigation__previous-button",onClick:ee},n.createElement(T,null)),content:function(){return $},offset:I})},R=function(he){var se=he.store;return(he.children||function(ee){return n.createElement(Y,{isDisabled:ee.isDisabled,onClick:ee.onClick})})({isDisabled:c(se).currentPage<=0,onClick:function(){var ee=se.get("jumpToPreviousPage");ee&&ee()}})},U=function(he){var se=he.isDisabled,ee=he.onClick,W=n.useContext(t.LocalizationContext).l10n,$=W&&W.pageNavigation?W.pageNavigation.goToPreviousPage:"Previous page";return n.createElement(t.MenuItem,{icon:n.createElement(T,null),isDisabled:se,testId:"page-navigation__previous-menu",onClick:ee},$)},G=function(he){var se=he.children,ee=he.store,W=m(ee).numberOfPages;return se?se({numberOfPages:W}):n.createElement(n.Fragment,null,W)},ue=function(he){var se=he.containerRef,ee=he.numPages,W=he.store,$=c(W).currentPage,S=n.useRef($);S.current=$;var J=n.useRef(!1),ae=function(){J.current=!0},D=function(){J.current=!1},de=function(ce){var H=se.current,ne=J.current||document.activeElement&&H.contains(document.activeElement);if(H&&ne){var oe,me,ve=ce.altKey&&ce.key==="ArrowDown"||!ce.shiftKey&&!ce.altKey&&ce.key==="PageDown",ye=ce.altKey&&ce.key==="ArrowUp"||!ce.shiftKey&&!ce.altKey&&ce.key==="PageUp";if(ve)return ce.preventDefault(),oe=W.get("jumpToPage"),me=S.current+1,void(oe&&me<ee&&oe(me));if(ye)return ce.preventDefault(),void function(){var xe=W.get("jumpToPage"),je=S.current-1;xe&&je>=0&&xe(je)}();if(t.isMac()?ce.metaKey&&!ce.ctrlKey:ce.altKey)switch(ce.key){case"ArrowLeft":ce.preventDefault(),function(){var xe=W.get("jumpToPreviousDestination");xe&&xe()}();break;case"ArrowRight":ce.preventDefault(),function(){var xe=W.get("jumpToNextDestination");xe&&xe()}()}}};return n.useEffect(function(){var ce=se.current;if(ce)return document.addEventListener("keydown",de),ce.addEventListener("mouseenter",ae),ce.addEventListener("mouseleave",D),function(){document.removeEventListener("keydown",de),ce.removeEventListener("mouseenter",ae),ce.removeEventListener("mouseleave",D)}},[se.current]),n.createElement(n.Fragment,null)};return pageNavigation_min.DownArrowIcon=i,pageNavigation_min.NextIcon=s,pageNavigation_min.PreviousIcon=T,pageNavigation_min.UpArrowIcon=f,pageNavigation_min.pageNavigationPlugin=function(he){var se=n.useMemo(function(){return Object.assign({},{enableShortcuts:!0},he)},[]),ee=n.useMemo(function(){return t.createStore()},[]),W=function(ae){return n.createElement(p,o({},ae,{store:ee}))},$=function(ae){return n.createElement(P,o({},ae,{store:ee}))},S=function(ae){return n.createElement(K,o({},ae,{store:ee}))},J=function(ae){return n.createElement(R,o({},ae,{store:ee}))};return{install:function(ae){ee.update("jumpToDestination",ae.jumpToDestination),ee.update("jumpToNextDestination",ae.jumpToNextDestination),ee.update("jumpToNextPage",ae.jumpToNextPage),ee.update("jumpToPage",ae.jumpToPage),ee.update("jumpToPreviousDestination",ae.jumpToPreviousDestination),ee.update("jumpToPreviousPage",ae.jumpToPreviousPage)},renderViewer:function(ae){var D=ae.slot;if(!se.enableShortcuts)return D;var de={children:n.createElement(n.Fragment,null,n.createElement(ue,{containerRef:ae.containerRef,numPages:ae.doc.numPages,store:ee}),D.children)};return o(o({},D),de)},onDocumentLoad:function(ae){ee.update("doc",ae.doc),ee.update("numberOfPages",ae.doc.numPages)},onViewerStateChange:function(ae){return ee.update("currentPage",ae.pageIndex),ae},jumpToNextPage:function(){var ae=ee.get("jumpToNextPage");ae&&ae()},jumpToPage:function(ae){var D=ee.get("jumpToPage");D&&D(ae)},jumpToPreviousPage:function(){var ae=ee.get("jumpToPreviousPage");ae&&ae()},CurrentPageInput:function(){return n.createElement(_,{store:ee})},CurrentPageLabel:function(ae){return n.createElement(d,o({},ae,{store:ee}))},GoToFirstPage:W,GoToFirstPageButton:function(){return n.createElement(W,null,function(ae){return n.createElement(y,o({},ae))})},GoToFirstPageMenuItem:function(ae){return n.createElement(W,null,function(D){return n.createElement(v,{isDisabled:D.isDisabled,onClick:function(){D.onClick(),ae.onClick()}})})},GoToLastPage:$,GoToLastPageButton:function(){return n.createElement($,null,function(ae){return n.createElement(w,o({},ae))})},GoToLastPageMenuItem:function(ae){return n.createElement($,null,function(D){return n.createElement(Z,{isDisabled:D.isDisabled,onClick:function(){D.onClick(),ae.onClick()}})})},GoToNextPage:S,GoToNextPageButton:function(){return n.createElement(S,null,function(ae){return n.createElement(z,o({},ae))})},GoToNextPageMenuItem:function(ae){return n.createElement(S,null,function(D){return n.createElement(j,{isDisabled:D.isDisabled,onClick:function(){D.onClick(),ae.onClick()}})})},GoToPreviousPage:J,GoToPreviousPageButton:function(){return n.createElement(J,null,function(ae){return n.createElement(Y,o({},ae))})},GoToPreviousPageMenuItem:function(ae){return n.createElement(J,null,function(D){return n.createElement(U,{isDisabled:D.isDisabled,onClick:function(){D.onClick(),ae.onClick()}})})},NumberOfPages:function(ae){return n.createElement(G,o({},ae,{store:ee}))}}},pageNavigation_min}var hasRequiredLib$a;function requireLib$a(){if(hasRequiredLib$a)return lib$8.exports;hasRequiredLib$a=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$8.exports=requirePageNavigation_min(),lib$8.exports}var lib$7={exports:{}},print_min={},hasRequiredPrint_min;function requirePrint_min(){if(hasRequiredPrint_min)return print_min;hasRequiredPrint_min=1;var t={},e=requireLib$i(),n=requireReact(),i=requireReactDom();function s(Q){var z=Object.create(null);return Q&&Object.keys(Q).forEach(function(K){if(K!=="default"){var j=Object.getOwnPropertyDescriptor(Q,K);Object.defineProperty(z,K,j.get?j:{enumerable:!0,get:function(){return Q[K]}})}}),z.default=Q,Object.freeze(z)}var o,c=s(n),m=function(){return c.createElement(e.Icon,{size:16},c.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},_=function(){return _=Object.assign||function(Q){for(var z,K=1,j=arguments.length;K<j;K++)for(var T in z=arguments[K])Object.prototype.hasOwnProperty.call(z,T)&&(Q[T]=z[T]);return Q},_.apply(this,arguments)},h={left:0,top:8},d=function(Q){var z=Q.enableShortcuts,K=Q.onClick,j=c.useContext(e.LocalizationContext).l10n,T=j&&j.print?j.print.print:"Print",I=z?e.isMac()?"Meta+P":"Ctrl+P":"";return c.createElement(e.Tooltip,{ariaControlsSuffix:"print",position:e.Position.BottomCenter,target:c.createElement(e.MinimalButton,{ariaKeyShortcuts:I,ariaLabel:T,testId:"print__button",onClick:K},c.createElement(m,null)),content:function(){return T},offset:h})};(function(Q){Q.CheckingPermission="CheckingPermission",Q.Inactive="Inactive",Q.Preparing="Preparing",Q.Cancelled="Cancelled",Q.Ready="Ready"})(o||(o={}));var f=function(Q){var z=Q.children,K=Q.enableShortcuts,j=Q.store;return(z||d)({enableShortcuts:K,onClick:function(){j.update("printStatus",o.CheckingPermission)}})},b=function(Q){var z=Q.doc,K=Q.store,j=c.useContext(e.LocalizationContext).l10n,T=c.useState(!0),I=T[0],Y=T[1];return c.useEffect(function(){z.getPermissions().then(function(R){R===null||R.includes(4)||R.includes(2048)?K.update("printStatus",o.Preparing):Y(!1)})},[]),I?c.createElement(c.Fragment,null):c.createElement(e.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(R){return c.createElement(c.Fragment,null,c.createElement("div",{className:"rpv-print__permission-body"},j&&j.print?j.print.disallowPrint:"The document does not allow to print"),c.createElement("div",{className:"rpv-print__permission-footer"},c.createElement(e.Button,{onClick:function(){R(),K.update("printStatus",o.Cancelled)}},j&&j.print?j.print.close:"Close")))},isOpened:!0})},y=function(Q){var z=Q.numLoadedPages,K=Q.numPages,j=Q.onCancel,T=c.useContext(e.LocalizationContext).l10n,I=c.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,Y=Math.floor(100*z/K);return c.createElement("div",{className:"rpv-print__progress"},c.createElement("div",{className:e.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":I})},c.createElement("div",{className:"rpv-print__progress-message"},T&&T.print?T.print.preparingDocument:"Preparing document ..."),c.createElement("div",{className:"rpv-print__progress-bar"},c.createElement(e.ProgressBar,{progress:Y})),c.createElement(e.Button,{onClick:j},T&&T.print?T.print.cancel:"Cancel")))},p=function(Q){var z=Q.canvas,K=Q.page,j=Q.pageHeight,T=Q.pageIndex,I=Q.pageWidth,Y=Q.rotation,R=Q.onLoad,U=e.useIsMounted(),G=c.useRef(),ue=c.useState(""),he=ue[0],se=ue[1],ee=c.useMemo(function(){return typeof process<"u"&&t.JEST_WORKER_ID!==void 0},[]);return c.useEffect(function(){var W=G.current;W&&W.cancel();var $=150/72;z.height=Math.floor(j*$),z.width=Math.floor(I*$);var S=z.getContext("2d");S.save(),S.fillStyle="rgb(255, 255, 255)",S.fillRect(0,0,z.width,z.height),S.restore();var J=K.getViewport({rotation:Y,scale:1});G.current=K.render({canvasContext:S,intent:"print",transform:[$,0,0,$,0,0],viewport:J}),G.current.promise.then(function(){"toBlob"in z&&"createObjectURL"in URL?z.toBlob(function(ae){U.current&&se(URL.createObjectURL(ae)),ee&&R()}):(U.current&&se(z.toDataURL()),ee&&R())},function(){})},[]),he&&c.createElement("div",{className:"rpv-print__page"},c.createElement("img",{"data-testid":"print__thumbnail-".concat(T),src:he,onLoad:function(){ee||R()}}))},v=function(Q){var z=Q.canvas,K=Q.doc,j=Q.pageIndex,T=Q.pageRotation,I=Q.pageSize,Y=Q.rotation,R=Q.shouldRender,U=Q.onLoad,G=e.useIsMounted(),ue=c.useState(null),he=ue[0],se=ue[1],ee=Math.abs(Y+T)%180==0;c.useEffect(function(){R&&e.getPage(K,j).then(function($){G.current&&se($)})},[R]);var W=(I.rotation+Y+T)%360;return he&&c.createElement(p,{canvas:z,page:he,pageHeight:ee?I.pageHeight:I.pageWidth,pageIndex:j,pageWidth:ee?I.pageWidth:I.pageHeight,rotation:W,onLoad:U})},A=function(Q){var z=Q.doc,K=Q.numLoadedPages,j=Q.pagesRotation,T=Q.pageSizes,I=Q.printPages,Y=Q.printStatus,R=Q.rotation,U=Q.onCancel,G=Q.onLoad,ue=c.useMemo(function(){return document.createElement("canvas")},[]),he=c.useMemo(function(){var W=document.querySelector(".rpv-print__zone");if(W)return W;var $=document.createElement("div");return $.classList.add("rpv-print__zone"),$.setAttribute("data-testid","print__zone"),document.body.appendChild($),$},[]);c.useEffect(function(){Y===o.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var W=function(){if(Y===o.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var $=document.querySelectorAll(".rpv-print__zone");$&&$.forEach(function(S){S.parentElement.removeChild(S)}),ue.height=0,ue.width=0,document.removeEventListener("mousemove",W),U()}};return document.addEventListener("mousemove",W),function(){return document.removeEventListener("mousemove",W)}},[Y]);var se=T[0].pageHeight,ee=T[0].pageWidth;return i.createPortal(c.createElement(c.Fragment,null,I.map(function(W,$){return c.createElement(v,{key:W,canvas:ue,doc:z,pageIndex:W,pageRotation:j.has(W)?j.get(W):0,pageSize:T[W],rotation:R,shouldRender:$===K,onLoad:G})}),c.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(ee,"pt ").concat(se,"pt }")}})),he)},w=function(Q){var z=Q.doc,K=Q.pagesRotation,j=Q.pageSizes,T=Q.renderProgressBar,I=Q.rotation,Y=Q.setPages,R=Q.store,U=c.useState(o.Inactive),G=U[0],ue=U[1],he=c.useState(0),se=he[0],ee=he[1],W=c.useMemo(function(){var ae=z.numPages;return Y(z).filter(function(D){return D>=0&&D<ae})},[z,Y]),$=W.length,S=function(){ee(0),ue(o.Inactive)},J=function(ae){return ue(ae)};return c.useEffect(function(){return R.subscribe("printStatus",J),function(){R.unsubscribe("printStatus",J)}},[]),c.createElement(c.Fragment,null,G===o.CheckingPermission&&c.createElement(b,{doc:z,store:R}),G===o.Preparing&&(T?T(se,$,S):c.createElement(y,{numLoadedPages:se,numPages:$,onCancel:S})),(G===o.Preparing||G===o.Ready)&&se<=$&&c.createElement(A,{doc:z,numLoadedPages:se,pagesRotation:K,pageSizes:j,printPages:W,printStatus:G,rotation:I,onCancel:S,onLoad:function(){var ae=se+1;ae<=$&&(ee(ae),ae===$&&ue(o.Ready))}}))},P=function(Q){var z=Q.onClick,K=c.useContext(e.LocalizationContext).l10n,j=K&&K.print?K.print.print:"Print";return c.createElement(e.MenuItem,{icon:c.createElement(m,null),testId:"print__menu",onClick:z},j)},Z=function(Q){var z=Q.containerRef,K=Q.store,j=function(T){if(!T.shiftKey&&!T.altKey&&T.key==="p"&&(e.isMac()?T.metaKey:T.ctrlKey)){var I=z.current;I&&document.activeElement&&I.contains(document.activeElement)&&(T.preventDefault(),K.update("printStatus",o.Preparing))}};return c.useEffect(function(){if(z.current)return document.addEventListener("keydown",j),function(){document.removeEventListener("keydown",j)}},[z.current]),c.createElement(c.Fragment,null)};return print_min.PrintIcon=m,print_min.getAllPagesNumbers=function(Q){return Array(Q.numPages).fill(0).map(function(z,K){return K})},print_min.getCustomPagesNumbers=function(Q){return function(z){var K,j=[];return Q.replace(/\s+/g,"").split(",").forEach(function(T){var I,Y,R=T.split("-").map(function(U){return parseInt(U,10)}).filter(function(U){return Number.isInteger(U)});R.length===1?j.push(R[0]-1):R.length===2&&j.push.apply(j,(I=R[0]-1,Y=R[1]-1,Array(Y-I+1).fill(0).map(function(U,G){return I+G})))}),(K=j,K.filter(function(T){return K.indexOf(T)===K.lastIndexOf(T)})).filter(function(T){return T>=0&&T<z.numPages})}},print_min.getEvenPagesNumbers=function(Q){return Array(Q.numPages).fill(0).map(function(z,K){return K}).filter(function(z){return(z+1)%2==0})},print_min.getOddPagesNumbers=function(Q){return Array(Q.numPages).fill(0).map(function(z,K){return K}).filter(function(z){return(z+1)%2==1})},print_min.printPlugin=function(Q){var z=c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(T){return Array(T.numPages).fill(0).map(function(I,Y){return Y})}},Q)},[]),K=c.useMemo(function(){return e.createStore({printStatus:o.Inactive})},[]),j=function(T){return c.createElement(f,_({enableShortcuts:z.enableShortcuts},T,{store:K}))};return{print:function(){K.update("printStatus",o.CheckingPermission)},renderViewer:function(T){var I=T.slot,Y={children:c.createElement(c.Fragment,null,z.enableShortcuts&&c.createElement(Z,{containerRef:T.containerRef,store:K}),c.createElement(w,{doc:T.doc,pagesRotation:T.pagesRotation,pageSizes:T.pageSizes,renderProgressBar:Q?.renderProgressBar,rotation:T.rotation,setPages:z.setPages,store:K}),I.children)};return _(_({},I),Y)},Print:j,PrintButton:function(){return c.createElement(j,null,function(T){return c.createElement(d,_({},T))})},PrintMenuItem:function(T){return c.createElement(j,null,function(I){return c.createElement(P,{onClick:function(){I.onClick(),T.onClick()}})})},setPages:function(T){z.setPages=T}}},print_min}var hasRequiredLib$9;function requireLib$9(){if(hasRequiredLib$9)return lib$7.exports;hasRequiredLib$9=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$7.exports=requirePrint_min(),lib$7.exports}var lib$6={exports:{}},properties_min={},hasRequiredProperties_min;function requireProperties_min(){if(hasRequiredProperties_min)return properties_min;hasRequiredProperties_min=1;var t=requireLib$i();function e(p){var v=Object.create(null);return p&&Object.keys(p).forEach(function(A){if(A!=="default"){var w=Object.getOwnPropertyDescriptor(p,A);Object.defineProperty(v,A,w.get?w:{enumerable:!0,get:function(){return p[A]}})}}),v.default=p,Object.freeze(v)}var n=e(requireReact()),i=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},s=function(){return s=Object.assign||function(p){for(var v,A=1,w=arguments.length;A<w;A++)for(var P in v=arguments[A])Object.prototype.hasOwnProperty.call(v,P)&&(p[P]=v[P]);return p},s.apply(this,arguments)},o=function(p){var v=p.doc,A=p.render,w=n.useState(),P=w[0],Z=w[1];return n.useEffect(function(){v.getMetadata().then(function(Q){return Promise.resolve(Q)}).then(function(Q){return v.getDownloadInfo().then(function(z){return Promise.resolve({fileName:Q.contentDispositionFilename||"",info:Q.info,length:z.length})})}).then(function(Q){Z(Q)})},[]),P?A(P):n.createElement("div",{className:"rpv-properties__loader"},n.createElement(t.Spinner,null))},c=function(p){var v=p.label,A=p.value,w=n.useContext(t.ThemeContext).direction===t.TextDirection.RightToLeft;return n.createElement("dl",{className:t.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":w})},n.createElement("dt",{className:"rpv-properties__item-label"},v,":"),n.createElement("dd",{className:"rpv-properties__item-value"},A||"-"))},m=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),_=function(p,v,A,w){var P=parseInt(p,10);return P>=v&&P<=A?P:w},h=function(p){var v=p.doc,A=p.fileName,w=p.onToggle,P=n.useContext(t.LocalizationContext).l10n,Z=function(Q){var z=function(K){var j=m.exec(K);if(!j)return null;var T=parseInt(j[1],10),I=_(j[2],1,12,1)-1,Y=_(j[3],1,31,1),R=_(j[4],0,23,0),U=_(j[5],0,59,0),G=_(j[6],0,59,0),ue=j[7]||"Z",he=_(j[8],0,23,0),se=_(j[9],0,59,0);switch(ue){case"-":R+=he,U+=se;break;case"+":R-=he,U-=se}return new Date(Date.UTC(T,I,Y,R,U,G))}(Q);return z?"".concat(z.toLocaleDateString(),", ").concat(z.toLocaleTimeString()):""};return n.createElement("div",{className:"rpv-properties__modal"},n.createElement(o,{doc:v,render:function(Q){return n.createElement(n.Fragment,null,n.createElement("div",{className:"rpv-properties__modal-section"},n.createElement(c,{label:P&&P.properties?P.properties.fileName:"File name",value:Q.fileName||(j=A,T=j.split("/").pop(),T?T.split("#")[0].split("?")[0]:j)}),n.createElement(c,{label:P&&P.properties?P.properties.fileSize:"File size",value:(z=Q.length,K=Math.floor(Math.log(z)/Math.log(1024)),"".concat((z/Math.pow(1024,K)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][K]))})),n.createElement(t.Separator,null),n.createElement("div",{className:"rpv-properties__modal-section"},n.createElement(c,{label:P&&P.properties?P.properties.title:"Title",value:Q.info.Title}),n.createElement(c,{label:P&&P.properties?P.properties.author:"Author",value:Q.info.Author}),n.createElement(c,{label:P&&P.properties?P.properties.subject:"Subject",value:Q.info.Subject}),n.createElement(c,{label:P&&P.properties?P.properties.keywords:"Keywords",value:Q.info.Keywords}),n.createElement(c,{label:P&&P.properties?P.properties.creator:"Creator",value:Q.info.Creator}),n.createElement(c,{label:P&&P.properties?P.properties.creationDate:"Creation date",value:Z(Q.info.CreationDate)}),n.createElement(c,{label:P&&P.properties?P.properties.modificationDate:"Modification date",value:Z(Q.info.ModDate)})),n.createElement(t.Separator,null),n.createElement("div",{className:"rpv-properties__modal-section"},n.createElement(c,{label:P&&P.properties?P.properties.pdfProducer:"PDF producer",value:Q.info.Producer}),n.createElement(c,{label:P&&P.properties?P.properties.pdfVersion:"PDF version",value:Q.info.PDFFormatVersion}),n.createElement(c,{label:P&&P.properties?P.properties.pageCount:"Page count",value:"".concat(v.numPages)})));var z,K,j,T}}),n.createElement("div",{className:"rpv-properties__modal-footer"},n.createElement(t.Button,{onClick:w},P&&P.properties?P.properties.close:"Close")))},d={left:0,top:8},f=function(p){var v=p.onClick,A=n.useContext(t.LocalizationContext).l10n,w=A&&A.properties?A.properties.showProperties:"Show properties";return n.createElement(t.Tooltip,{ariaControlsSuffix:"properties",position:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaLabel:w,testId:"properties__button",onClick:v},n.createElement(i,null)),content:function(){return w},offset:d})},b=function(p){var v=p.children,A=p.store,w=function(Q){var z=n.useState(Q.get("doc")),K=z[0],j=z[1],T=function(I){j(I)};return n.useEffect(function(){return Q.subscribe("doc",T),function(){Q.unsubscribe("doc",T)}},[]),{currentDoc:K}}(A).currentDoc,P=A.get("fileName")||"",Z=v||function(Q){return n.createElement(f,s({},Q))};return w?n.createElement(t.Modal,{ariaControlsSuffix:"properties",target:function(Q){return Z({onClick:Q})},content:function(Q){return n.createElement(h,{doc:w,fileName:P,onToggle:Q})},closeOnClickOutside:!0,closeOnEscape:!0}):n.createElement(n.Fragment,null)},y=function(p){var v=p.onClick,A=n.useContext(t.LocalizationContext).l10n,w=A&&A.properties?A.properties.showProperties:"Show properties";return n.createElement(t.MenuItem,{icon:n.createElement(i,null),testId:"properties__menu",onClick:v},w)};return properties_min.InfoIcon=i,properties_min.propertiesPlugin=function(){var p=n.useMemo(function(){return t.createStore({fileName:""})},[]),v=function(A){return n.createElement(b,s({},A,{store:p}))};return{onDocumentLoad:function(A){p.update("doc",A.doc)},onViewerStateChange:function(A){return p.update("fileName",A.file.name),A},ShowProperties:v,ShowPropertiesButton:function(){return n.createElement(b,{store:p})},ShowPropertiesMenuItem:function(A){return n.createElement(v,null,function(w){return n.createElement(y,s({},w))})}}},properties_min}var hasRequiredLib$8;function requireLib$8(){if(hasRequiredLib$8)return lib$6.exports;hasRequiredLib$8=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$6.exports=requireProperties_min(),lib$6.exports}var lib$5={exports:{}},rotate_min={},hasRequiredRotate_min;function requireRotate_min(){if(hasRequiredRotate_min)return rotate_min;hasRequiredRotate_min=1;var t=requireLib$i();function e(f){var b=Object.create(null);return f&&Object.keys(f).forEach(function(y){if(y!=="default"){var p=Object.getOwnPropertyDescriptor(f,y);Object.defineProperty(b,y,p.get?p:{enumerable:!0,get:function(){return f[y]}})}}),b.default=f,Object.freeze(b)}var n=e(requireReact()),i=function(){return n.createElement(t.Icon,{ignoreDirection:!0,size:16},n.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},s=function(){return n.createElement(t.Icon,{ignoreDirection:!0,size:16},n.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},o=function(){return o=Object.assign||function(f){for(var b,y=1,p=arguments.length;y<p;y++)for(var v in b=arguments[y])Object.prototype.hasOwnProperty.call(b,v)&&(f[v]=b[v]);return f},o.apply(this,arguments)},c={left:0,top:8},m=function(f){var b=f.direction,y=f.onClick,p=n.useContext(t.LocalizationContext).l10n,v=p&&p.rotate?p.rotate.rotateBackward:"Rotate counterclockwise",A=p&&p.rotate?p.rotate.rotateForward:"Rotate clockwise",w=b===t.RotateDirection.Backward?v:A,P=b===t.RotateDirection.Backward?n.createElement(i,null):n.createElement(s,null);return n.createElement(t.Tooltip,{ariaControlsSuffix:"rotate",position:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaLabel:w,testId:b===t.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:y},P),content:function(){return w},offset:c})},_=function(f){var b=f.children,y=f.direction,p=f.store;return(b||function(v){return n.createElement(m,{direction:v.direction,onClick:v.onClick})})({direction:y,onClick:function(){var v=p.get("rotate");v&&v(y)}})},h=function(f){var b=f.direction,y=f.onClick,p=n.useContext(t.LocalizationContext).l10n,v=p&&p.rotate?p.rotate.rotateBackward:"Rotate counterclockwise",A=p&&p.rotate?p.rotate.rotateForward:"Rotate clockwise",w=b===t.RotateDirection.Backward?v:A,P=b===t.RotateDirection.Backward?n.createElement(i,null):n.createElement(s,null);return n.createElement(t.MenuItem,{icon:P,testId:b===t.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:y},w)},d=function(f){var b=f.children,y=f.store;return b({onRotatePage:function(p,v){var A=y.get("rotatePage");A&&A(p,v)}})};return rotate_min.RotateBackwardIcon=i,rotate_min.RotateForwardIcon=s,rotate_min.rotatePlugin=function(){var f=n.useMemo(function(){return t.createStore()},[]),b=function(y){return n.createElement(_,o({},y,{store:f}))};return{install:function(y){f.update("rotate",y.rotate),f.update("rotatePage",y.rotatePage)},Rotate:b,RotateBackwardButton:function(){return n.createElement(b,{direction:t.RotateDirection.Backward},function(y){return n.createElement(m,o({},y))})},RotateBackwardMenuItem:function(y){return n.createElement(b,{direction:t.RotateDirection.Backward},function(p){return n.createElement(h,{direction:p.direction,onClick:function(){p.onClick(),y.onClick()}})})},RotateForwardButton:function(){return n.createElement(b,{direction:t.RotateDirection.Forward},function(y){return n.createElement(m,o({},y))})},RotateForwardMenuItem:function(y){return n.createElement(b,{direction:t.RotateDirection.Forward},function(p){return n.createElement(h,{direction:p.direction,onClick:function(){p.onClick(),y.onClick()}})})},RotatePage:function(y){return n.createElement(d,o({},y,{store:f}))}}},rotate_min}var hasRequiredLib$7;function requireLib$7(){if(hasRequiredLib$7)return lib$5.exports;hasRequiredLib$7=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$5.exports=requireRotate_min(),lib$5.exports}var lib$4={exports:{}},scrollMode_min={},hasRequiredScrollMode_min;function requireScrollMode_min(){if(hasRequiredScrollMode_min)return scrollMode_min;hasRequiredScrollMode_min=1;var t=requireLib$i();function e(T){var I=Object.create(null);return T&&Object.keys(T).forEach(function(Y){if(Y!=="default"){var R=Object.getOwnPropertyDescriptor(T,Y);Object.defineProperty(I,Y,R.get?R:{enumerable:!0,get:function(){return T[Y]}})}}),I.default=T,Object.freeze(I)}var n=e(requireReact()),i=function(){return n.createElement(t.Icon,{size:16},n.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),n.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),n.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},s=function(){return n.createElement(t.Icon,{size:16},n.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),n.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},o=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},c=function(){return n.createElement(t.Icon,{size:16},n.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},m=function(){return m=Object.assign||function(T){for(var I,Y=1,R=arguments.length;Y<R;Y++)for(var U in I=arguments[Y])Object.prototype.hasOwnProperty.call(I,U)&&(T[U]=I[U]);return T},m.apply(this,arguments)},_=function(T,I){T.get("switchScrollMode")(I);var Y=T.get("viewMode");I!==t.ScrollMode.Horizontal&&I!==t.ScrollMode.Wrapped||Y===t.ViewMode.SinglePage||T.get("switchViewMode")(t.ViewMode.SinglePage)},h=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},d=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},f=function(T){var I=T.children,Y=T.mode,R=T.onClick,U=n.useContext(t.LocalizationContext).l10n,G="",ue=n.createElement(h,null);switch(Y){case t.ScrollMode.Horizontal:G=U&&U.scrollMode?U.scrollMode.horizontalScrolling:"Horizontal scrolling",ue=n.createElement(o,null);break;case t.ScrollMode.Page:G=U&&U.scrollMode?U.scrollMode.pageScrolling:"Page scrolling",ue=n.createElement(c,null);break;case t.ScrollMode.Wrapped:G=U&&U.scrollMode?U.scrollMode.wrappedScrolling:"Wrapped scrolling",ue=n.createElement(d,null);break;case t.ScrollMode.Vertical:default:G=U&&U.scrollMode?U.scrollMode.verticalScrolling:"Vertical scrolling",ue=n.createElement(h,null)}return I({icon:ue,label:G,onClick:R})},b={left:0,top:8},y=function(T){var I=T.isDisabled,Y=T.isSelected,R=T.mode,U=T.onClick,G="";switch(R){case t.ScrollMode.Horizontal:G="scroll-mode__horizontal-button";break;case t.ScrollMode.Page:G="scroll-mode__page-button";break;case t.ScrollMode.Wrapped:G="scroll-mode__wrapped-button";break;case t.ScrollMode.Vertical:default:G="scroll-mode__vertical-button"}return n.createElement(f,{mode:R,onClick:U},function(ue){return n.createElement(t.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaLabel:ue.label,isDisabled:I,isSelected:Y,testId:G,onClick:ue.onClick},ue.icon),content:function(){return ue.label},offset:b})})},p=function(T){var I=n.useState(T.get("scrollMode")||t.ScrollMode.Vertical),Y=I[0],R=I[1],U=function(G){R(G)};return n.useEffect(function(){return T.subscribe("scrollMode",U),function(){T.unsubscribe("scrollMode",U)}},[]),{scrollMode:Y}},v=function(T){var I=n.useState(T.get("viewMode")||t.ViewMode.SinglePage),Y=I[0],R=I[1],U=function(G){R(G)};return n.useEffect(function(){return T.subscribe("viewMode",U),function(){T.unsubscribe("viewMode",U)}},[]),{viewMode:Y}},A=function(T){var I=T.children,Y=T.mode,R=T.store,U=v(R).viewMode,G=p(R).scrollMode===Y,ue=(Y===t.ScrollMode.Horizontal||Y===t.ScrollMode.Wrapped)&&U!==t.ViewMode.SinglePage;return(I||function(he){return n.createElement(y,{isDisabled:ue,isSelected:G,mode:he.mode,onClick:he.onClick})})({isDisabled:ue,isSelected:G,mode:Y,onClick:function(){_(R,Y)}})},w=function(T){var I=T.isDisabled,Y=T.isSelected,R=T.mode,U=T.onClick,G="";switch(R){case t.ScrollMode.Horizontal:G="scroll-mode__horizontal-menu";break;case t.ScrollMode.Page:G="scroll-mode__page-menu";break;case t.ScrollMode.Wrapped:G="scroll-mode__wrapped-menu";break;case t.ScrollMode.Vertical:default:G="scroll-mode__vertical-menu"}return n.createElement(f,{mode:R,onClick:U},function(ue){return n.createElement(t.MenuItem,{checked:Y,icon:ue.icon,isDisabled:I,testId:G,onClick:ue.onClick},ue.label)})},P=function(T,I){T.get("switchViewMode")(I);var Y=T.get("scrollMode");Y!==t.ScrollMode.Horizontal&&Y!==t.ScrollMode.Wrapped||I===t.ViewMode.SinglePage||T.get("switchScrollMode")(t.ScrollMode.Vertical)},Z=function(T){var I=T.children,Y=T.mode,R=T.onClick,U=n.useContext(t.LocalizationContext).l10n,G="",ue=n.createElement(c,null);switch(Y){case t.ViewMode.DualPage:G=U&&U.scrollMode?U.scrollMode.dualPage:"Dual page",ue=n.createElement(s,null);break;case t.ViewMode.DualPageWithCover:G=U&&U.scrollMode?U.scrollMode.dualPageCover:"Dual page with cover",ue=n.createElement(i,null);break;case t.ViewMode.SinglePage:default:G=U&&U.scrollMode?U.scrollMode.singlePage:"Single page",ue=n.createElement(c,null)}return I({icon:ue,label:G,onClick:R})},Q={left:0,top:8},z=function(T){var I=T.isDisabled,Y=T.isSelected,R=T.mode,U=T.onClick,G="";switch(R){case t.ViewMode.DualPage:G="view-mode__dual-button";break;case t.ViewMode.DualPageWithCover:G="view-mode__dual-cover-button";break;case t.ViewMode.SinglePage:default:G="view-mode__single-button"}return n.createElement(Z,{mode:R,onClick:U},function(ue){return n.createElement(t.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaLabel:ue.label,isDisabled:I,isSelected:Y,testId:G,onClick:ue.onClick},ue.icon),content:function(){return ue.label},offset:Q})})},K=function(T){var I=T.children,Y=T.mode,R=T.store,U=v(R).viewMode,G=p(R).scrollMode,ue=U===Y,he=(G===t.ScrollMode.Horizontal||G===t.ScrollMode.Wrapped)&&Y!==t.ViewMode.SinglePage;return(I||function(se){return n.createElement(z,{isDisabled:he,isSelected:ue,mode:se.mode,onClick:se.onClick})})({isDisabled:he,isSelected:ue,mode:Y,onClick:function(){P(R,Y)}})},j=function(T){var I=T.isDisabled,Y=T.isSelected,R=T.mode,U=T.onClick,G="";switch(R){case t.ViewMode.DualPage:G="view-mode__dual-menu";break;case t.ViewMode.DualPageWithCover:G="view-mode__dual-cover-menu";break;case t.ViewMode.SinglePage:default:G="view-mode__single-menu"}return n.createElement(Z,{mode:R,onClick:U},function(ue){return n.createElement(t.MenuItem,{checked:Y,icon:ue.icon,isDisabled:I,testId:G,onClick:ue.onClick},ue.label)})};return scrollMode_min.DualPageCoverViewModeIcon=i,scrollMode_min.DualPageViewModeIcon=s,scrollMode_min.HorizontalScrollingIcon=o,scrollMode_min.PageScrollingIcon=c,scrollMode_min.VerticalScrollingIcon=h,scrollMode_min.WrappedScrollingIcon=d,scrollMode_min.scrollModePlugin=function(){var T=n.useMemo(function(){return t.createStore({scrollMode:t.ScrollMode.Vertical,viewMode:t.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),I=function(R){return n.createElement(A,m({},R,{store:T}))},Y=function(R){return n.createElement(K,m({},R,{store:T}))};return{install:function(R){T.update("switchScrollMode",R.switchScrollMode),T.update("switchViewMode",R.switchViewMode)},onViewerStateChange:function(R){return T.update("scrollMode",R.scrollMode),T.update("viewMode",R.viewMode),R},switchScrollMode:function(R){_(T,R)},switchViewMode:function(R){P(T,R)},SwitchScrollMode:I,SwitchScrollModeButton:function(R){return n.createElement(I,{mode:R.mode},function(U){return n.createElement(y,{isDisabled:U.isDisabled,isSelected:U.isSelected,mode:U.mode,onClick:function(){U.onClick()}})})},SwitchScrollModeMenuItem:function(R){return n.createElement(I,{mode:R.mode},function(U){return n.createElement(w,{isDisabled:U.isDisabled,isSelected:U.isSelected,mode:U.mode,onClick:function(){U.onClick(),R.onClick()}})})},SwitchViewMode:Y,SwitchViewModeButton:function(R){return n.createElement(Y,{mode:R.mode},function(U){return n.createElement(z,{isDisabled:U.isDisabled,isSelected:U.isSelected,mode:U.mode,onClick:function(){U.onClick()}})})},SwitchViewModeMenuItem:function(R){return n.createElement(Y,{mode:R.mode},function(U){return n.createElement(j,{isDisabled:U.isDisabled,isSelected:U.isSelected,mode:U.mode,onClick:function(){U.onClick(),R.onClick()}})})}}},scrollMode_min}var hasRequiredLib$6;function requireLib$6(){if(hasRequiredLib$6)return lib$4.exports;hasRequiredLib$6=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$4.exports=requireScrollMode_min(),lib$4.exports}var lib$3={exports:{}},search_min={},hasRequiredSearch_min;function requireSearch_min(){if(hasRequiredSearch_min)return search_min;hasRequiredSearch_min=1;var t=requireLib$i();function e(R){var U=Object.create(null);return R&&Object.keys(R).forEach(function(G){if(G!=="default"){var ue=Object.getOwnPropertyDescriptor(R,G);Object.defineProperty(U,G,ue.get?ue:{enumerable:!0,get:function(){return R[G]}})}}),U.default=R,Object.freeze(U)}var n=e(requireReact()),i=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},s=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},o=function(){return n.createElement(t.Icon,{ignoreDirection:!0,size:16},n.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c=function(){return c=Object.assign||function(R){for(var U,G=1,ue=arguments.length;G<ue;G++)for(var he in U=arguments[G])Object.prototype.hasOwnProperty.call(U,he)&&(R[he]=U[he]);return R},c.apply(this,arguments)},m={keyword:"",regExp:new RegExp(" "),wholeWords:!1},_=function(R){return{left:"".concat(R.left,"%"),top:"".concat(R.top,"%"),height:"".concat(R.height,"%"),width:"".concat(R.width,"%")}},h=function(R){var U=R.index,G=R.area,ue=R.onHighlightKeyword,he=n.useRef();return t.useIsomorphicLayoutEffect(function(){var se=he.current;ue&&se&&ue({highlightEle:se,keyword:G.keyword})},[]),n.createElement("div",{className:"rpv-search__highlight","data-index":U,ref:he,style:_(G),title:G.keywordStr.trim()})},d=function(R){var U=R.parentNode;U&&U.removeChild(R)},f=function(R){var U=R.parentNode;if(U){var G=document.createRange();G.selectNodeContents(R),function(ue,he){d(ue);var se=he.parentNode;se&&se.insertBefore(ue,he),d(he)}(G.extractContents(),R),U.normalize()}},b=function(R,U){return R.top<U.top?-1:R.top>U.top?1:R.left<U.left?-1:R.left>U.left?1:0},y=function(R){var U=R.numPages,G=R.pageIndex,ue=R.renderHighlights,he=R.store,se=R.onHighlightKeyword,ee=n.useRef(),W=n.useCallback(function(Xe){return n.createElement(n.Fragment,null,Xe.highlightAreas.map(function(rt,pt){return n.createElement(h,{index:pt,key:pt,area:rt,onHighlightKeyword:se})}))},[]),$=ue||W,S=n.useState(he.get("matchPosition")),J=S[0],ae=S[1],D=n.useState(he.get("keyword")||[m]),de=D[0],ce=D[1],H=n.useState({pageIndex:G,scale:1,status:t.LayerRenderStatus.PreRender}),ne=H[0],oe=H[1],me=n.useRef(null),ve=n.useRef([]),ye=n.useState([]),xe=ye[0],je=ye[1],Je=function(){return!0},Le=n.useCallback(function(){return he.get("targetPageFilter")||Je},[he.get("targetPageFilter")]),qe=function(Xe){var rt=ve.current;if(rt.length===0)return[];var pt=[],vt=[].slice.call(Xe.querySelectorAll(".rpv-core__text-layer-text")),Pt=rt.map(function(Be){return Be.char}).join("");return de.forEach(function(Be){var Ve=Be.keyword;if(Ve.trim()){for(var mt,ht=Be.regExp.flags.indexOf("g")===-1?new RegExp(Be.regExp,"".concat(Be.regExp.flags,"g")):Be.regExp,wt=[];(mt=ht.exec(Pt))!==null;)wt.push({keyword:ht,startIndex:mt.index,endIndex:ht.lastIndex});wt.map(function(Ut){return{keyword:Ut.keyword,indexes:rt.slice(Ut.startIndex,Ut.endIndex)}}).forEach(function(Ut){var gn=Ut.indexes.reduce(function(Gt,et){return Gt[et.spanIndex]=(Gt[et.spanIndex]||[]).concat([et]),Gt},{});Object.values(gn).forEach(function(Gt){if(Gt.length!==1||Gt[0].char.trim()!==""){var et=Be.wholeWords?Gt.slice(1,-1):Gt,Pe=function(Te,ct,zt,It,Wt){var Wn=document.createRange(),Vn=It.firstChild;if(!Vn||Vn.nodeType!==Node.TEXT_NODE)return null;var cr=Vn.textContent.length,Cn=Wt[0].charIndexInSpan,fr=Wt.length===1?Cn:Wt[Wt.length-1].charIndexInSpan;if(Cn>cr||fr+1>cr)return null;Wn.setStart(Vn,Cn),Wn.setEnd(Vn,fr+1);var Qn=document.createElement("span");Wn.surroundContents(Qn);var yr=Qn.getBoundingClientRect(),yn=zt.getBoundingClientRect(),Mr=yn.height,vn=yn.width,zn=100*(yr.left-yn.left)/vn,jn=100*(yr.top-yn.top)/Mr,rr=100*yr.height/Mr,Jn=100*yr.width/vn;return f(Qn),{keyword:ct,keywordStr:Te,numPages:U,pageIndex:G,left:zn,top:jn,height:rr,width:Jn,pageHeight:Mr,pageWidth:vn}}(Ve,Ut.keyword,Xe,vt[et[0].spanIndex],et);Pe&&pt.push(Pe)}})})}}),pt.sort(b)},ze=function(Xe){Xe&&Xe.length>0&&ce(Xe)},ke=function(Xe){return ae(Xe)},De=function(Xe){if(Xe.has(G)){var rt=Xe.get(G);rt&&oe({ele:rt.ele,pageIndex:G,scale:rt.scale,status:rt.status})}},tt=function(){return de.length===0||de.length===1&&de[0].keyword.trim()===""};return n.useEffect(function(){if(!tt()&&ne.status===t.LayerRenderStatus.DidRender&&!ve.current.length){var Xe=ne.ele,rt=[].slice.call(Xe.querySelectorAll(".rpv-core__text-layer-text")).map(function(pt){return pt.textContent}).reduce(function(pt,vt,Pt){return pt.concat(vt.split("").map(function(Be,Ve){return{char:Be,charIndexInSpan:Ve,spanIndex:Pt}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);ve.current=rt}},[de,ne.status]),n.useEffect(function(){if(!tt()&&ne.ele&&ne.status===t.LayerRenderStatus.DidRender&&Le()({pageIndex:G,numPages:U})){var Xe=ne.ele,rt=qe(Xe);je(rt)}},[de,J,ne.status,ve.current]),n.useEffect(function(){tt()&&ne.ele&&ne.status===t.LayerRenderStatus.DidRender&&je([])},[de,ne.status]),n.useEffect(function(){if(xe.length!==0){var Xe=ee.current;if(J.pageIndex===G&&Xe&&ne.status===t.LayerRenderStatus.DidRender){var rt=Xe.querySelector('.rpv-search__highlight[data-index="'.concat(J.matchIndex,'"]'));if(rt){var pt=function(Ve,mt){for(var ht=Ve.offsetTop,wt=Ve.offsetLeft,Ut=Ve.parentElement;Ut&&Ut!==mt;)ht+=Ut.offsetTop,wt+=Ut.offsetLeft,Ut=Ut.parentElement;return{left:wt,top:ht}}(rt,Xe),vt=pt.left,Pt=pt.top,Be=he.get("jumpToDestination");Be&&(Be({pageIndex:G,bottomOffset:(Xe.getBoundingClientRect().height-Pt)/ne.scale,leftOffset:vt/ne.scale,scaleTo:ne.scale}),me.current&&me.current.classList.remove("rpv-search__highlight--current"),me.current=rt,rt.classList.add("rpv-search__highlight--current"))}}}},[xe,J]),n.useEffect(function(){return he.subscribe("keyword",ze),he.subscribe("matchPosition",ke),he.subscribe("renderStatus",De),function(){he.unsubscribe("keyword",ze),he.unsubscribe("matchPosition",ke),he.unsubscribe("renderStatus",De)}},[]),n.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(G),ref:ee},$({getCssProperties:_,highlightAreas:xe}))},p=function(R){var U,G=R.wholeWords?" ".concat(R.keyword," "):R.keyword,ue=R.matchCase?"g":"gi";return{keyword:R.keyword,regExp:new RegExp((U=G,U.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),ue),wholeWords:R.wholeWords||!1}},v=function(R,U,G){return R instanceof RegExp?{keyword:R.source,regExp:R,wholeWords:G||!1}:typeof R=="string"?R===""?m:p({keyword:R,matchCase:U||!1,wholeWords:G||!1}):(U!==void 0&&(R.matchCase=U),G!==void 0&&(R.wholeWords=G),p(R))},A=function(R){var U,G=R.get("initialKeyword"),ue=n.useMemo(function(){if(G&&G.length===1){var ke=v(G[0]);return{matchCase:ke.regExp.flags.indexOf("i")===-1,wholeWords:ke.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),he=function(ke){var De=n.useRef(ke.get("doc")),tt=function(Xe){De.current=Xe};return n.useEffect(function(){return ke.subscribe("doc",tt),function(){ke.unsubscribe("doc",tt)}},[]),De}(R),se=n.useState(G),ee=se[0],W=se[1],$=n.useState([]),S=$[0],J=$[1],ae=n.useState(0),D=ae[0],de=ae[1],ce=n.useState(ue.matchCase),H=ce[0],ne=ce[1],oe=n.useRef([]),me=n.useState(ue.wholeWords),ve=me[0],ye=me[1],xe=function(){return!0},je=n.useCallback(function(){return R.get("targetPageFilter")||xe},[R.get("targetPageFilter")]),Je=function(ke){var De=S.length;if(ee.length===0||De===0)return null;var tt=ke===De+1?1:Math.max(1,Math.min(De,ke));return de(tt),qe(S[tt-1])},Le=function(ke){return W(ke===""?[]:[ke])},qe=function(ke){var De=R.get("jumpToPage");return De&&De(ke.pageIndex),R.update("matchPosition",{matchIndex:ke.matchIndex,pageIndex:ke.pageIndex}),ke},ze=function(ke,De,tt){var Xe=he.current;if(!Xe)return Promise.resolve([]);var rt=Xe.numPages,pt=ke.map(function(vt){return v(vt,De,tt)});return R.update("keyword",pt),de(0),J([]),new Promise(function(vt,Pt){var Be=oe.current.length===0?function(){var Ve=he.current;if(!Ve)return Promise.resolve([]);var mt=Array(Ve.numPages).fill(0).map(function(ht,wt){return t.getPage(Ve,wt).then(function(Ut){return Ut.getTextContent()}).then(function(Ut){var gn=Ut.items.map(function(Gt){return Gt.str||""}).join("");return Promise.resolve({pageContent:gn,pageIndex:wt})})});return Promise.all(mt).then(function(ht){return ht.sort(function(wt,Ut){return wt.pageIndex-Ut.pageIndex}),Promise.resolve(ht.map(function(wt){return wt.pageContent}))})}().then(function(Ve){return oe.current=Ve,Promise.resolve(Ve)}):Promise.resolve(oe.current);Be.then(function(Ve){var mt=[];Ve.forEach(function(ht,wt){je()({pageIndex:wt,numPages:rt})&&pt.forEach(function(Ut){for(var gn,Gt=0;(gn=Ut.regExp.exec(ht))!==null;)mt.push({keyword:Ut.regExp,matchIndex:Gt,pageIndex:wt,pageText:ht,startIndex:gn.index,endIndex:Ut.regExp.lastIndex}),Gt++})}),J(mt),mt.length>0&&(de(1),qe(mt[0])),vt(mt)})})};return n.useEffect(function(){oe.current=[]},[he.current]),{clearKeyword:function(){R.update("keyword",[m]),Le(""),de(0),J([]),ne(!1),ye(!1)},changeMatchCase:function(ke){ne(ke),ee.length>0&&ze(ee,ke,ve)},changeWholeWords:function(ke){ye(ke),ee.length>0&&ze(ee,H,ke)},currentMatch:D,jumpToMatch:Je,jumpToNextMatch:function(){return Je(D+1)},jumpToPreviousMatch:function(){return Je(D-1)},keywords:ee,matchCase:H,numberOfMatches:S.length,wholeWords:ve,search:function(){return ze(ee,H,ve)},searchFor:ze,setKeywords:W,keyword:ee.length===0?"":(U=ee[0],U instanceof RegExp?U.source:typeof U=="string"?U:U.keyword),setKeyword:Le,setTargetPages:function(ke){R.update("targetPageFilter",ke)}}},w=function(R){var U=R.children,G=R.store,ue=A(G),he=n.useState(!1),se=he[0],ee=he[1],W=function($){return ee(!0)};return n.useEffect(function(){return G.subscribe("doc",W),function(){G.unsubscribe("doc",W)}},[]),U(c(c({},ue),{isDocumentLoaded:se}))},P=function(R){var U=R.containerRef,G=R.store,ue=n.useRef(!1),he=function(){ue.current=!0},se=function(){ue.current=!1},ee=function(W){var $=U.current;$&&(W.shiftKey||W.altKey||W.key!=="f"||(t.isMac()?W.metaKey&&!W.ctrlKey:W.ctrlKey)&&(ue.current||document.activeElement&&$.contains(document.activeElement))&&(W.preventDefault(),G.update("areShortcutsPressed",!0)))};return n.useEffect(function(){var W=U.current;if(W)return document.addEventListener("keydown",ee),W.addEventListener("mouseenter",he),W.addEventListener("mouseleave",se),function(){document.removeEventListener("keydown",ee),W.removeEventListener("mouseenter",he),W.removeEventListener("mouseleave",se)}},[U.current]),n.createElement(n.Fragment,null)},Z={left:0,top:8},Q=function(R){var U=R.store,G=R.onToggle,ue=n.useContext(t.LocalizationContext).l10n,he=n.useContext(t.ThemeContext).direction,se=n.useState(!1),ee=se[0],W=se[1],$=n.useState(!1),S=$[0],J=$[1],ae=he===t.TextDirection.RightToLeft,D=A(U),de=D.clearKeyword,ce=D.changeMatchCase,H=D.changeWholeWords,ne=D.currentMatch,oe=D.jumpToNextMatch,me=D.jumpToPreviousMatch,ve=D.keyword,ye=D.matchCase,xe=D.numberOfMatches,je=D.wholeWords,Je=D.search,Le=D.setKeyword,qe=function(Xe){W(!0),Je().then(function(rt){W(!1),J(!0),Xe&&Xe()})};n.useEffect(function(){var Xe=U.get("initialKeyword");Xe&&Xe.length===1&&ve&&qe(function(){U.update("initialKeyword",[])})},[]);var ze=ue&&ue.search?ue.search.enterToSearch:"Enter to search",ke=ue&&ue.search?ue.search.previousMatch:"Previous match",De=ue&&ue.search?ue.search.nextMatch:"Next match",tt=ue&&ue.search?ue.search.close:"Close";return n.createElement("div",{className:"rpv-search__popover"},n.createElement("div",{className:"rpv-search__popover-input-counter"},n.createElement(t.TextBox,{ariaLabel:ze,autoFocus:!0,placeholder:ze,type:"text",value:ve,onChange:function(Xe){J(!1),Le(Xe)},onKeyDown:function(Xe){Xe.key==="Enter"&&ve&&(S?oe():qe())}}),n.createElement("div",{className:t.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!ae,"rpv-search__popover-counter--rtl":ae})},ee&&n.createElement(t.Spinner,{testId:"search__popover-searching",size:"1rem"}),!ee&&n.createElement("span",{"data-testid":"search__popover-num-matches"},ne,"/",xe))),n.createElement("label",{className:"rpv-search__popover-label"},n.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:ye,type:"checkbox",onChange:function(Xe){J(!1),ce(Xe.target.checked)}})," ",ue&&ue.search?ue.search.matchCase:"Match case"),n.createElement("label",{className:"rpv-search__popover-label"},n.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:je,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(Xe){J(!1),H(Xe.target.checked)}})," ",ue&&ue.search?ue.search.wholeWords:"Whole words"),n.createElement("div",{className:"rpv-search__popover-footer"},n.createElement("div",{className:"rpv-search__popover-footer-item"},n.createElement(t.Tooltip,{ariaControlsSuffix:"search-previous-match",position:ae?t.Position.BottomRight:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaLabel:ke,isDisabled:ne<=1,onClick:me},n.createElement(s,null)),content:function(){return ke},offset:Z})),n.createElement("div",{className:"rpv-search__popover-footer-item"},n.createElement(t.Tooltip,{ariaControlsSuffix:"search-next-match",position:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaLabel:De,isDisabled:ne>xe-1,onClick:oe},n.createElement(i,null)),content:function(){return De},offset:Z})),n.createElement("div",{className:t.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!ae,"rpv-search__popover-footer-button--rtl":ae})},n.createElement(t.Button,{onClick:function(){G(),de()}},tt))))},z=function(R){var U=R.children,G=R.onClick,ue=n.useContext(t.LocalizationContext).l10n,he=ue&&ue.search?ue.search.search:"Search";return U({icon:n.createElement(o,null),label:he,onClick:G})},K={left:0,top:8},j=function(R){var U=R.enableShortcuts,G=R.store,ue=R.onClick,he=U?t.isMac()?"Meta+F":"Ctrl+F":"",se=function(ee){ee&&ue()};return n.useEffect(function(){return G.subscribe("areShortcutsPressed",se),function(){G.unsubscribe("areShortcutsPressed",se)}},[]),n.createElement(z,{onClick:ue},function(ee){return n.createElement(t.Tooltip,{ariaControlsSuffix:"search-popover",position:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaKeyShortcuts:he,ariaLabel:ee.label,testId:"search__popover-button",onClick:ue},ee.icon),content:function(){return ee.label},offset:K})})},T={left:0,top:8},I=function(R){var U=R.children,G=R.enableShortcuts,ue=R.store,he=n.useContext(t.ThemeContext).direction===t.TextDirection.RightToLeft?t.Position.BottomRight:t.Position.BottomLeft,se=U||function(ee){return n.createElement(j,c({enableShortcuts:G,store:ue},ee))};return n.createElement(t.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:he,target:function(ee){return se({onClick:ee})},content:function(ee){return n.createElement(Q,{store:ue,onToggle:ee})},offset:T,closeOnClickOutside:!1,closeOnEscape:!0})},Y=function(R){return Array.isArray(R)?R.map(function(U){return v(U)}):[v(R)]};return search_min.NextIcon=i,search_min.PreviousIcon=s,search_min.SearchIcon=o,search_min.searchPlugin=function(R){var U=n.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},R)},[]),G=n.useMemo(function(){return t.createStore({initialKeyword:R&&R.keyword?Array.isArray(R.keyword)?R.keyword:[R.keyword]:[],keyword:R&&R.keyword?Y(R.keyword):[m],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),ue=A(G),he=ue.clearKeyword,se=ue.jumpToMatch,ee=ue.jumpToNextMatch,W=ue.jumpToPreviousMatch,$=ue.searchFor,S=ue.setKeywords,J=ue.setTargetPages,ae=function(D){return n.createElement(I,c({enableShortcuts:U.enableShortcuts},D,{store:G}))};return{install:function(D){var de=R&&R.keyword?Array.isArray(R.keyword)?R.keyword:[R.keyword]:[],ce=R&&R.keyword?Y(R.keyword):[m];G.update("initialKeyword",de),G.update("jumpToDestination",D.jumpToDestination),G.update("jumpToPage",D.jumpToPage),G.update("keyword",ce)},renderPageLayer:function(D){return n.createElement(y,{key:D.pageIndex,numPages:D.doc.numPages,pageIndex:D.pageIndex,renderHighlights:R?.renderHighlights,store:G,onHighlightKeyword:U.onHighlightKeyword})},renderViewer:function(D){var de=D.slot;return de.subSlot&&(de.subSlot.children=n.createElement(n.Fragment,null,U.enableShortcuts&&n.createElement(P,{containerRef:D.containerRef,store:G}),de.subSlot.children)),de},uninstall:function(D){var de=G.get("renderStatus");de&&de.clear()},onDocumentLoad:function(D){G.update("doc",D.doc)},onTextLayerRender:function(D){var de=G.get("renderStatus");de&&(de=de.set(D.pageIndex,D),G.update("renderStatus",de))},Search:function(D){return n.createElement(w,c({},D,{store:G}))},ShowSearchPopover:ae,ShowSearchPopoverButton:function(){return n.createElement(ae,null,function(D){return n.createElement(j,c({enableShortcuts:U.enableShortcuts,store:G},D))})},clearHighlights:function(){he()},highlight:function(D){var de=Array.isArray(D)?D:[D];return S(de),$(de)},jumpToMatch:se,jumpToNextMatch:ee,jumpToPreviousMatch:W,setTargetPages:J}},search_min}var hasRequiredLib$5;function requireLib$5(){if(hasRequiredLib$5)return lib$3.exports;hasRequiredLib$5=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$3.exports=requireSearch_min(),lib$3.exports}var lib$2={exports:{}},theme_min={},hasRequiredTheme_min;function requireTheme_min(){if(hasRequiredTheme_min)return theme_min;hasRequiredTheme_min=1;var t=requireLib$i();function e(d){var f=Object.create(null);return d&&Object.keys(d).forEach(function(b){if(b!=="default"){var y=Object.getOwnPropertyDescriptor(d,b);Object.defineProperty(f,b,y.get?y:{enumerable:!0,get:function(){return d[b]}})}}),f.default=d,Object.freeze(f)}var n=e(requireReact()),i=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},s=function(){return n.createElement(t.Icon,{size:16},n.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o=function(){return o=Object.assign||function(d){for(var f,b=1,y=arguments.length;b<y;b++)for(var p in f=arguments[b])Object.prototype.hasOwnProperty.call(f,p)&&(d[p]=f[p]);return d},o.apply(this,arguments)},c={left:0,top:8},m=function(d){var f=d.onClick,b=n.useContext(t.ThemeContext),y=n.useContext(t.LocalizationContext).l10n,p=b.currentTheme==="dark",v=y&&y.theme?p?y.theme.switchLightTheme:y.theme.switchDarkTheme:p?"Switch to the light theme":"Switch to the dark theme";return n.createElement(t.Tooltip,{ariaControlsSuffix:"theme-switch",position:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaLabel:v,testId:"theme__switch-button",onClick:f},p?n.createElement(s,null):n.createElement(i,null)),content:function(){return v},offset:c})},_=function(d){var f=d.children,b=n.useContext(t.ThemeContext);return(f||function(y){return n.createElement(m,{onClick:y.onClick})})({onClick:function(){return b.setCurrentTheme(b.currentTheme==="dark"?"light":"dark")}})},h=function(d){var f=d.onClick,b=n.useContext(t.ThemeContext),y=n.useContext(t.LocalizationContext).l10n,p=b.currentTheme==="dark",v=y&&y.theme?p?y.theme.switchLightTheme:y.theme.switchDarkTheme:p?"Switch to the light theme":"Switch to the dark theme";return n.createElement(t.MenuItem,{icon:p?n.createElement(s,null):n.createElement(i,null),testId:"theme__switch-menu",onClick:f},v)};return theme_min.DarkIcon=i,theme_min.LightIcon=s,theme_min.themePlugin=function(){var d=function(f){return n.createElement(_,o({},f))};return{SwitchTheme:d,SwitchThemeButton:function(){return n.createElement(d,null,function(f){return n.createElement(m,o({},f))})},SwitchThemeMenuItem:function(f){return n.createElement(d,null,function(b){return n.createElement(h,{onClick:function(){b.onClick(),f.onClick()}})})}}},theme_min}var hasRequiredLib$4;function requireLib$4(){if(hasRequiredLib$4)return lib$2.exports;hasRequiredLib$4=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$2.exports=requireTheme_min(),lib$2.exports}var lib$1={exports:{}},zoom_min={},hasRequiredZoom_min;function requireZoom_min(){if(hasRequiredZoom_min)return zoom_min;hasRequiredZoom_min=1;var t=requireLib$i();function e(R){var U=Object.create(null);return R&&Object.keys(R).forEach(function(G){if(G!=="default"){var ue=Object.getOwnPropertyDescriptor(R,G);Object.defineProperty(U,G,ue.get?ue:{enumerable:!0,get:function(){return R[G]}})}}),U.default=R,Object.freeze(U)}var n=e(requireReact()),i=function(){return n.createElement(t.Icon,{ignoreDirection:!0,size:16},n.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},s=function(){return n.createElement(t.Icon,{ignoreDirection:!0,size:16},n.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},o=function(){return o=Object.assign||function(R){for(var U,G=1,ue=arguments.length;G<ue;G++)for(var he in U=arguments[G])Object.prototype.hasOwnProperty.call(U,he)&&(R[he]=U[he]);return R},o.apply(this,arguments)},c=function(R){var U=n.useState(R.get("scale")||0),G=U[0],ue=U[1],he=function(se){ue(se)};return n.useEffect(function(){return R.subscribe("scale",he),function(){R.unsubscribe("scale",he)}},[]),{scale:G}},m=function(R){var U=R.children,G=R.store;return(U||function(ue){return n.createElement(n.Fragment,null,"".concat(Math.round(100*ue.scale),"%"))})({scale:c(G).scale})},_={passive:!1},h=null,d=function(R){var U=R.pagesContainerRef,G=R.store,ue=t.useDebounceCallback(function(se){var ee=G.get("zoom");ee&&ee(se)},40),he=function(se){if(se.ctrlKey){se.preventDefault();var ee=se.target.getBoundingClientRect(),W=1-se.deltaY/100,$=se.clientX-ee.left,S=se.clientY-ee.top,J=G.get("scale"),ae=(h||(h=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate($,S).scale(W).translate(-$,-S).scale(J);ue(ae.a)}};return t.useIsomorphicLayoutEffect(function(){var se=U.current;if(se)return se.addEventListener("wheel",he,_),function(){se.removeEventListener("wheel",he)}},[]),n.createElement(n.Fragment,null)},f=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],b=function(R){return f.find(function(U){return U>R})||R},y=function(R){var U=f.findIndex(function(G){return G>=R});return U===-1||U===0?R:f[U-1]},p=function(R){var U=R.containerRef,G=R.store,ue=function(he){if(!he.shiftKey&&!he.altKey&&(t.isMac()?he.metaKey:he.ctrlKey)){var se=U.current;if(se&&document.activeElement&&se.contains(document.activeElement)){var ee=G.get("zoom");if(ee){var W=G.get("scale")||1,$=1;switch(he.key){case"-":$=y(W);break;case"=":$=b(W);break;case"0":$=1;break;default:$=W}$!==W&&(he.preventDefault(),ee($))}}}};return n.useEffect(function(){if(U.current)return document.addEventListener("keydown",ue),function(){document.removeEventListener("keydown",ue)}},[U.current]),n.createElement(n.Fragment,null)},v=[.5,.75,1,1.25,1.5,2,3,4],A={left:0,top:8},w=function(R){var U=R.levels,G=U===void 0?v:U,ue=R.scale,he=R.onZoom,se=n.useContext(t.LocalizationContext).l10n,ee=n.useContext(t.ThemeContext).direction===t.TextDirection.RightToLeft,W=se&&se.zoom?se.zoom.zoomDocument:"Zoom document";return n.createElement(t.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:t.Position.BottomCenter,target:function($){return n.createElement(t.MinimalButton,{ariaLabel:W,testId:"zoom__popover-target",onClick:function(){$()}},n.createElement("span",{className:"rpv-zoom__popover-target"},n.createElement("span",{"data-testid":"zoom__popover-target-scale",className:t.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!ee,"rpv-zoom__popover-target-scale--rtl":ee})},Math.round(100*ue),"%"),n.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function($){return n.createElement(t.Menu,null,Object.keys(t.SpecialZoomLevel).map(function(S){var J=S;return n.createElement(t.MenuItem,{key:J,onClick:function(){$(),he(J)}},function(ae){switch(ae){case t.SpecialZoomLevel.ActualSize:return se&&se.zoom?se.zoom.actualSize:"Actual size";case t.SpecialZoomLevel.PageFit:return se&&se.zoom?se.zoom.pageFit:"Page fit";case t.SpecialZoomLevel.PageWidth:return se&&se.zoom?se.zoom.pageWidth:"Page width"}}(J))}),n.createElement(t.MenuDivider,null),G.map(function(S){return n.createElement(t.MenuItem,{key:S,onClick:function(){$(),he(S)}},"".concat(Math.round(100*S),"%"))}))},offset:A,closeOnClickOutside:!0,closeOnEscape:!0})},P=function(R){var U=R.children,G=R.levels,ue=R.store;return(U||function(he){return n.createElement(w,{levels:G,scale:he.scale,onZoom:he.onZoom})})({scale:c(ue).scale,onZoom:function(he){var se=ue.get("zoom");se&&se(he)}})},Z={left:0,top:8},Q=function(R){var U=R.enableShortcuts,G=R.onClick,ue=n.useContext(t.LocalizationContext).l10n,he=ue&&ue.zoom?ue.zoom.zoomIn:"Zoom in",se=U?t.isMac()?"Meta+=":"Ctrl+=":"";return n.createElement(t.Tooltip,{ariaControlsSuffix:"zoom-in",position:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaKeyShortcuts:se,ariaLabel:he,testId:"zoom__in-button",onClick:G},n.createElement(i,null)),content:function(){return he},offset:Z})},z=function(R){var U=R.children,G=R.enableShortcuts,ue=R.store,he=c(ue).scale;return(U||Q)({enableShortcuts:G,onClick:function(){var se=ue.get("zoom");se&&se(b(he))}})},K=function(R){var U=R.onClick,G=n.useContext(t.LocalizationContext).l10n,ue=G&&G.zoom?G.zoom.zoomIn:"Zoom in";return n.createElement(t.MenuItem,{icon:n.createElement(i,null),testId:"zoom__in-menu",onClick:U},ue)},j={left:0,top:8},T=function(R){var U=R.enableShortcuts,G=R.onClick,ue=n.useContext(t.LocalizationContext).l10n,he=ue&&ue.zoom?ue.zoom.zoomOut:"Zoom out",se=U?t.isMac()?"Meta+-":"Ctrl+-":"";return n.createElement(t.Tooltip,{ariaControlsSuffix:"zoom-out",position:t.Position.BottomCenter,target:n.createElement(t.MinimalButton,{ariaKeyShortcuts:se,ariaLabel:he,testId:"zoom__out-button",onClick:G},n.createElement(s,null)),content:function(){return he},offset:j})},I=function(R){var U=R.children,G=R.enableShortcuts,ue=R.store,he=c(ue).scale;return(U||T)({enableShortcuts:G,onClick:function(){var se=ue.get("zoom");se&&se(y(he))}})},Y=function(R){var U=R.onClick,G=n.useContext(t.LocalizationContext).l10n,ue=G&&G.zoom?G.zoom.zoomOut:"Zoom out";return n.createElement(t.MenuItem,{icon:n.createElement(s,null),testId:"zoom__out-menu",onClick:U},ue)};return zoom_min.ZoomInIcon=i,zoom_min.ZoomOutIcon=s,zoom_min.zoomPlugin=function(R){var U=n.useMemo(function(){return Object.assign({},{enableShortcuts:!0},R)},[]),G=n.useMemo(function(){return t.createStore({})},[]),ue=function(ee){return n.createElement(z,o({enableShortcuts:U.enableShortcuts},ee,{store:G}))},he=function(ee){return n.createElement(I,o({enableShortcuts:U.enableShortcuts},ee,{store:G}))},se=function(ee){return n.createElement(P,o({},ee,{store:G}))};return{renderViewer:function(ee){var W=ee.slot;if(!U.enableShortcuts)return W;var $={children:n.createElement(n.Fragment,null,n.createElement(p,{containerRef:ee.containerRef,store:G}),n.createElement(d,{pagesContainerRef:ee.pagesContainerRef,store:G}),W.children)};return o(o({},W),$)},install:function(ee){G.update("zoom",ee.zoom)},onViewerStateChange:function(ee){return G.update("scale",ee.scale),ee},zoomTo:function(ee){var W=G.get("zoom");W&&W(ee)},CurrentScale:function(ee){return n.createElement(m,o({},ee,{store:G}))},ZoomIn:ue,ZoomInButton:function(){return n.createElement(ue,null,function(ee){return n.createElement(Q,o({},ee))})},ZoomInMenuItem:function(ee){return n.createElement(ue,null,function(W){return n.createElement(K,{onClick:function(){W.onClick(),ee.onClick()}})})},ZoomOut:he,ZoomOutButton:function(){return n.createElement(he,null,function(ee){return n.createElement(T,o({},ee))})},ZoomOutMenuItem:function(ee){return n.createElement(he,null,function(W){return n.createElement(Y,{onClick:function(){W.onClick(),ee.onClick()}})})},Zoom:se,ZoomPopover:function(ee){return n.createElement(se,null,function(W){return n.createElement(w,o({levels:ee?.levels},W))})}}},zoom_min}var hasRequiredLib$3;function requireLib$3(){if(hasRequiredLib$3)return lib$1.exports;hasRequiredLib$3=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$1.exports=requireZoom_min(),lib$1.exports}var hasRequiredToolbar_min;function requireToolbar_min(){if(hasRequiredToolbar_min)return toolbar_min;hasRequiredToolbar_min=1;var t=requireLib$i(),e=requireLib$e(),n=requireReact(),i=requireLib$d(),s=requireLib$c(),o=requireLib$b(),c=requireLib$a(),m=requireLib$9(),_=requireLib$8(),h=requireLib$7(),d=requireLib$6(),f=requireLib$5(),b=requireLib$4(),y=requireLib$3();function p(T){var I=Object.create(null);return T&&Object.keys(T).forEach(function(Y){if(Y!=="default"){var R=Object.getOwnPropertyDescriptor(T,Y);Object.defineProperty(I,Y,R.get?R:{enumerable:!0,get:function(){return T[Y]}})}}),I.default=T,Object.freeze(I)}var v=p(n),A=function(){return v.createElement(t.Icon,{size:16},v.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},w={left:0,top:8},P=function(T){var I=T.toolbarSlot,Y=v.useContext(t.LocalizationContext).l10n,R=v.useContext(t.ThemeContext).direction===t.TextDirection.RightToLeft?t.Position.BottomLeft:t.Position.BottomRight,U=I.DownloadMenuItem,G=I.EnterFullScreenMenuItem,ue=I.GoToFirstPageMenuItem,he=I.GoToLastPageMenuItem,se=I.GoToNextPageMenuItem,ee=I.GoToPreviousPageMenuItem,W=I.OpenMenuItem,$=I.PrintMenuItem,S=I.RotateBackwardMenuItem,J=I.RotateForwardMenuItem,ae=I.ShowPropertiesMenuItem,D=I.SwitchScrollModeMenuItem,de=I.SwitchSelectionModeMenuItem,ce=I.SwitchViewModeMenuItem,H=I.SwitchThemeMenuItem;return v.createElement(t.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:R,target:function(ne,oe){var me=Y&&Y.toolbar?Y.toolbar.moreActions:"More actions";return v.createElement(t.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:R,target:v.createElement(t.MinimalButton,{ariaLabel:me,isSelected:oe,testId:"toolbar__more-actions-popover-target",onClick:ne},v.createElement(A,null)),content:function(){return me},offset:w})},content:function(ne){return v.createElement(t.Menu,null,v.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},v.createElement(H,{onClick:ne})),v.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},v.createElement(G,{onClick:ne})),v.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},v.createElement(W,null)),v.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},v.createElement($,{onClick:ne})),v.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},v.createElement(U,{onClick:ne})),v.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},v.createElement(t.MenuDivider,null)),v.createElement(ue,{onClick:ne}),v.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},v.createElement(ee,{onClick:ne})),v.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},v.createElement(se,{onClick:ne})),v.createElement(he,{onClick:ne}),v.createElement(t.MenuDivider,null),v.createElement(J,{onClick:ne}),v.createElement(S,{onClick:ne}),v.createElement(t.MenuDivider,null),v.createElement(de,{mode:e.SelectionMode.Text,onClick:ne}),v.createElement(de,{mode:e.SelectionMode.Hand,onClick:ne}),v.createElement(t.MenuDivider,null),v.createElement(D,{mode:t.ScrollMode.Page,onClick:ne}),v.createElement(D,{mode:t.ScrollMode.Vertical,onClick:ne}),v.createElement(D,{mode:t.ScrollMode.Horizontal,onClick:ne}),v.createElement(D,{mode:t.ScrollMode.Wrapped,onClick:ne}),v.createElement(t.MenuDivider,null),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},v.createElement(ce,{mode:t.ViewMode.SinglePage,onClick:ne})),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},v.createElement(ce,{mode:t.ViewMode.DualPage,onClick:ne})),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},v.createElement(ce,{mode:t.ViewMode.DualPageWithCover,onClick:ne})),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},v.createElement(t.MenuDivider,null)),v.createElement(ae,{onClick:ne}))},offset:w,closeOnClickOutside:!0,closeOnEscape:!0})},Z=function(){return Z=Object.assign||function(T){for(var I,Y=1,R=arguments.length;Y<R;Y++)for(var U in I=arguments[Y])Object.prototype.hasOwnProperty.call(I,U)&&(T[U]=I[U]);return T},Z.apply(this,arguments)},Q=function(T){return function(I){var Y=v.useMemo(function(){return T(I)},[]),R=v.useContext(t.ThemeContext).direction===t.TextDirection.RightToLeft,U=Y.CurrentPageInput,G=Y.Download,ue=Y.EnterFullScreen,he=Y.GoToNextPage,se=Y.GoToPreviousPage,ee=Y.NumberOfPages,W=Y.Open,$=Y.Print,S=Y.ShowSearchPopover,J=Y.SwitchTheme,ae=Y.Zoom,D=Y.ZoomIn,de=Y.ZoomOut;return v.createElement("div",{"data-testid":"toolbar",className:t.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":R}),role:"toolbar","aria-orientation":"horizontal"},v.createElement("div",{className:"rpv-toolbar__left"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(S,null)),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(se,null))),v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(U,null),v.createElement("span",{className:"rpv-toolbar__label"},v.createElement(ee,null))),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(he,null)))),v.createElement("div",{className:"rpv-toolbar__center"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(de,null)),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(ae,null))),v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(D,null))),v.createElement("div",{className:"rpv-toolbar__right"},v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(J,null))),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(ue,null))),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(W,null))),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(G,null))),v.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},v.createElement("div",{className:"rpv-toolbar__item"},v.createElement($,null))),v.createElement("div",{className:"rpv-toolbar__item"},v.createElement(P,{toolbarSlot:Y}))))}},z=function(T){var I=T.NumberOfPages;return Object.assign({},T,{NumberOfPages:function(){return v.createElement(v.Fragment,null,"/ ",v.createElement(I,null))}})},K=function(T){return Q(z)(T)},j=function(T){var I=T.children,Y=T.slot;return(I||K)(Y)};return toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=A,toolbar_min.toolbarPlugin=function(T){var I=i.fullScreenPlugin(T?T.fullScreenPlugin:{}),Y=s.getFilePlugin(T?T.getFilePlugin:{}),R=o.openPlugin(T?T.openPlugin:{}),U=c.pageNavigationPlugin(T?T.pageNavigationPlugin:{}),G=m.printPlugin(T?T.printPlugin:{}),ue=_.propertiesPlugin(),he=h.rotatePlugin(),se=d.scrollModePlugin(),ee=f.searchPlugin(T?T.searchPlugin:{}),W=e.selectionModePlugin(T?T.selectionModePlugin:{}),$=b.themePlugin(),S=y.zoomPlugin(T?T.zoomPlugin:{}),J=[I,Y,R,U,G,ue,he,se,ee,W,$,S],ae=v.useCallback(function(D){var de=I.EnterFullScreen,ce=I.EnterFullScreenMenuItem,H=Y.Download,ne=Y.DownloadMenuItem,oe=R.Open,me=R.OpenMenuItem,ve=U.CurrentPageInput,ye=U.CurrentPageLabel,xe=U.GoToFirstPage,je=U.GoToFirstPageMenuItem,Je=U.GoToLastPage,Le=U.GoToLastPageMenuItem,qe=U.GoToNextPage,ze=U.GoToNextPageMenuItem,ke=U.GoToPreviousPage,De=U.GoToPreviousPageMenuItem,tt=U.NumberOfPages,Xe=G.Print,rt=G.PrintMenuItem,pt=ue.ShowProperties,vt=ue.ShowPropertiesMenuItem,Pt=he.Rotate,Be=he.RotateBackwardMenuItem,Ve=he.RotateForwardMenuItem,mt=se.SwitchScrollMode,ht=se.SwitchScrollModeMenuItem,wt=se.SwitchViewMode,Ut=se.SwitchViewModeMenuItem,gn=ee.Search,Gt=ee.ShowSearchPopover,et=W.SwitchSelectionMode,Pe=W.SwitchSelectionModeMenuItem,Te=$.SwitchTheme,ct=$.SwitchThemeMenuItem,zt=S.CurrentScale,It=S.Zoom,Wt=S.ZoomIn,Wn=S.ZoomInMenuItem,Vn=S.ZoomOut,cr=S.ZoomOutMenuItem;return v.createElement(j,Z({},D,{slot:{CurrentPageInput:ve,CurrentPageLabel:ye,CurrentScale:zt,Download:H,DownloadMenuItem:ne,EnterFullScreen:de,EnterFullScreenMenuItem:ce,GoToFirstPage:xe,GoToFirstPageMenuItem:je,GoToLastPage:Je,GoToLastPageMenuItem:Le,GoToNextPage:qe,GoToNextPageMenuItem:ze,GoToPreviousPage:ke,GoToPreviousPageMenuItem:De,NumberOfPages:tt,Open:oe,OpenMenuItem:me,Print:Xe,PrintMenuItem:rt,Rotate:Pt,RotateBackwardMenuItem:Be,RotateForwardMenuItem:Ve,Search:gn,ShowProperties:pt,ShowPropertiesMenuItem:vt,ShowSearchPopover:Gt,SwitchScrollMode:mt,SwitchScrollModeMenuItem:ht,SwitchSelectionMode:et,SwitchSelectionModeMenuItem:Pe,SwitchViewMode:wt,SwitchViewModeMenuItem:Ut,SwitchTheme:Te,SwitchThemeMenuItem:ct,Zoom:It,ZoomIn:Wt,ZoomInMenuItem:Wn,ZoomOut:Vn,ZoomOutMenuItem:cr}}))},[]);return{fullScreenPluginInstance:I,getFilePluginInstance:Y,openPluginInstance:R,pageNavigationPluginInstance:U,printPluginInstance:G,propertiesPluginInstance:ue,rotatePluginInstance:he,scrollModePluginInstance:se,searchPluginInstance:ee,selectionModePluginInstance:W,themePluginInstance:$,zoomPluginInstance:S,install:function(D){J.forEach(function(de){de.install&&de.install(D)})},renderPageLayer:function(D){return v.createElement(v.Fragment,null,J.map(function(de,ce){return de.renderPageLayer?v.createElement(v.Fragment,{key:ce},de.renderPageLayer(D)):v.createElement(v.Fragment,{key:ce})}))},renderViewer:function(D){var de=D.slot;return J.forEach(function(ce){ce.renderViewer&&(de=ce.renderViewer(Z(Z({},D),{slot:de})))}),de},uninstall:function(D){J.forEach(function(de){de.uninstall&&de.uninstall(D)})},onDocumentLoad:function(D){J.forEach(function(de){de.onDocumentLoad&&de.onDocumentLoad(D)})},onAnnotationLayerRender:function(D){J.forEach(function(de){de.onAnnotationLayerRender&&de.onAnnotationLayerRender(D)})},onTextLayerRender:function(D){J.forEach(function(de){de.onTextLayerRender&&de.onTextLayerRender(D)})},onViewerStateChange:function(D){var de=D;return J.forEach(function(ce){ce.onViewerStateChange&&(de=ce.onViewerStateChange(de))}),de},renderDefaultToolbar:Q,Toolbar:ae}},toolbar_min}var hasRequiredLib$2;function requireLib$2(){if(hasRequiredLib$2)return lib$d.exports;hasRequiredLib$2=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$d.exports=requireToolbar_min(),lib$d.exports}var hasRequiredDefaultLayout_min;function requireDefaultLayout_min(){if(hasRequiredDefaultLayout_min)return defaultLayout_min;hasRequiredDefaultLayout_min=1;var t=requireLib$i(),e=requireReact(),n=requireLib$h(),i=requireLib$g(),s=requireLib$f(),o=requireLib$2();function c(v){var A=Object.create(null);return v&&Object.keys(v).forEach(function(w){if(w!=="default"){var P=Object.getOwnPropertyDescriptor(v,w);Object.defineProperty(A,w,P.get?P:{enumerable:!0,get:function(){return v[w]}})}}),A.default=v,Object.freeze(A)}var m=c(e),_=function(){return m.createElement(t.Icon,{size:16},m.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},h=function(){return h=Object.assign||function(v){for(var A,w=1,P=arguments.length;w<P;w++)for(var Z in A=arguments[w])Object.prototype.hasOwnProperty.call(A,Z)&&(v[Z]=A[Z]);return v},h.apply(this,arguments)},d=function(){return m.createElement(t.Icon,{size:16},m.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},f=function(){return m.createElement(t.Icon,{size:16},m.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},b={left:8,top:0},y={left:-8,top:0},p=function(v){var A=v.attachmentTabContent,w=v.bookmarkTabContent,P=v.store,Z=v.thumbnailTabContent,Q=v.tabs,z=m.useRef(),K=m.useContext(t.LocalizationContext).l10n,j=m.useState(P.get("isCurrentTabOpened")||!1),T=j[0],I=j[1],Y=m.useState(Math.max(P.get("currentTab")||0,0)),R=Y[0],U=Y[1],G=m.useContext(t.ThemeContext).direction===t.TextDirection.RightToLeft,ue=[{content:Z,icon:m.createElement(f,null),title:K&&K.defaultLayout?K.defaultLayout.thumbnail:"Thumbnail"},{content:w,icon:m.createElement(_,null),title:K&&K.defaultLayout?K.defaultLayout.bookmark:"Bookmark"},{content:A,icon:m.createElement(d,null),title:K&&K.defaultLayout?K.defaultLayout.attachment:"Attachment"}],he=Q?Q(ue):ue,se=function(W){W>=0&&W<=he.length-1&&(P.update("isCurrentTabOpened",!0),U(W))},ee=function(W){I(W)};return m.useEffect(function(){return P.subscribe("currentTab",se),P.subscribe("isCurrentTabOpened",ee),function(){P.unsubscribe("currentTab",se),P.unsubscribe("isCurrentTabOpened",ee)}},[]),he.length===0?m.createElement(m.Fragment,null):m.createElement(m.Fragment,null,m.createElement("div",{"data-testid":"default-layout__sidebar",className:t.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":T,"rpv-default-layout__sidebar--ltr":!G,"rpv-default-layout__sidebar--rtl":G}),ref:z},m.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},m.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},he.map(function(W,$){return m.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":R===$,key:$,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat($),role:"tab"},m.createElement(t.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat($),position:G?t.Position.LeftCenter:t.Position.RightCenter,target:m.createElement(t.MinimalButton,{ariaLabel:W.title,isSelected:R===$,onClick:function(){return function(S){if(R===S){P.update("isCurrentTabOpened",!P.get("isCurrentTabOpened"));var J=z.current;J&&J.style.width&&J.style.removeProperty("width")}else P.update("currentTab",S)}($)}},W.icon),content:function(){return W.title},offset:G?y:b}))})),m.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(R),id:"rpv-default-layout__sidebar-content",className:t.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":T,"rpv-default-layout__sidebar-content--ltr":!G,"rpv-default-layout__sidebar-content--rtl":G}),role:"tabpanel",tabIndex:-1},he[R].content))),T&&m.createElement(t.Splitter,{constrain:function(W){return W.firstHalfPercentage>=20&&W.firstHalfPercentage<=80}}))};return defaultLayout_min.BookmarkIcon=_,defaultLayout_min.FileIcon=d,defaultLayout_min.ThumbnailIcon=f,defaultLayout_min.defaultLayoutPlugin=function(v){var A=m.useMemo(function(){return t.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),w=n.attachmentPlugin(),P=i.bookmarkPlugin(),Z=s.thumbnailPlugin(v?v.thumbnailPlugin:{}),Q=o.toolbarPlugin(v?v.toolbarPlugin:{}),z=w.Attachments,K=P.Bookmarks,j=Z.Thumbnails,T=Q.Toolbar,I=v?v.sidebarTabs:function(R){return R},Y=[w,P,Z,Q];return{attachmentPluginInstance:w,bookmarkPluginInstance:P,thumbnailPluginInstance:Z,toolbarPluginInstance:Q,activateTab:function(R){A.update("currentTab",R)},toggleTab:function(R){var U=A.get("currentTab");A.update("isCurrentTabOpened",!A.get("isCurrentTabOpened")),U!==R&&A.update("currentTab",R)},install:function(R){Y.forEach(function(U){U.install&&U.install(R)})},renderPageLayer:function(R){return m.createElement(m.Fragment,null,Y.map(function(U,G){return U.renderPageLayer?m.createElement(m.Fragment,{key:G},U.renderPageLayer(R)):m.createElement(m.Fragment,{key:G},m.createElement(m.Fragment,null))}))},renderViewer:function(R){var U=R.slot;Y.forEach(function(ue){ue.renderViewer&&(U=ue.renderViewer(h(h({},R),{slot:U})))});var G=U.subSlot&&U.subSlot.attrs?{className:U.subSlot.attrs.className,"data-testid":U.subSlot.attrs["data-testid"],ref:U.subSlot.attrs.ref,style:U.subSlot.attrs.style}:{};return U.children=m.createElement("div",{className:"rpv-default-layout__container"},m.createElement("div",{"data-testid":"default-layout__main",className:t.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":R.themeContext.direction===t.TextDirection.RightToLeft})},m.createElement(p,{attachmentTabContent:m.createElement(z,null),bookmarkTabContent:m.createElement(K,null),store:A,thumbnailTabContent:m.createElement(j,null),tabs:I}),m.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},m.createElement("div",{className:"rpv-default-layout__toolbar"},v&&v.renderToolbar?v.renderToolbar(T):m.createElement(T,null)),m.createElement("div",h({},G),U.subSlot.children))),U.children),U.subSlot.attrs={},U.subSlot.children=m.createElement(m.Fragment,null),U},uninstall:function(R){Y.forEach(function(U){U.uninstall&&U.uninstall(R)})},onDocumentLoad:function(R){Y.forEach(function(U){U.onDocumentLoad&&U.onDocumentLoad(R)}),v&&v.setInitialTab&&v.setInitialTab(R.doc).then(function(U){A.update("currentTab",U),A.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(R){Y.forEach(function(U){U.onAnnotationLayerRender&&U.onAnnotationLayerRender(R)})},onTextLayerRender:function(R){Y.forEach(function(U){U.onTextLayerRender&&U.onTextLayerRender(R)})},onViewerStateChange:function(R){var U=R;return Y.forEach(function(G){G.onViewerStateChange&&(U=G.onViewerStateChange(U))}),U}}},defaultLayout_min.setInitialTabFromPageMode=function(v){return new Promise(function(A,w){v.getPageMode().then(function(P){if(P)switch(P){case t.PageMode.Attachments:A(2);break;case t.PageMode.Bookmarks:A(1);break;case t.PageMode.Thumbnails:A(0);break;default:A(-1)}else A(-1)})})},defaultLayout_min}var hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$h.exports;hasRequiredLib$1=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$h.exports=requireDefaultLayout_min(),lib$h.exports}var libExports$1=requireLib$1(),lib={exports:{}},highlight_min={},hasRequiredHighlight_min;function requireHighlight_min(){return hasRequiredHighlight_min||(hasRequiredHighlight_min=1,function(t){var e=requireLib$i();function n(j){var T=Object.create(null);return j&&Object.keys(j).forEach(function(I){if(I!=="default"){var Y=Object.getOwnPropertyDescriptor(j,I);Object.defineProperty(T,I,Y.get?Y:{enumerable:!0,get:function(){return j[I]}})}}),T.default=j,Object.freeze(T)}var i,s=n(requireReact());(function(j){j.NoSelection="NoSelection",j.Selecting="Selecting",j.Selected="Selected",j.Selection="Selection",j.ClickDragging="ClickDragging",j.ClickDragged="ClickDragged"})(i||(i={}));var o,c={height:0,left:0,pageIndex:-1,top:0,width:0},m={highlightAreas:[],selectionRegion:c,type:i.NoSelection},_={highlightAreas:[],selectionRegion:c,type:i.Selecting},h=function(j){var T=j.canvasLayerRef,I=j.canvasLayerRendered,Y=j.pageIndex,R=j.store,U=j.textLayerRef,G=j.textLayerRendered,ue=s.useRef(),he=s.useRef(document.body.style.cursor),se=s.useRef({x:0,y:0}),ee=s.useRef({top:0,left:0}),W=function(){var H=ue.current;H&&H.classList.add("rpv-highlight__click-drag--hidden")},$=function(H){var ne=U.current,oe=ue.current;if(H.altKey&&ne&&oe&&H.button===0){H.preventDefault(),document.body.style.cursor="crosshair";var me=ne.getBoundingClientRect(),ve={x:H.clientX,y:H.clientY};se.current=ve;var ye={top:100*(ve.y-me.top)/me.height,left:100*(ve.x-me.left)/me.width};ee.current=ye,oe.style.top="".concat(ye.top,"%"),oe.style.left="".concat(ye.left,"%"),oe.style.height="0px",oe.style.width="0px",document.addEventListener("mousemove",S),document.addEventListener("mouseup",D),R.updateCurrentValue("highlightState",function(xe){return Object.assign({},xe,{type:i.ClickDragging})})}},S=function(H){var ne=U.current,oe=ue.current;if(ne&&oe){H.preventDefault();var me=H.clientX-se.current.x,ve=H.clientY-se.current.y,ye=ne.getBoundingClientRect();oe.classList.contains("rpv-highlight__click-drag--hidden")&&oe.classList.remove("rpv-highlight__click-drag--hidden");var xe=Math.min(100-ee.current.left,100*me/ye.width),je=Math.min(100-ee.current.top,100*ve/ye.height);oe.style.width="".concat(xe,"%"),oe.style.height="".concat(je,"%")}},J=function(H){H.key==="Escape"&&R.get("highlightState").type===i.ClickDragged&&(H.preventDefault(),W(),R.update("highlightState",m))},ae=function(H){var ne=ue.current;ne&&R.get("highlightState").type===i.NoSelection&&H.target!==ne&&W()},D=function(H){H.preventDefault(),document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",D),de();var ne=ue.current,oe=T.current;if(ne&&oe){var me,ve,ye={pageIndex:Y,top:parseFloat(ne.style.top.slice(0,-1)),left:parseFloat(ne.style.left.slice(0,-1)),height:parseFloat(ne.style.height.slice(0,-1)),width:parseFloat(ne.style.width.slice(0,-1))},xe=(me=document.createElement("canvas"),ve=window.devicePixelRatio||1,function(Je,Le){var qe=Je.getBoundingClientRect(),ze=Le.left*qe.width/100,ke=Le.top*qe.height/100,De=Le.width*qe.width/100,tt=Le.height*qe.height/100,Xe=me.getContext("2d");return me.width=De,me.height=tt,Xe?.drawImage(Je,ze*ve,ke*ve,De*ve,tt*ve,0,0,De,tt),me.toDataURL("image/png")})(oe,ye),je={highlightAreas:[ye],previewImage:xe,selectionRegion:ye,type:i.ClickDragged};R.update("highlightState",je)}},de=function(){he.current?document.body.style.cursor=he.current:document.body.style.removeProperty("cursor")},ce=function(H){(H.type===i.Selection||H.type===i.ClickDragging&&H.selectionRegion.pageIndex!==Y)&&W()};return s.useEffect(function(){return R.subscribe("highlightState",ce),function(){R.unsubscribe("highlightState",ce)}},[]),s.useEffect(function(){var H=T.current,ne=U.current;if(I&&G&&H&&ne){ne.addEventListener("mousedown",$);var oe={capture:!0};return document.addEventListener("keydown",J),document.addEventListener("click",ae,oe),function(){ne.removeEventListener("mousedown",$),document.removeEventListener("click",ae,oe),document.removeEventListener("keydown",J)}}},[G]),s.createElement("div",{ref:ue,className:"rpv-highlight__click-drag rpv-highlight__click-drag--hidden"})},d="data-highlight-text-layer",f="data-highlight-text-page",b=function(j){return j>=0?j:360+j},y=function(j,T){switch(b(T)){case 90:return{height:"".concat(j.width,"%"),position:"absolute",right:"".concat(j.top,"%"),top:"".concat(j.left,"%"),width:"".concat(j.height,"%")};case 180:return{bottom:"".concat(j.top,"%"),height:"".concat(j.height,"%"),position:"absolute",right:"".concat(j.left,"%"),width:"".concat(j.width,"%")};case 270:return{height:"".concat(j.width,"%"),position:"absolute",left:"".concat(j.top,"%"),bottom:"".concat(j.left,"%"),width:"".concat(j.height,"%")};default:return{height:"".concat(j.height,"%"),position:"absolute",top:"".concat(j.top,"%"),left:"".concat(j.left,"%"),width:"".concat(j.width,"%")}}},p=function(j){var T=j.area,I=j.rotation;return s.createElement("div",{className:"rpv-highlight__selected-text",style:y(T,I)})},v=function(j){var T=s.useState(j.get("rotation")||0),I=T[0],Y=T[1],R=function(U){return Y(U)};return s.useEffect(function(){return j.subscribe("rotation",R),function(){j.unsubscribe("rotation",R)}},[]),{rotation:I}},A=function(j){var T=j.pageIndex,I=j.renderHighlightContent,Y=j.renderHighlightTarget,R=j.renderHighlights,U=j.store,G=s.useState(U.get("highlightState")),ue=G[0],he=G[1],se=v(U).rotation,ee=function(S){return he(S)},W=function(){window.getSelection().removeAllRanges(),U.update("highlightState",m)};s.useEffect(function(){return U.subscribe("highlightState",ee),function(){U.unsubscribe("highlightState",ee)}},[]);var $=ue.type===i.Selection?ue.highlightAreas.filter(function(S){return S.pageIndex===T}):[];return s.createElement(s.Fragment,null,Y&&(ue.type===i.Selected||ue.type===i.ClickDragged)&&ue.selectionRegion.pageIndex===T&&Y({highlightAreas:ue.highlightAreas,previewImage:ue.previewImage||"",selectedText:ue.selectedText||"",selectionRegion:ue.selectionRegion,selectionData:ue.selectionData,cancel:W,toggle:function(){var S=Object.assign({},ue,{type:i.Selection});U.update("highlightState",S),window.getSelection().removeAllRanges()}}),I&&ue.type==i.Selection&&ue.selectionRegion.pageIndex===T&&I({highlightAreas:ue.highlightAreas,previewImage:ue.previewImage||"",selectedText:ue.selectedText||"",selectionRegion:ue.selectionRegion,selectionData:ue.selectionData,cancel:W}),$.length>0&&s.createElement("div",null,$.map(function(S,J){return s.createElement(p,{key:J,area:S,rotation:se})})),R&&R({pageIndex:T,rotation:se,getCssProperties:y}))};t.Trigger=void 0,(o=t.Trigger||(t.Trigger={})).None="None",o.TextSelection="TextSelection";var w,P=function(j,T,I){var Y=j.cloneNode(!0);j.parentNode.appendChild(Y);var R=Y.firstChild,U=new Range;U.setStart(R,T),U.setEnd(R,I);var G=document.createElement("span");U.surroundContents(G);var ue=G.getBoundingClientRect();return Y.parentNode.removeChild(Y),ue},Z=function(j,T,I,Y,R,U){if(I<R){var G=j.slice(I,I+1).map(function(W){return W.textContent.substring(Y).trim()}).join(" "),ue=j.slice(I+1,R).map(function(W){return W.textContent.trim()}).join(" "),he=j.slice(R,R+1).map(function(W){return W.textContent.substring(0,U||W.textContent.length)}).join(" "),se="".concat(G," ").concat(ue," ").concat(he);return{divTexts:j.slice(I,R+1).map(function(W,$){return{divIndex:I+$,pageIndex:T,textContent:W.textContent}}),wholeText:se}}var ee=j[I];return se=ee.textContent.substring(Y,U||ee.textContent.length).trim(),{divTexts:[{divIndex:I,pageIndex:T,textContent:ee.textContent}],wholeText:se}};(function(j){j.SameDiv="SameDiv",j.DifferentDivs="DifferentDivs",j.DifferentPages="DifferentPages"})(w||(w={}));var Q=["",`
`],z=function(j){var T=j.store,I=v(T).rotation,Y=s.useRef(null),R=s.useState(!1),U=R[0],G=R[1],ue=s.useState(T.get("trigger")),he=ue[0],se=ue[1],ee=function(S){var J=S();Y.current=J,G(!!J)},W=function(S){return se(S)},$=function(){var S=document.getSelection(),J=T.get("highlightState");if((J.type===i.NoSelection||J.type===i.Selected)&&S.rangeCount>0&&Q.indexOf(S.toString())===-1){var ae,D,de=S.getRangeAt(0),ce=de.startContainer.parentNode,H=de.endContainer.parentNode,ne=H instanceof HTMLElement&&H.hasAttribute(d);if(ce&&ce.parentNode==de.endContainer?D=(ae=ce).textContent.length:ne&&de.endOffset==0?D=(ae=de.endContainer.previousSibling).textContent.length:ne?(ae=de.endContainer,D=de.endOffset):(ae=H,D=de.endOffset),ce instanceof HTMLElement&&ae instanceof HTMLElement){var oe=parseInt(ce.getAttribute(f),10),me=parseInt(ae.getAttribute(f),10),ve=ce.parentElement,ye=ae.parentElement,xe=ve.getBoundingClientRect(),je=[].slice.call(ve.querySelectorAll("[".concat(f,"]"))),Je=je.indexOf(ce),Le=ye.getBoundingClientRect(),qe=[].slice.call(ye.querySelectorAll("[".concat(f,"]"))),ze=qe.indexOf(ae),ke=de.startOffset,De=w.DifferentPages;switch(!0){case(oe===me&&Je===ze):De=w.SameDiv;break;case(oe===me&&Je<ze):De=w.DifferentDivs;break;default:De=w.DifferentPages}var tt=function(Pe,Te,ct){return Array(Te-Pe+1).fill(0).map(function(zt,It){return ct[Pe+It].getBoundingClientRect()})},Xe=[];switch(De){case w.SameDiv:var rt=P(ce,ke,D);Xe=[{height:100*rt.height/xe.height,left:100*(rt.left-xe.left)/xe.width,pageIndex:oe,top:100*(rt.top-xe.top)/xe.height,width:100*rt.width/xe.width}];break;case w.DifferentDivs:Xe=[P(ce,ke,ce.textContent.length)].concat(tt(Je+1,ze-1,je)).concat([P(ae,0,D)]).map(function(Pe){return{height:100*Pe.height/xe.height,left:100*(Pe.left-xe.left)/xe.width,pageIndex:oe,top:100*(Pe.top-xe.top)/xe.height,width:100*Pe.width/xe.width}});break;case w.DifferentPages:var pt=[P(ce,ke,ce.textContent.length)].concat(tt(Je+1,je.length-1,je)).map(function(Pe){return{height:100*Pe.height/xe.height,left:100*(Pe.left-xe.left)/xe.width,pageIndex:oe,top:100*(Pe.top-xe.top)/xe.height,width:100*Pe.width/xe.width}}),vt=tt(0,ze-1,qe).concat([P(ae,0,D)]).map(function(Pe){return{height:100*Pe.height/Le.height,left:100*(Pe.left-Le.left)/Le.width,pageIndex:me,top:100*(Pe.top-Le.top)/Le.height,width:100*Pe.width/Le.width}});Xe=pt.concat(vt)}var Pt,Be="",Ve=[];switch(De){case w.SameDiv:var mt=Z(je,oe,Je,ke,Je,D);Be=mt.wholeText,Ve=mt.divTexts;break;case w.DifferentDivs:var ht=Z(je,oe,Je,ke,ze,D);Be=ht.wholeText,Ve=ht.divTexts;break;case w.DifferentPages:var wt=Z(je,oe,Je,ke,je.length),Ut=Z(qe,me,0,0,ze,D);Be="".concat(wt.wholeText,`
`).concat(Ut.wholeText),Ve=wt.divTexts.concat(Ut.divTexts)}if(Xe.length>0)Pt=Xe[Xe.length-1];else{var gn=ae.getBoundingClientRect();Pt={height:100*gn.height/Le.height,left:100*(gn.left-Le.left)/Le.width,pageIndex:me,top:100*(gn.top-Le.top)/Le.height,width:100*gn.width/Le.width}}var Gt={divTexts:Ve,selectedText:Be,startPageIndex:oe,endPageIndex:me,startOffset:ke,startDivIndex:Je,endOffset:D,endDivIndex:ze},et={type:i.Selected,selectedText:Be,highlightAreas:Xe.map(function(Pe){return function(Te,ct){switch(b(ct)){case 90:return{height:Te.width,left:Te.top,pageIndex:Te.pageIndex,top:100-Te.width-Te.left,width:Te.height};case 180:return{height:Te.height,left:100-Te.width-Te.left,pageIndex:Te.pageIndex,top:100-Te.height-Te.top,width:Te.width};case 270:return{height:Te.width,left:100-Te.height-Te.top,pageIndex:Te.pageIndex,top:Te.left,width:Te.height};default:return Te}}(Pe,I)}),selectionData:Gt,selectionRegion:Pt};T.update("highlightState",et)}}};return s.useEffect(function(){var S=Y.current;if(S&&he!==t.Trigger.None)return S.addEventListener("mouseup",$),function(){S.removeEventListener("mouseup",$)}},[U,he,I]),s.useEffect(function(){return T.subscribe("getPagesContainer",ee),T.subscribe("trigger",W),function(){T.unsubscribe("getPagesContainer",ee),T.unsubscribe("trigger",W)}},[]),s.createElement(s.Fragment,null)},K="rpv-highlight__selected-end";t.MessageIcon=function(){return s.createElement(e.Icon,{size:16},s.createElement("path",{d:"M23.5,17a1,1,0,0,1-1,1h-11l-4,4V18h-6a1,1,0,0,1-1-1V3a1,1,0,0,1,1-1h21a1,1,0,0,1,1,1Z"}),s.createElement("path",{d:"M5.5 12L18.5 12"}),s.createElement("path",{d:"M5.5 7L18.5 7"}))},t.highlightPlugin=function(j){var T=Object.assign({},{trigger:t.Trigger.TextSelection},j),I=s.useMemo(function(){return e.createStore({highlightState:m,trigger:T.trigger})},[]);return{install:function(Y){I.update("jumpToDestination",Y.jumpToDestination),I.update("getPagesContainer",Y.getPagesContainer)},onViewerStateChange:function(Y){return I.update("rotation",Y.rotation),Y},onTextLayerRender:function(Y){var R,U=(R=Y,function(ee){if(I.get("trigger")!==t.Trigger.None&&ee.button===0){var W=R.ele,$=W.getBoundingClientRect(),S=I.get("highlightState");if(S.type===i.Selected){var J=ee.clientY-$.top,ae=ee.clientX-$.left;S.highlightAreas.filter(function(ce){return ce.pageIndex===R.pageIndex}).find(function(ce){var H=ce.top*$.height/100,ne=ce.left*$.width/100,oe=ce.height*$.height/100,me=ce.width*$.width/100;return H<=J&&J<=H+oe&&ne<=ae&&ae<=ne+me})?(window.getSelection().removeAllRanges(),I.update("highlightState",m)):I.update("highlightState",_)}else I.update("highlightState",m);var D=100*(ee.clientY-$.top)/$.height,de=W.querySelector(".".concat(K));de&&ee.target!==W&&(de.style.top="".concat(Math.max(0,D),"%"))}}),G=function(ee){return function(W){if(I.get("trigger")!==t.Trigger.None){var $=ee.ele.querySelector(".".concat(K));$&&$.style.removeProperty("top")}}}(Y),ue=Y.ele;if(Y.status===e.LayerRenderStatus.PreRender){ue.removeEventListener("mousedown",U),ue.removeEventListener("mouseup",G);var he=ue.querySelector(".".concat(K));he&&ue.removeChild(he)}else if(Y.status===e.LayerRenderStatus.DidRender&&(ue.addEventListener("mousedown",U),ue.addEventListener("mouseup",G),ue.setAttribute(d,"true"),ue.querySelectorAll(".rpv-core__text-layer-text").forEach(function(ee){return ee.setAttribute(f,"".concat(Y.pageIndex))}),!ue.querySelector(".".concat(K)))){var se=document.createElement("div");se.classList.add(K),se.classList.add("rpv-core__text-layer-text--not"),ue.appendChild(se)}},renderPageLayer:function(Y){return s.createElement(s.Fragment,null,s.createElement(h,{canvasLayerRef:Y.canvasLayerRef,canvasLayerRendered:Y.canvasLayerRendered,pageIndex:Y.pageIndex,store:I,textLayerRef:Y.textLayerRef,textLayerRendered:Y.textLayerRendered}),s.createElement(A,{pageIndex:Y.pageIndex,renderHighlightContent:T.renderHighlightContent,renderHighlightTarget:T.renderHighlightTarget,renderHighlights:T.renderHighlights,store:I}))},renderViewer:function(Y){var R=Y.slot;return R.subSlot&&R.subSlot.children&&(R.subSlot.children=s.createElement(s.Fragment,null,s.createElement(z,{store:I}),R.subSlot.children)),R},jumpToHighlightArea:function(Y){var R=I.get("jumpToDestination");R&&R({pageIndex:Y.pageIndex,bottomOffset:function(U,G){return(100-Y.top)*G/100},leftOffset:function(U,G){return(100-Y.left)*U/100}})},switchTrigger:function(Y){I.update("trigger",Y)}}}}(highlight_min)),highlight_min}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib.exports;hasRequiredLib=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib.exports=requireHighlight_min(),lib.exports}var libExports=requireLib();const scrollbarStyles=`
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: #e2e8f0;
    border-radius: 4px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, #10b981, #14b8a6);
    border-radius: 4px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to bottom, #059669, #0d9488);
  }
  
  .dark .custom-scrollbar::-webkit-scrollbar-track {
    background: #334155;
  }
  
  .dark .custom-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, #34d399, #5eead4);
  }
  
  .dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to bottom, #6ee7b7, #7dd3fc);
  }
`;if(typeof document<"u"){const t=document.createElement("style");t.textContent=scrollbarStyles,document.head.appendChild(t)}const Model2history=()=>{const[t,e]=reactExports.useState("pdf"),[n,i]=reactExports.useState([]),[s,o]=reactExports.useState(!0),[c,m]=reactExports.useState([]),[_,h]=reactExports.useState(null);reactExports.useEffect(()=>{t==="pdf"&&(o(!0),fetchUserPDFList().then(p=>i(p)).catch(p=>console.error("Failed to fetch PDF history",p)).finally(()=>o(!1)))},[t]);const d=async p=>{if(!window.confirm("Are you sure you want to delete this PDF?"))return;const A=await deletePdf(p);A.success?(i(w=>w.filter(P=>P.id!==p)),alert("PDF deleted successfully.")):alert("Failed to delete PDF: "+A.message)};reactExports.useEffect(()=>{o(!0),t==="pdf"?fetchUserPDFList().then(p=>i(p)).catch(p=>console.error("Failed to fetch PDF history",p)).finally(()=>o(!1)):t==="youtube"&&fetchYouTubeHistory().then(p=>m(p)).catch(p=>console.error("Failed to fetch YouTube history",p)).finally(()=>o(!1))},[t]);const f=async p=>{if(window.confirm("Are you sure you want to delete this YouTube video?"))try{await deleteYoutubeVideo(p),m(A=>A.filter(w=>w.id!==p)),alert("YouTube video deleted successfully.")}catch(A){alert("Error: "+A.message)}},b=p=>{alert("Viewing conversation history for PDFs is not available yet.")},y=p=>{alert("Viewing conversation history for YouTube is not available yet.")};return jsxRuntimeExports.jsxs("section",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-r from-green-500 to-teal-600 rounded-lg",children:jsxRuntimeExports.jsx(History,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:"Analysis History"}),jsxRuntimeExports.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"View your previously analyzed content"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e("pdf"),className:`p-4 rounded-lg border-2 transition-all duration-200 text-left ${t==="pdf"?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(FileText,{className:`w-5 h-5 ${t==="pdf"?"text-green-600 dark:text-green-400":"text-slate-500 dark:text-slate-400"}`}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:`font-medium ${t==="pdf"?"text-green-900 dark:text-green-100":"text-slate-900 dark:text-slate-100"}`,children:"PDF History"}),jsxRuntimeExports.jsx("p",{className:`text-sm ${t==="pdf"?"text-green-700 dark:text-green-300":"text-slate-600 dark:text-slate-400"}`,children:"Previously analyzed documents"})]})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>e("youtube"),className:`p-4 rounded-lg border-2 transition-all duration-200 text-left ${t==="youtube"?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Youtube,{className:`w-5 h-5 ${t==="youtube"?"text-green-600 dark:text-green-400":"text-slate-500 dark:text-slate-400"}`}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:`font-medium ${t==="youtube"?"text-green-900 dark:text-green-100":"text-slate-900 dark:text-slate-100"}`,children:"YouTube History"}),jsxRuntimeExports.jsx("p",{className:`text-sm ${t==="youtube"?"text-green-700 dark:text-green-300":"text-slate-600 dark:text-slate-400"}`,children:"Previously analyzed videos"})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:s?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-8",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-slate-600 dark:text-slate-400",children:"Loading..."})]}):t==="pdf"?n.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No PDFs uploaded yet."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:"Upload your first PDF to get started"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-3 max-h-72 overflow-y-auto custom-scrollbar",children:n.map(p=>jsxRuntimeExports.jsx("div",{onClick:()=>b(),className:"cursor-pointer p-4 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0"}),jsxRuntimeExports.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-100 truncate",children:p.file_name})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:new Date(p.upload_time).toLocaleString()})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[p.conversation_count," chat",p.conversation_count!==1?"s":""]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"ml-4 flex flex-col items-end gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:[p.conversation_count," chat",p.conversation_count!==1?"s":""]}),jsxRuntimeExports.jsx("button",{onClick:v=>{v.stopPropagation(),d(p.id)},className:"text-xs text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"Delete"})]})]})},p.id))}):c.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(Youtube,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No YouTube videos analyzed yet."})]}):jsxRuntimeExports.jsx("div",{className:"space-y-3 max-h-72 overflow-y-auto custom-scrollbar",children:c.map(p=>jsxRuntimeExports.jsx("div",{onClick:()=>y(),className:"cursor-pointer p-4 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors duration-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 min-w-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("img",{src:p.thumbnail_url,alt:"thumbnail",className:"w-16 h-10 object-cover rounded-sm"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-100 truncate",children:p.video_title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:new Date(p.upload_time).toLocaleString()})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-3 h-3"}),jsxRuntimeExports.jsxs("span",{children:[p.conversation_count," chat",p.conversation_count!==1?"s":""]})]})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"ml-4 flex flex-col items-end gap-2",children:jsxRuntimeExports.jsx("button",{onClick:v=>{v.stopPropagation(),f(p.id)},className:"text-xs text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"Delete"})})]})},p.id))})})]})};var propTypes$1={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=t,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var t=requireReactPropTypesSecret();function e(){}function n(){}return n.resetWarningCache=e,factoryWithThrowingShims=function(){function i(c,m,_,h,d,f){if(f!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes$1.exports=requireFactoryWithThrowingShims()()),propTypes$1.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports);var fastDeepEqual,hasRequiredFastDeepEqual;function requireFastDeepEqual(){return hasRequiredFastDeepEqual||(hasRequiredFastDeepEqual=1,fastDeepEqual=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var i,s,o;if(Array.isArray(e)){if(i=e.length,i!=n.length)return!1;for(s=i;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),i=o.length,i!==Object.keys(n).length)return!1;for(s=i;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=i;s--!==0;){var c=o[s];if(!t(e[c],n[c]))return!1}return!0}return e!==e&&n!==n}),fastDeepEqual}var fastDeepEqualExports=requireFastDeepEqual();const isEqual=getDefaultExportFromCjs(fastDeepEqualExports);var dist={exports:{}},sister,hasRequiredSister;function requireSister(){if(hasRequiredSister)return sister;hasRequiredSister=1;var t;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return t=function(){var e={},n={};return e.on=function(i,s){var o={name:i,handler:s};return n[i]=n[i]||[],n[i].unshift(o),o},e.off=function(i){var s=n[i.name].indexOf(i);s!==-1&&n[i.name].splice(s,1)},e.trigger=function(i,s){var o=n[i],c;if(o)for(c=o.length;c--;)o[c].handler(s)},e},sister=t,sister}var loadYouTubeIframeApi={exports:{}},loadScript,hasRequiredLoadScript;function requireLoadScript(){if(hasRequiredLoadScript)return loadScript;hasRequiredLoadScript=1,loadScript=function(s,o,c){var m=document.head||document.getElementsByTagName("head")[0],_=document.createElement("script");typeof o=="function"&&(c=o,o={}),o=o||{},c=c||function(){},_.type=o.type||"text/javascript",_.charset=o.charset||"utf8",_.async="async"in o?!!o.async:!0,_.src=s,o.attrs&&t(_,o.attrs),o.text&&(_.text=""+o.text);var h="onload"in _?e:n;h(_,c),_.onload||e(_,c),m.appendChild(_)};function t(i,s){for(var o in s)i.setAttribute(o,s[o])}function e(i,s){i.onload=function(){this.onerror=this.onload=null,s(null,i)},i.onerror=function(){this.onerror=this.onload=null,s(new Error("Failed to load "+this.src),i)}}function n(i,s){i.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,s(null,i))}}return loadScript}var hasRequiredLoadYouTubeIframeApi;function requireLoadYouTubeIframeApi(){return hasRequiredLoadYouTubeIframeApi||(hasRequiredLoadYouTubeIframeApi=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=requireLoadScript(),i=s(n);function s(o){return o&&o.__esModule?o:{default:o}}e.default=function(o){var c=new Promise(function(m){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){m(window.YT);return}else{var _=window.location.protocol==="http:"?"http:":"https:";(0,i.default)(_+"//www.youtube.com/iframe_api",function(d){d&&o.trigger("error",d)})}var h=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){h&&h(),m(window.YT)}});return c},t.exports=e.default}(loadYouTubeIframeApi,loadYouTubeIframeApi.exports)),loadYouTubeIframeApi.exports}var YouTubePlayer={exports:{}},browser$1={exports:{}},debug={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var t=1e3,e=t*60,n=e*60,i=n*24,s=i*365.25;ms=function(h,d){d=d||{};var f=typeof h;if(f==="string"&&h.length>0)return o(h);if(f==="number"&&isNaN(h)===!1)return d.long?m(h):c(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function o(h){if(h=String(h),!(h.length>100)){var d=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(h);if(d){var f=parseFloat(d[1]),b=(d[2]||"ms").toLowerCase();switch(b){case"years":case"year":case"yrs":case"yr":case"y":return f*s;case"days":case"day":case"d":return f*i;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function c(h){return h>=i?Math.round(h/i)+"d":h>=n?Math.round(h/n)+"h":h>=e?Math.round(h/e)+"m":h>=t?Math.round(h/t)+"s":h+"ms"}function m(h){return _(h,i,"day")||_(h,n,"hour")||_(h,e,"minute")||_(h,t,"second")||h+" ms"}function _(h,d,f){if(!(h<d))return h<d*1.5?Math.floor(h/d)+" "+f:Math.ceil(h/d)+" "+f+"s"}return ms}var hasRequiredDebug;function requireDebug(){return hasRequiredDebug||(hasRequiredDebug=1,function(t,e){e=t.exports=s.debug=s.default=s,e.coerce=_,e.disable=c,e.enable=o,e.enabled=m,e.humanize=requireMs(),e.names=[],e.skips=[],e.formatters={};var n;function i(h){var d=0,f;for(f in h)d=(d<<5)-d+h.charCodeAt(f),d|=0;return e.colors[Math.abs(d)%e.colors.length]}function s(h){function d(){if(d.enabled){var f=d,b=+new Date,y=b-(n||b);f.diff=y,f.prev=n,f.curr=b,n=b;for(var p=new Array(arguments.length),v=0;v<p.length;v++)p[v]=arguments[v];p[0]=e.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");var A=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,function(P,Z){if(P==="%%")return P;A++;var Q=e.formatters[Z];if(typeof Q=="function"){var z=p[A];P=Q.call(f,z),p.splice(A,1),A--}return P}),e.formatArgs.call(f,p);var w=d.log||e.log||console.log.bind(console);w.apply(f,p)}}return d.namespace=h,d.enabled=e.enabled(h),d.useColors=e.useColors(),d.color=i(h),typeof e.init=="function"&&e.init(d),d}function o(h){e.save(h),e.names=[],e.skips=[];for(var d=(typeof h=="string"?h:"").split(/[\s,]+/),f=d.length,b=0;b<f;b++)d[b]&&(h=d[b].replace(/\*/g,".*?"),h[0]==="-"?e.skips.push(new RegExp("^"+h.substr(1)+"$")):e.names.push(new RegExp("^"+h+"$")))}function c(){e.enable("")}function m(h){var d,f;for(d=0,f=e.skips.length;d<f;d++)if(e.skips[d].test(h))return!1;for(d=0,f=e.names.length;d<f;d++)if(e.names[d].test(h))return!0;return!1}function _(h){return h instanceof Error?h.stack||h.message:h}}(debug,debug.exports)),debug.exports}var hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,function(t,e){var n={};e=t.exports=requireDebug(),e.log=o,e.formatArgs=s,e.save=c,e.load=m,e.useColors=i,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:_(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function i(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(h){try{return JSON.stringify(h)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}};function s(h){var d=this.useColors;if(h[0]=(d?"%c":"")+this.namespace+(d?" %c":" ")+h[0]+(d?"%c ":" ")+"+"+e.humanize(this.diff),!!d){var f="color: "+this.color;h.splice(1,0,f,"color: inherit");var b=0,y=0;h[0].replace(/%[a-zA-Z%]/g,function(p){p!=="%%"&&(b++,p==="%c"&&(y=b))}),h.splice(y,0,f)}}function o(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(h){try{h==null?e.storage.removeItem("debug"):e.storage.debug=h}catch{}}function m(){var h;try{h=e.storage.debug}catch{}return!h&&typeof process<"u"&&"env"in process&&(h=n.DEBUG),h}e.enable(m());function _(){try{return window.localStorage}catch{}}}(browser$1,browser$1.exports)),browser$1.exports}var functionNames={exports:{}},hasRequiredFunctionNames;function requireFunctionNames(){return hasRequiredFunctionNames||(hasRequiredFunctionNames=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default}(functionNames,functionNames.exports)),functionNames.exports}var eventNames={exports:{}},hasRequiredEventNames;function requireEventNames(){return hasRequiredEventNames||(hasRequiredEventNames=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default}(eventNames,eventNames.exports)),eventNames.exports}var FunctionStateMap={exports:{}},PlayerStates={exports:{}},hasRequiredPlayerStates;function requirePlayerStates(){return hasRequiredPlayerStates||(hasRequiredPlayerStates=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default}(PlayerStates,PlayerStates.exports)),PlayerStates.exports}var hasRequiredFunctionStateMap;function requireFunctionStateMap(){return hasRequiredFunctionStateMap||(hasRequiredFunctionStateMap=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=requirePlayerStates(),i=s(n);function s(o){return o&&o.__esModule?o:{default:o}}e.default={pauseVideo:{acceptableStates:[i.default.ENDED,i.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[i.default.ENDED,i.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[i.default.ENDED,i.default.PLAYING,i.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default}(FunctionStateMap,FunctionStateMap.exports)),FunctionStateMap.exports}var hasRequiredYouTubePlayer;function requireYouTubePlayer(){return hasRequiredYouTubePlayer||(hasRequiredYouTubePlayer=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=requireBrowser(),i=d(n),s=requireFunctionNames(),o=d(s),c=requireEventNames(),m=d(c),_=requireFunctionStateMap(),h=d(_);function d(y){return y&&y.__esModule?y:{default:y}}var f=(0,i.default)("youtube-player"),b={};b.proxyEvents=function(y){var p={},v=function(j){var T="on"+j.slice(0,1).toUpperCase()+j.slice(1);p[T]=function(I){f('event "%s"',T,I),y.trigger(j,I)}},A=!0,w=!1,P=void 0;try{for(var Z=m.default[Symbol.iterator](),Q;!(A=(Q=Z.next()).done);A=!0){var z=Q.value;v(z)}}catch(K){w=!0,P=K}finally{try{!A&&Z.return&&Z.return()}finally{if(w)throw P}}return p},b.promisifyPlayer=function(y){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v={},A=function(T){p&&h.default[T]?v[T]=function(){for(var I=arguments.length,Y=Array(I),R=0;R<I;R++)Y[R]=arguments[R];return y.then(function(U){var G=h.default[T],ue=U.getPlayerState(),he=U[T].apply(U,Y);return G.stateChangeRequired||Array.isArray(G.acceptableStates)&&G.acceptableStates.indexOf(ue)===-1?new Promise(function(se){var ee=function W(){var $=U.getPlayerState(),S=void 0;typeof G.timeout=="number"&&(S=setTimeout(function(){U.removeEventListener("onStateChange",W),se()},G.timeout)),Array.isArray(G.acceptableStates)&&G.acceptableStates.indexOf($)!==-1&&(U.removeEventListener("onStateChange",W),clearTimeout(S),se())};U.addEventListener("onStateChange",ee)}).then(function(){return he}):he})}:v[T]=function(){for(var I=arguments.length,Y=Array(I),R=0;R<I;R++)Y[R]=arguments[R];return y.then(function(U){return U[T].apply(U,Y)})}},w=!0,P=!1,Z=void 0;try{for(var Q=o.default[Symbol.iterator](),z;!(w=(z=Q.next()).done);w=!0){var K=z.value;A(K)}}catch(j){P=!0,Z=j}finally{try{!w&&Q.return&&Q.return()}finally{if(P)throw Z}}return v},e.default=b,t.exports=e.default}(YouTubePlayer,YouTubePlayer.exports)),YouTubePlayer.exports}var hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},i=requireSister(),s=h(i),o=requireLoadYouTubeIframeApi(),c=h(o),m=requireYouTubePlayer(),_=h(m);function h(f){return f&&f.__esModule?f:{default:f}}var d=void 0;e.default=function(f){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=(0,s.default)();if(d||(d=(0,c.default)(p)),b.events)throw new Error("Event handlers cannot be overwritten.");if(typeof f=="string"&&!document.getElementById(f))throw new Error('Element "'+f+'" does not exist.');b.events=_.default.proxyEvents(p);var v=new Promise(function(w){if((typeof f>"u"?"undefined":n(f))==="object"&&f.playVideo instanceof Function){var P=f;w(P)}else d.then(function(Z){var Q=new Z.Player(f,b);return p.on("ready",function(){w(Q)}),null})}),A=_.default.promisifyPlayer(v,y);return A.on=p.on,A.off=p.off,A},t.exports=e.default}(dist,dist.exports)),dist.exports}var distExports=requireDist();const youTubePlayer=getDefaultExportFromCjs(distExports);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(t,e,n)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,__spreadValues=(t,e)=>{for(var n in e||(e={}))__hasOwnProp.call(e,n)&&__defNormalProp(t,n,e[n]);if(__getOwnPropSymbols)for(var n of __getOwnPropSymbols(e))__propIsEnum.call(e,n)&&__defNormalProp(t,n,e[n]);return t},__spreadProps=(t,e)=>__defProps(t,__getOwnPropDescs(e)),__async=(t,e,n)=>new Promise((i,s)=>{var o=_=>{try{m(n.next(_))}catch(h){s(h)}},c=_=>{try{m(n.throw(_))}catch(h){s(h)}},m=_=>_.done?i(_.value):Promise.resolve(_.value).then(o,c);m((n=n.apply(t,e)).next())});function shouldUpdateVideo(t,e){var n,i;if(t.videoId!==e.videoId)return!0;const s=((n=t.opts)==null?void 0:n.playerVars)||{},o=((i=e.opts)==null?void 0:i.playerVars)||{};return s.start!==o.start||s.end!==o.end}function filterResetOptions(t={}){return __spreadProps(__spreadValues({},t),{height:0,width:0,playerVars:__spreadProps(__spreadValues({},t.playerVars),{autoplay:0,start:0,end:0})})}function shouldResetPlayer(t,e){return t.videoId!==e.videoId||!isEqual(filterResetOptions(t.opts),filterResetOptions(e.opts))}function shouldUpdatePlayer(t,e){var n,i,s,o;return t.id!==e.id||t.className!==e.className||((n=t.opts)==null?void 0:n.width)!==((i=e.opts)==null?void 0:i.width)||((s=t.opts)==null?void 0:s.height)!==((o=e.opts)==null?void 0:o.height)||t.iframeClassName!==e.iframeClassName||t.title!==e.title}var defaultProps={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},propTypes={videoId:PropTypes.string,id:PropTypes.string,className:PropTypes.string,iframeClassName:PropTypes.string,style:PropTypes.object,title:PropTypes.string,loading:PropTypes.oneOf(["lazy","eager"]),opts:PropTypes.objectOf(PropTypes.any),onReady:PropTypes.func,onError:PropTypes.func,onPlay:PropTypes.func,onPause:PropTypes.func,onEnd:PropTypes.func,onStateChange:PropTypes.func,onPlaybackRateChange:PropTypes.func,onPlaybackQualityChange:PropTypes.func},_YouTube=class extends React.Component{constructor(t){super(t),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var n,i;return(i=(n=this.props).onReady)==null?void 0:i.call(n,e)},this.onPlayerError=e=>{var n,i;return(i=(n=this.props).onError)==null?void 0:i.call(n,e)},this.onPlayerStateChange=e=>{var n,i,s,o,c,m,_,h;switch((i=(n=this.props).onStateChange)==null||i.call(n,e),e.data){case _YouTube.PlayerState.ENDED:(o=(s=this.props).onEnd)==null||o.call(s,e);break;case _YouTube.PlayerState.PLAYING:(m=(c=this.props).onPlay)==null||m.call(c,e);break;case _YouTube.PlayerState.PAUSED:(h=(_=this.props).onPause)==null||h.call(_,e);break}},this.onPlayerPlaybackRateChange=e=>{var n,i;return(i=(n=this.props).onPlaybackRateChange)==null?void 0:i.call(n,e)},this.onPlayerPlaybackQualityChange=e=>{var n,i;return(i=(n=this.props).onPlaybackQualityChange)==null?void 0:i.call(n,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=__spreadProps(__spreadValues({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=youTubePlayer(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,n,i,s;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let o=!1;const c={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(o=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(c.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(c.endSeconds=this.props.opts.playerVars.end)),o){(i=this.internalPlayer)==null||i.loadVideoById(c);return}(s=this.internalPlayer)==null||s.cueVideoById(c)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(t){return __async(this,null,function*(){shouldUpdatePlayer(t,this.props)&&this.updatePlayer(),shouldResetPlayer(t,this.props)&&(yield this.resetPlayer()),shouldUpdateVideo(t,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return React.createElement("div",{className:this.props.className,style:this.props.style},React.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},YouTube=_YouTube;YouTube.propTypes=propTypes;YouTube.defaultProps=defaultProps;YouTube.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var YouTube_default=YouTube;function ok$1(){}function unreachable(){}function stringify$1(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$2={};function name(t,e){return(emptyOptions$2.jsx?nameReJsx:nameRe).test(t)}const re=/[ \t\n\f\r]/g;function whitespace(t){return typeof t=="object"?t.type==="text"?empty$1(t.value):!1:empty$1(t)}function empty$1(t){return t.replace(re,"")===""}class Schema{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge(t,e){const n={},i={};for(const s of t)Object.assign(n,s.property),Object.assign(i,s.normal);return new Schema(n,i,e)}function normalize$1(t){return t.toLowerCase()}class Info{constructor(e,n){this.attribute=n,this.property=e}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(e,n,i,s){let o=-1;if(super(e,n),mark(this,"space",s),typeof i=="number")for(;++o<checks.length;){const c=checks[o];mark(this,checks[o],(i&types[c])===types[c])}}}DefinedInfo.prototype.defined=!0;function mark(t,e,n){n&&(t[e]=n)}function create(t){const e={},n={};for(const[i,s]of Object.entries(t.properties)){const o=new DefinedInfo(i,t.transform(t.attributes||{},i),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),e[i]=o,n[normalize$1(i)]=i,n[normalize$1(o.attribute)]=i}return new Schema(e,n,t.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function caseSensitiveTransform(t,e){return e in t?t[e]:e}function caseInsensitiveTransform(t,e){return caseSensitiveTransform(t,e.toLowerCase())}const html$2=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find(t,e){const n=normalize$1(e);let i=e,s=Info;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&valid.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(dash,camelcase);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!dash.test(o)){let c=o.replace(cap$1,kebab);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}s=DefinedInfo}return new s(i,e)}function kebab(t){return"-"+t.toLowerCase()}function camelcase(t){return t.charAt(1).toUpperCase()}const html$1=merge([aria,html$2,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function stringify(t){return t.join(" ").trim()}var cjs$1={},inlineStyleParser,hasRequiredInlineStyleParser;function requireInlineStyleParser(){if(hasRequiredInlineStyleParser)return inlineStyleParser;hasRequiredInlineStyleParser=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,m=/^\s+|\s+$/g,_=`
`,h="/",d="*",f="",b="comment",y="declaration";inlineStyleParser=function(v,A){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];A=A||{};var w=1,P=1;function Z(G){var ue=G.match(e);ue&&(w+=ue.length);var he=G.lastIndexOf(_);P=~he?G.length-he:P+G.length}function Q(){var G={line:w,column:P};return function(ue){return ue.position=new z(G),T(),ue}}function z(G){this.start=G,this.end={line:w,column:P},this.source=A.source}z.prototype.content=v;function K(G){var ue=new Error(A.source+":"+w+":"+P+": "+G);if(ue.reason=G,ue.filename=A.source,ue.line=w,ue.column=P,ue.source=v,!A.silent)throw ue}function j(G){var ue=G.exec(v);if(ue){var he=ue[0];return Z(he),v=v.slice(he.length),ue}}function T(){j(n)}function I(G){var ue;for(G=G||[];ue=Y();)ue!==!1&&G.push(ue);return G}function Y(){var G=Q();if(!(h!=v.charAt(0)||d!=v.charAt(1))){for(var ue=2;f!=v.charAt(ue)&&(d!=v.charAt(ue)||h!=v.charAt(ue+1));)++ue;if(ue+=2,f===v.charAt(ue-1))return K("End of comment missing");var he=v.slice(2,ue-2);return P+=2,Z(he),v=v.slice(ue),P+=2,G({type:b,comment:he})}}function R(){var G=Q(),ue=j(i);if(ue){if(Y(),!j(s))return K("property missing ':'");var he=j(o),se=G({type:y,property:p(ue[0].replace(t,f)),value:he?p(he[0].replace(t,f)):f});return j(c),se}}function U(){var G=[];I(G);for(var ue;ue=R();)ue!==!1&&(G.push(ue),I(G));return G}return T(),U()};function p(v){return v?v.replace(m,f):f}return inlineStyleParser}var hasRequiredCjs$1;function requireCjs$1(){if(hasRequiredCjs$1)return cjs$1;hasRequiredCjs$1=1;var t=cjs$1&&cjs$1.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(cjs$1,"__esModule",{value:!0}),cjs$1.default=n;var e=t(requireInlineStyleParser());function n(i,s){var o=null;if(!i||typeof i!="string")return o;var c=(0,e.default)(i),m=typeof s=="function";return c.forEach(function(_){if(_.type==="declaration"){var h=_.property,d=_.value;m?s(h,d,_):d&&(o=o||{},o[h]=d)}}),o}return cjs$1}var utilities={},hasRequiredUtilities;function requireUtilities(){if(hasRequiredUtilities)return utilities;hasRequiredUtilities=1,Object.defineProperty(utilities,"__esModule",{value:!0}),utilities.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(h){return!h||n.test(h)||t.test(h)},c=function(h,d){return d.toUpperCase()},m=function(h,d){return"".concat(d,"-")},_=function(h,d){return d===void 0&&(d={}),o(h)?h:(h=h.toLowerCase(),d.reactCompat?h=h.replace(s,m):h=h.replace(i,m),h.replace(e,c))};return utilities.camelCase=_,utilities}var cjs,hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var t=cjs&&cjs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(requireCjs$1()),n=requireUtilities();function i(s,o){var c={};return!s||typeof s!="string"||(0,e.default)(s,function(m,_){m&&_&&(c[(0,n.camelCase)(m,o)]=_)}),c}return i.default=i,cjs=i,cjs}var cjsExports=requireCjs();const styleToJs=getDefaultExportFromCjs(cjsExports),pointEnd=point$2("end"),pointStart=point$2("start");function point$2(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function position$1(t){const e=pointStart(t),n=pointEnd(t);if(e&&n)return{start:e,end:n}}function stringifyPosition(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?position(t.position):"start"in t||"end"in t?position(t):"line"in t||"column"in t?point$1(t):""}function point$1(t){return index(t&&t.line)+":"+index(t&&t.column)}function position(t){return point$1(t&&t.start)+"-"+point$1(t&&t.end)}function index(t){return t&&typeof t=="number"?t:1}class VFileMessage extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",o={},c=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?s=e:!o.cause&&e&&(c=!0,s=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof i=="string"){const _=i.indexOf(":");_===-1?o.ruleId=i:(o.source=i.slice(0,_),o.ruleId=i.slice(_+1))}if(!o.place&&o.ancestors&&o.ancestors){const _=o.ancestors[o.ancestors.length-1];_&&(o.place=_.position)}const m=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=m?m.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=m?m.line:void 0,this.name=stringifyPosition(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=c&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=developmentCreate(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=productionCreate(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?svg:html$1,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=one$1(s,t,void 0);return o&&typeof o!="string"?o:s.create(t,s.Fragment,{children:o||void 0},void 0)}function one$1(t,e,n){if(e.type==="element")return element$1(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return mdxExpression(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return mdxJsxElement(t,e,n);if(e.type==="mdxjsEsm")return mdxEsm(t,e);if(e.type==="root")return root$1(t,e,n);if(e.type==="text")return text$3(t,e)}function element$1(t,e,n){const i=t.schema;let s=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=svg,t.schema=s),t.ancestors.push(e);const o=findComponentFromName(t,e.tagName,!1),c=createElementProps(t,e);let m=createChildren(t,e);return tableElements.has(e.tagName)&&(m=m.filter(function(_){return typeof _=="string"?!whitespace(_):!0})),addNode(t,c,o,e),addChildren(c,m),t.ancestors.pop(),t.schema=i,t.create(e,o,c,n)}function mdxExpression(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}crashEstree(t,e.position)}function mdxEsm(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);crashEstree(t,e.position)}function mdxJsxElement(t,e,n){const i=t.schema;let s=i;e.name==="svg"&&i.space==="html"&&(s=svg,t.schema=s),t.ancestors.push(e);const o=e.name===null?t.Fragment:findComponentFromName(t,e.name,!0),c=createJsxElementProps(t,e),m=createChildren(t,e);return addNode(t,c,o,e),addChildren(c,m),t.ancestors.pop(),t.schema=i,t.create(e,o,c,n)}function root$1(t,e,n){const i={};return addChildren(i,createChildren(t,e)),t.create(e,t.Fragment,i,n)}function text$3(t,e){return e.value}function addNode(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function addChildren(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function productionCreate(t,e,n){return i;function i(s,o,c,m){const h=Array.isArray(c.children)?n:e;return m?h(o,c,m):h(o,c)}}function developmentCreate(t,e){return n;function n(i,s,o,c){const m=Array.isArray(o.children),_=pointStart(i);return e(s,o,c,m,{columnNumber:_?_.column-1:void 0,fileName:t,lineNumber:_?_.line:void 0},void 0)}}function createElementProps(t,e){const n={};let i,s;for(s in e.properties)if(s!=="children"&&own$3.call(e.properties,s)){const o=createProperty(t,s,e.properties[s]);if(o){const[c,m]=o;t.tableCellAlignToStyle&&c==="align"&&typeof m=="string"&&tableCellElement.has(e.tagName)?i=m:n[c]=m}}if(i){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function createJsxElementProps(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const o=i.data.estree.body[0];o.type;const c=o.expression;c.type;const m=c.properties[0];m.type,Object.assign(n,t.evaluater.evaluateExpression(m.argument))}else crashEstree(t,e.position);else{const s=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const m=i.value.data.estree.body[0];m.type,o=t.evaluater.evaluateExpression(m.expression)}else crashEstree(t,e.position);else o=i.value===null?!0:i.value;n[s]=o}return n}function createChildren(t,e){const n=[];let i=-1;const s=t.passKeys?new Map:emptyMap;for(;++i<e.children.length;){const o=e.children[i];let c;if(t.passKeys){const _=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(_){const h=s.get(_)||0;c=_+"-"+h,s.set(_,h+1)}}const m=one$1(t,o,c);m!==void 0&&n.push(m)}return n}function createProperty(t,e,n){const i=find(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?stringify$1(n):stringify(n)),i.property==="style"){let s=typeof n=="object"?n:parseStyle(t,String(n));return t.stylePropertyNameCase==="css"&&(s=transformStylesToCssCasing(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&i.space?hastToReact[i.property]||i.property:i.attribute,n]}}function parseStyle(t,e){try{return styleToJs(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,s=new VFileMessage("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=docs+"#cannot-parse-style-attribute",s}}function findComponentFromName(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let o=-1,c;for(;++o<s.length;){const m=name(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};c=c?{type:"MemberExpression",object:c,property:m,computed:!!(o&&m.type==="Literal"),optional:!1}:m}i=c}else i=name(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const s=i.value;return own$3.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(i);crashEstree(t)}function crashEstree(t,e){const n=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",n}function transformStylesToCssCasing(t){const e={};let n;for(n in t)own$3.call(t,n)&&(e[transformStyleToCssCasing(n)]=t[n]);return e}function transformStyleToCssCasing(t){let e=t.replace(cap,toDash);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function toDash(t){return"-"+t.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$1={};function toString$1(t,e){const n=emptyOptions$1,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return one(t,i,s)}function one(t,e,n){if(node(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return all(t.children,e,n)}return Array.isArray(t)?all(t,e,n):""}function all(t,e,n){const i=[];let s=-1;for(;++s<t.length;)i[s]=one(t[s],e,n);return i.join("")}function node(t){return!!(t&&typeof t=="object")}const element=document.createElement("i");function decodeNamedCharacterReference(t){const e="&"+t+";";element.innerHTML=e;const n=element.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function splice(t,e,n,i){const s=t.length;let o=0,c;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,i.length<1e4)c=Array.from(i),c.unshift(e,n),t.splice(...c);else for(n&&t.splice(e,n);o<i.length;)c=i.slice(o,o+1e4),c.unshift(e,0),t.splice(...c),o+=1e4,e+=1e4}function push(t,e){return t.length>0?(splice(t,t.length,0,e),t):e}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(t){const e={};let n=-1;for(;++n<t.length;)syntaxExtension(e,t[n]);return e}function syntaxExtension(t,e){let n;for(n in e){const s=(hasOwnProperty.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let c;if(o)for(c in o){hasOwnProperty.call(s,c)||(s[c]=[]);const m=o[c];constructs(s[c],Array.isArray(m)?m:m?[m]:[])}}}function constructs(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);splice(t,0,0,i)}function decodeNumericCharacterReference(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function normalizeIdentifier(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(t){return t!==null&&(t<32||t===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(t){return t!==null&&t<-2}function markdownLineEndingOrSpace(t){return t!==null&&(t<0||t===32)}function markdownSpace(t){return t===-2||t===-1||t===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function normalizeUri(t){const e=[];let n=-1,i=0,s=0;for(;++n<t.length;){const o=t.charCodeAt(n);let c="";if(o===37&&asciiAlphanumeric(t.charCodeAt(n+1))&&asciiAlphanumeric(t.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(c=String.fromCharCode(o));else if(o>55295&&o<57344){const m=t.charCodeAt(n+1);o<56320&&m>56319&&m<57344?(c=String.fromCharCode(o,m),s=1):c=""}else c=String.fromCharCode(o);c&&(e.push(t.slice(i,n),encodeURIComponent(c)),i=n+s+1,c=""),s&&(n+=s,s=0)}return e.join("")+t.slice(i)}function factorySpace(t,e,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let o=0;return c;function c(_){return markdownSpace(_)?(t.enter(n),m(_)):e(_)}function m(_){return markdownSpace(_)&&o++<s?(t.consume(_),m):(t.exit(n),e(_))}}const content$1={tokenize:initializeContent};function initializeContent(t){const e=t.attempt(this.parser.constructs.contentInitial,i,s);let n;return e;function i(m){if(m===null){t.consume(m);return}return t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),factorySpace(t,e,"linePrefix")}function s(m){return t.enter("paragraph"),o(m)}function o(m){const _=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=_),n=_,c(m)}function c(m){if(m===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(m);return}return markdownLineEnding(m)?(t.consume(m),t.exit("chunkText"),o):(t.consume(m),c)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(t){const e=this,n=[];let i=0,s,o,c;return m;function m(Z){if(i<n.length){const Q=n[i];return e.containerState=Q[1],t.attempt(Q[0].continuation,_,h)(Z)}return h(Z)}function _(Z){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&P();const Q=e.events.length;let z=Q,K;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){K=e.events[z][1].end;break}w(i);let j=Q;for(;j<e.events.length;)e.events[j][1].end={...K},j++;return splice(e.events,z+1,0,e.events.slice(Q)),e.events.length=j,h(Z)}return m(Z)}function h(Z){if(i===n.length){if(!s)return b(Z);if(s.currentConstruct&&s.currentConstruct.concrete)return p(Z);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(containerConstruct,d,f)(Z)}function d(Z){return s&&P(),w(i),b(Z)}function f(Z){return e.parser.lazy[e.now().line]=i!==n.length,c=e.now().offset,p(Z)}function b(Z){return e.containerState={},t.attempt(containerConstruct,y,p)(Z)}function y(Z){return i++,n.push([e.currentConstruct,e.containerState]),b(Z)}function p(Z){if(Z===null){s&&P(),w(0),t.consume(Z);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),v(Z)}function v(Z){if(Z===null){A(t.exit("chunkFlow"),!0),w(0),t.consume(Z);return}return markdownLineEnding(Z)?(t.consume(Z),A(t.exit("chunkFlow")),i=0,e.interrupt=void 0,m):(t.consume(Z),v)}function A(Z,Q){const z=e.sliceStream(Z);if(Q&&z.push(null),Z.previous=o,o&&(o.next=Z),o=Z,s.defineSkip(Z.start),s.write(z),e.parser.lazy[Z.start.line]){let K=s.events.length;for(;K--;)if(s.events[K][1].start.offset<c&&(!s.events[K][1].end||s.events[K][1].end.offset>c))return;const j=e.events.length;let T=j,I,Y;for(;T--;)if(e.events[T][0]==="exit"&&e.events[T][1].type==="chunkFlow"){if(I){Y=e.events[T][1].end;break}I=!0}for(w(i),K=j;K<e.events.length;)e.events[K][1].end={...Y},K++;splice(e.events,T+1,0,e.events.slice(j)),e.events.length=K}}function w(Z){let Q=n.length;for(;Q-- >Z;){const z=n[Q];e.containerState=z[1],z[0].exit.call(e,t)}n.length=Z}function P(){s.write([null]),o=void 0,s=void 0,e.containerState._closeFlow=void 0}}function tokenizeContainer(t,e,n){return factorySpace(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(t){if(t===null||markdownLineEndingOrSpace(t)||unicodeWhitespace(t))return 1;if(unicodePunctuation(t))return 2}function resolveAll(t,e,n){const i=[];let s=-1;for(;++s<t.length;){const o=t[s].resolveAll;o&&!i.includes(o)&&(e=o(e,n),i.push(o))}return e}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(t,e){let n=-1,i,s,o,c,m,_,h,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;_=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[i][1].end},b={...t[n][1].start};movePoint(f,-_),movePoint(b,_),c={type:_>1?"strongSequence":"emphasisSequence",start:f,end:{...t[i][1].end}},m={type:_>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:b},o={type:_>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},s={type:_>1?"strong":"emphasis",start:{...c.start},end:{...m.end}},t[i][1].end={...c.start},t[n][1].start={...m.end},h=[],t[i][1].end.offset-t[i][1].start.offset&&(h=push(h,[["enter",t[i][1],e],["exit",t[i][1],e]])),h=push(h,[["enter",s,e],["enter",c,e],["exit",c,e],["enter",o,e]]),h=push(h,resolveAll(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),h=push(h,[["exit",o,e],["enter",m,e],["exit",m,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,h=push(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,splice(t,i-1,n-i+3,h),n=i+h.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function tokenizeAttention(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=classifyCharacter(i);let o;return c;function c(_){return o=_,t.enter("attentionSequence"),m(_)}function m(_){if(_===o)return t.consume(_),m;const h=t.exit("attentionSequence"),d=classifyCharacter(_),f=!d||d===2&&s||n.includes(_),b=!s||s===2&&d||n.includes(i);return h._open=!!(o===42?f:f&&(s||!b)),h._close=!!(o===42?b:b&&(d||!f)),e(_)}}function movePoint(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(t,e,n){let i=0;return s;function s(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(y){return asciiAlpha(y)?(t.consume(y),c):y===64?n(y):h(y)}function c(y){return y===43||y===45||y===46||asciiAlphanumeric(y)?(i=1,m(y)):h(y)}function m(y){return y===58?(t.consume(y),i=0,_):(y===43||y===45||y===46||asciiAlphanumeric(y))&&i++<32?(t.consume(y),m):(i=0,h(y))}function _(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||asciiControl(y)?n(y):(t.consume(y),_)}function h(y){return y===64?(t.consume(y),d):asciiAtext(y)?(t.consume(y),h):n(y)}function d(y){return asciiAlphanumeric(y)?f(y):n(y)}function f(y){return y===46?(t.consume(y),i=0,d):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):b(y)}function b(y){if((y===45||asciiAlphanumeric(y))&&i++<63){const p=y===45?b:f;return t.consume(y),p}return n(y)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(t,e,n){return i;function i(o){return markdownSpace(o)?factorySpace(t,s,"linePrefix")(o):s(o)}function s(o){return o===null||markdownLineEnding(o)?e(o):n(o)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(t,e,n){const i=this;return s;function s(c){if(c===62){const m=i.containerState;return m.open||(t.enter("blockQuote",{_container:!0}),m.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),o}return n(c)}function o(c){return markdownSpace(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(c))}}function tokenizeBlockQuoteContinuation(t,e,n){const i=this;return s;function s(c){return markdownSpace(c)?factorySpace(t,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):o(c)}function o(c){return t.attempt(blockQuote,e,n)(c)}}function exit(t){t.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(t,e,n){return i;function i(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),s}function s(o){return asciiPunctuation(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(t,e,n){const i=this;let s=0,o,c;return m;function m(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),_}function _(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),o=31,c=asciiAlphanumeric,d(f))}function h(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,c=asciiHexDigit,d):(t.enter("characterReferenceValue"),o=7,c=asciiDigit,d(f))}function d(f){if(f===59&&s){const b=t.exit("characterReferenceValue");return c===asciiAlphanumeric&&!decodeNamedCharacterReference(i.sliceSerialize(b))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return c(f)&&s++<o?(t.consume(f),d):n(f)}}const nonLazyContinuation={partial:!0,tokenize:tokenizeNonLazyContinuation},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(t,e,n){const i=this,s={partial:!0,tokenize:z};let o=0,c=0,m;return _;function _(K){return h(K)}function h(K){const j=i.events[i.events.length-1];return o=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,m=K,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(K)}function d(K){return K===m?(c++,t.consume(K),d):c<3?n(K):(t.exit("codeFencedFenceSequence"),markdownSpace(K)?factorySpace(t,f,"whitespace")(K):f(K))}function f(K){return K===null||markdownLineEnding(K)?(t.exit("codeFencedFence"),i.interrupt?e(K):t.check(nonLazyContinuation,v,Q)(K)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),b(K))}function b(K){return K===null||markdownLineEnding(K)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(K)):markdownSpace(K)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),factorySpace(t,y,"whitespace")(K)):K===96&&K===m?n(K):(t.consume(K),b)}function y(K){return K===null||markdownLineEnding(K)?f(K):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(K))}function p(K){return K===null||markdownLineEnding(K)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(K)):K===96&&K===m?n(K):(t.consume(K),p)}function v(K){return t.attempt(s,Q,A)(K)}function A(K){return t.enter("lineEnding"),t.consume(K),t.exit("lineEnding"),w}function w(K){return o>0&&markdownSpace(K)?factorySpace(t,P,"linePrefix",o+1)(K):P(K)}function P(K){return K===null||markdownLineEnding(K)?t.check(nonLazyContinuation,v,Q)(K):(t.enter("codeFlowValue"),Z(K))}function Z(K){return K===null||markdownLineEnding(K)?(t.exit("codeFlowValue"),P(K)):(t.consume(K),Z)}function Q(K){return t.exit("codeFenced"),e(K)}function z(K,j,T){let I=0;return Y;function Y(he){return K.enter("lineEnding"),K.consume(he),K.exit("lineEnding"),R}function R(he){return K.enter("codeFencedFence"),markdownSpace(he)?factorySpace(K,U,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(he):U(he)}function U(he){return he===m?(K.enter("codeFencedFenceSequence"),G(he)):T(he)}function G(he){return he===m?(I++,K.consume(he),G):I>=c?(K.exit("codeFencedFenceSequence"),markdownSpace(he)?factorySpace(K,ue,"whitespace")(he):ue(he)):T(he)}function ue(he){return he===null||markdownLineEnding(he)?(K.exit("codeFencedFence"),j(he)):T(he)}}}function tokenizeNonLazyContinuation(t,e,n){const i=this;return s;function s(c){return c===null?n(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o)}function o(c){return i.parser.lazy[i.now().line]?n(c):e(c)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(t,e,n){const i=this;return s;function s(h){return t.enter("codeIndented"),factorySpace(t,o,"linePrefix",5)(h)}function o(h){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?c(h):n(h)}function c(h){return h===null?_(h):markdownLineEnding(h)?t.attempt(furtherStart,c,_)(h):(t.enter("codeFlowValue"),m(h))}function m(h){return h===null||markdownLineEnding(h)?(t.exit("codeFlowValue"),c(h)):(t.consume(h),m)}function _(h){return t.exit("codeIndented"),e(h)}}function tokenizeFurtherStart(t,e,n){const i=this;return s;function s(c){return i.parser.lazy[i.now().line]?n(c):markdownLineEnding(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),s):factorySpace(t,o,"linePrefix",5)(c)}function o(c){const m=i.events[i.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?e(c):markdownLineEnding(c)?s(c):n(c)}}const codeText={name:"codeText",previous,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(t){let e=t.length-4,n=3,i,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)s===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(s=i):(i===e||t[i][1].type==="lineEnding")&&(t[s][1].type="codeTextData",i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),e-=i-s-2,i=s+2),s=void 0);return t}function previous(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(t,e,n){let i=0,s,o;return c;function c(f){return t.enter("codeText"),t.enter("codeTextSequence"),m(f)}function m(f){return f===96?(t.consume(f),i++,m):(t.exit("codeTextSequence"),_(f))}function _(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),_):f===96?(o=t.enter("codeTextSequence"),s=0,d(f)):markdownLineEnding(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),_):(t.enter("codeTextData"),h(f))}function h(f){return f===null||f===32||f===96||markdownLineEnding(f)?(t.exit("codeTextData"),_(f)):(t.consume(f),h)}function d(f){return f===96?(t.consume(f),s++,d):s===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(o.type="codeTextData",h(f))}}class SpliceBuffer{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const s=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&chunkedPush(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),chunkedPush(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);chunkedPush(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);chunkedPush(this.left,n.reverse())}}}function chunkedPush(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function subtokenize(t){const e={};let n=-1,i,s,o,c,m,_,h;const d=new SpliceBuffer(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(i=d.get(n),n&&i[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(_=i[1]._tokenizer.events,o=0,o<_.length&&_[o][1].type==="lineEndingBlank"&&(o+=2),o<_.length&&_[o][1].type==="content"))for(;++o<_.length&&_[o][1].type!=="content";)_[o][1].type==="chunkText"&&(_[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,subcontent(d,n)),n=e[n],h=!0);else if(i[1]._container){for(o=n,s=void 0;o--;)if(c=d.get(o),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(s&&(d.get(s)[1].type="lineEndingBlank"),c[1].type="lineEnding",s=o);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;s&&(i[1].end={...d.get(s)[1].start},m=d.slice(s,n),m.unshift(i),d.splice(s,n-s+1,m))}}return splice(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!h}function subcontent(t,e){const n=t.get(e)[1],i=t.get(e)[2];let s=e-1;const o=[];let c=n._tokenizer;c||(c=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const m=c.events,_=[],h={};let d,f,b=-1,y=n,p=0,v=0;const A=[v];for(;y;){for(;t.get(++s)[1]!==y;);o.push(s),y._tokenizer||(d=i.sliceStream(y),y.next||d.push(null),f&&c.defineSkip(y.start),y._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(d),y._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),f=y,y=y.next}for(y=n;++b<m.length;)m[b][0]==="exit"&&m[b-1][0]==="enter"&&m[b][1].type===m[b-1][1].type&&m[b][1].start.line!==m[b][1].end.line&&(v=b+1,A.push(v),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(c.events=[],y?(y._tokenizer=void 0,y.previous=void 0):A.pop(),b=A.length;b--;){const w=m.slice(A[b],A[b+1]),P=o.pop();_.push([P,P+w.length-1]),t.splice(P,2,w)}for(_.reverse(),b=-1;++b<_.length;)h[p+_[b][0]]=p+_[b][1],p+=_[b][1]-_[b][0]-1;return h}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(t){return subtokenize(t),t}function tokenizeContent(t,e){let n;return i;function i(m){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(m)}function s(m){return m===null?o(m):markdownLineEnding(m)?t.check(continuationConstruct,c,o)(m):(t.consume(m),s)}function o(m){return t.exit("chunkContent"),t.exit("content"),e(m)}function c(m){return t.consume(m),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function tokenizeContinuation(t,e,n){const i=this;return s;function s(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),factorySpace(t,o,"linePrefix")}function o(c){if(c===null||markdownLineEnding(c))return n(c);const m=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?e(c):t.interrupt(i.parser.constructs.flow,n,e)(c)}}function factoryDestination(t,e,n,i,s,o,c,m,_){const h=_||Number.POSITIVE_INFINITY;let d=0;return f;function f(w){return w===60?(t.enter(i),t.enter(s),t.enter(o),t.consume(w),t.exit(o),b):w===null||w===32||w===41||asciiControl(w)?n(w):(t.enter(i),t.enter(c),t.enter(m),t.enter("chunkString",{contentType:"string"}),v(w))}function b(w){return w===62?(t.enter(o),t.consume(w),t.exit(o),t.exit(s),t.exit(i),e):(t.enter(m),t.enter("chunkString",{contentType:"string"}),y(w))}function y(w){return w===62?(t.exit("chunkString"),t.exit(m),b(w)):w===null||w===60||markdownLineEnding(w)?n(w):(t.consume(w),w===92?p:y)}function p(w){return w===60||w===62||w===92?(t.consume(w),y):y(w)}function v(w){return!d&&(w===null||w===41||markdownLineEndingOrSpace(w))?(t.exit("chunkString"),t.exit(m),t.exit(c),t.exit(i),e(w)):d<h&&w===40?(t.consume(w),d++,v):w===41?(t.consume(w),d--,v):w===null||w===32||w===40||asciiControl(w)?n(w):(t.consume(w),w===92?A:v)}function A(w){return w===40||w===41||w===92?(t.consume(w),v):v(w)}}function factoryLabel(t,e,n,i,s,o){const c=this;let m=0,_;return h;function h(y){return t.enter(i),t.enter(s),t.consume(y),t.exit(s),t.enter(o),d}function d(y){return m>999||y===null||y===91||y===93&&!_||y===94&&!m&&"_hiddenFootnoteSupport"in c.parser.constructs?n(y):y===93?(t.exit(o),t.enter(s),t.consume(y),t.exit(s),t.exit(i),e):markdownLineEnding(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===null||y===91||y===93||markdownLineEnding(y)||m++>999?(t.exit("chunkString"),d(y)):(t.consume(y),_||(_=!markdownSpace(y)),y===92?b:f)}function b(y){return y===91||y===92||y===93?(t.consume(y),m++,f):f(y)}}function factoryTitle(t,e,n,i,s,o){let c;return m;function m(b){return b===34||b===39||b===40?(t.enter(i),t.enter(s),t.consume(b),t.exit(s),c=b===40?41:b,_):n(b)}function _(b){return b===c?(t.enter(s),t.consume(b),t.exit(s),t.exit(i),e):(t.enter(o),h(b))}function h(b){return b===c?(t.exit(o),_(c)):b===null?n(b):markdownLineEnding(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),factorySpace(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(b))}function d(b){return b===c||b===null||markdownLineEnding(b)?(t.exit("chunkString"),h(b)):(t.consume(b),b===92?f:d)}function f(b){return b===c||b===92?(t.consume(b),d):d(b)}}function factoryWhitespace(t,e){let n;return i;function i(s){return markdownLineEnding(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,i):markdownSpace(s)?factorySpace(t,i,n?"linePrefix":"lineSuffix")(s):e(s)}}const definition={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(t,e,n){const i=this;let s;return o;function o(y){return t.enter("definition"),c(y)}function c(y){return factoryLabel.call(i,t,m,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function m(y){return s=normalizeIdentifier(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),_):n(y)}function _(y){return markdownLineEndingOrSpace(y)?factoryWhitespace(t,h)(y):h(y)}function h(y){return factoryDestination(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function d(y){return t.attempt(titleBefore,f,f)(y)}function f(y){return markdownSpace(y)?factorySpace(t,b,"whitespace")(y):b(y)}function b(y){return y===null||markdownLineEnding(y)?(t.exit("definition"),i.parser.defined.push(s),e(y)):n(y)}}function tokenizeTitleBefore(t,e,n){return i;function i(m){return markdownLineEndingOrSpace(m)?factoryWhitespace(t,s)(m):n(m)}function s(m){return factoryTitle(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(m)}function o(m){return markdownSpace(m)?factorySpace(t,c,"whitespace")(m):c(m)}function c(m){return m===null||markdownLineEnding(m)?e(m):n(m)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(t,e,n){return i;function i(o){return t.enter("hardBreakEscape"),t.consume(o),s}function s(o){return markdownLineEnding(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(t,e){let n=t.length-2,i=3,s,o;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},o={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},splice(t,i,n-i+1,[["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e]])),t}function tokenizeHeadingAtx(t,e,n){let i=0;return s;function s(d){return t.enter("atxHeading"),o(d)}function o(d){return t.enter("atxHeadingSequence"),c(d)}function c(d){return d===35&&i++<6?(t.consume(d),c):d===null||markdownLineEndingOrSpace(d)?(t.exit("atxHeadingSequence"),m(d)):n(d)}function m(d){return d===35?(t.enter("atxHeadingSequence"),_(d)):d===null||markdownLineEnding(d)?(t.exit("atxHeading"),e(d)):markdownSpace(d)?factorySpace(t,m,"whitespace")(d):(t.enter("atxHeadingText"),h(d))}function _(d){return d===35?(t.consume(d),_):(t.exit("atxHeadingSequence"),m(d))}function h(d){return d===null||d===35||markdownLineEndingOrSpace(d)?(t.exit("atxHeadingText"),m(d)):(t.consume(d),h)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function tokenizeHtmlFlow(t,e,n){const i=this;let s,o,c,m,_;return h;function h(D){return d(D)}function d(D){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(D),f}function f(D){return D===33?(t.consume(D),b):D===47?(t.consume(D),o=!0,v):D===63?(t.consume(D),s=3,i.interrupt?e:S):asciiAlpha(D)?(t.consume(D),c=String.fromCharCode(D),A):n(D)}function b(D){return D===45?(t.consume(D),s=2,y):D===91?(t.consume(D),s=5,m=0,p):asciiAlpha(D)?(t.consume(D),s=4,i.interrupt?e:S):n(D)}function y(D){return D===45?(t.consume(D),i.interrupt?e:S):n(D)}function p(D){const de="CDATA[";return D===de.charCodeAt(m++)?(t.consume(D),m===de.length?i.interrupt?e:U:p):n(D)}function v(D){return asciiAlpha(D)?(t.consume(D),c=String.fromCharCode(D),A):n(D)}function A(D){if(D===null||D===47||D===62||markdownLineEndingOrSpace(D)){const de=D===47,ce=c.toLowerCase();return!de&&!o&&htmlRawNames.includes(ce)?(s=1,i.interrupt?e(D):U(D)):htmlBlockNames.includes(c.toLowerCase())?(s=6,de?(t.consume(D),w):i.interrupt?e(D):U(D)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(D):o?P(D):Z(D))}return D===45||asciiAlphanumeric(D)?(t.consume(D),c+=String.fromCharCode(D),A):n(D)}function w(D){return D===62?(t.consume(D),i.interrupt?e:U):n(D)}function P(D){return markdownSpace(D)?(t.consume(D),P):Y(D)}function Z(D){return D===47?(t.consume(D),Y):D===58||D===95||asciiAlpha(D)?(t.consume(D),Q):markdownSpace(D)?(t.consume(D),Z):Y(D)}function Q(D){return D===45||D===46||D===58||D===95||asciiAlphanumeric(D)?(t.consume(D),Q):z(D)}function z(D){return D===61?(t.consume(D),K):markdownSpace(D)?(t.consume(D),z):Z(D)}function K(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),_=D,j):markdownSpace(D)?(t.consume(D),K):T(D)}function j(D){return D===_?(t.consume(D),_=null,I):D===null||markdownLineEnding(D)?n(D):(t.consume(D),j)}function T(D){return D===null||D===34||D===39||D===47||D===60||D===61||D===62||D===96||markdownLineEndingOrSpace(D)?z(D):(t.consume(D),T)}function I(D){return D===47||D===62||markdownSpace(D)?Z(D):n(D)}function Y(D){return D===62?(t.consume(D),R):n(D)}function R(D){return D===null||markdownLineEnding(D)?U(D):markdownSpace(D)?(t.consume(D),R):n(D)}function U(D){return D===45&&s===2?(t.consume(D),se):D===60&&s===1?(t.consume(D),ee):D===62&&s===4?(t.consume(D),J):D===63&&s===3?(t.consume(D),S):D===93&&s===5?(t.consume(D),$):markdownLineEnding(D)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(blankLineBefore,ae,G)(D)):D===null||markdownLineEnding(D)?(t.exit("htmlFlowData"),G(D)):(t.consume(D),U)}function G(D){return t.check(nonLazyContinuationStart,ue,ae)(D)}function ue(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),he}function he(D){return D===null||markdownLineEnding(D)?G(D):(t.enter("htmlFlowData"),U(D))}function se(D){return D===45?(t.consume(D),S):U(D)}function ee(D){return D===47?(t.consume(D),c="",W):U(D)}function W(D){if(D===62){const de=c.toLowerCase();return htmlRawNames.includes(de)?(t.consume(D),J):U(D)}return asciiAlpha(D)&&c.length<8?(t.consume(D),c+=String.fromCharCode(D),W):U(D)}function $(D){return D===93?(t.consume(D),S):U(D)}function S(D){return D===62?(t.consume(D),J):D===45&&s===2?(t.consume(D),S):U(D)}function J(D){return D===null||markdownLineEnding(D)?(t.exit("htmlFlowData"),ae(D)):(t.consume(D),J)}function ae(D){return t.exit("htmlFlow"),e(D)}}function tokenizeNonLazyContinuationStart(t,e,n){const i=this;return s;function s(c){return markdownLineEnding(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o):n(c)}function o(c){return i.parser.lazy[i.now().line]?n(c):e(c)}}function tokenizeBlankLineBefore(t,e,n){return i;function i(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(blankLine,e,n)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(t,e,n){const i=this;let s,o,c;return m;function m(S){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(S),_}function _(S){return S===33?(t.consume(S),h):S===47?(t.consume(S),z):S===63?(t.consume(S),Z):asciiAlpha(S)?(t.consume(S),T):n(S)}function h(S){return S===45?(t.consume(S),d):S===91?(t.consume(S),o=0,p):asciiAlpha(S)?(t.consume(S),P):n(S)}function d(S){return S===45?(t.consume(S),y):n(S)}function f(S){return S===null?n(S):S===45?(t.consume(S),b):markdownLineEnding(S)?(c=f,ee(S)):(t.consume(S),f)}function b(S){return S===45?(t.consume(S),y):f(S)}function y(S){return S===62?se(S):S===45?b(S):f(S)}function p(S){const J="CDATA[";return S===J.charCodeAt(o++)?(t.consume(S),o===J.length?v:p):n(S)}function v(S){return S===null?n(S):S===93?(t.consume(S),A):markdownLineEnding(S)?(c=v,ee(S)):(t.consume(S),v)}function A(S){return S===93?(t.consume(S),w):v(S)}function w(S){return S===62?se(S):S===93?(t.consume(S),w):v(S)}function P(S){return S===null||S===62?se(S):markdownLineEnding(S)?(c=P,ee(S)):(t.consume(S),P)}function Z(S){return S===null?n(S):S===63?(t.consume(S),Q):markdownLineEnding(S)?(c=Z,ee(S)):(t.consume(S),Z)}function Q(S){return S===62?se(S):Z(S)}function z(S){return asciiAlpha(S)?(t.consume(S),K):n(S)}function K(S){return S===45||asciiAlphanumeric(S)?(t.consume(S),K):j(S)}function j(S){return markdownLineEnding(S)?(c=j,ee(S)):markdownSpace(S)?(t.consume(S),j):se(S)}function T(S){return S===45||asciiAlphanumeric(S)?(t.consume(S),T):S===47||S===62||markdownLineEndingOrSpace(S)?I(S):n(S)}function I(S){return S===47?(t.consume(S),se):S===58||S===95||asciiAlpha(S)?(t.consume(S),Y):markdownLineEnding(S)?(c=I,ee(S)):markdownSpace(S)?(t.consume(S),I):se(S)}function Y(S){return S===45||S===46||S===58||S===95||asciiAlphanumeric(S)?(t.consume(S),Y):R(S)}function R(S){return S===61?(t.consume(S),U):markdownLineEnding(S)?(c=R,ee(S)):markdownSpace(S)?(t.consume(S),R):I(S)}function U(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(t.consume(S),s=S,G):markdownLineEnding(S)?(c=U,ee(S)):markdownSpace(S)?(t.consume(S),U):(t.consume(S),ue)}function G(S){return S===s?(t.consume(S),s=void 0,he):S===null?n(S):markdownLineEnding(S)?(c=G,ee(S)):(t.consume(S),G)}function ue(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||markdownLineEndingOrSpace(S)?I(S):(t.consume(S),ue)}function he(S){return S===47||S===62||markdownLineEndingOrSpace(S)?I(S):n(S)}function se(S){return S===62?(t.consume(S),t.exit("htmlTextData"),t.exit("htmlText"),e):n(S)}function ee(S){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),W}function W(S){return markdownSpace(S)?factorySpace(t,$,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):$(S)}function $(S){return t.enter("htmlTextData"),c(S)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",e+=s}}return t.length!==n.length&&splice(t,0,t.length,n),t}function resolveToLabelEnd(t,e){let n=t.length,i=0,s,o,c,m;for(;n--;)if(s=t[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(c){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(c=n);const _={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[o][1].start},end:{...t[c][1].end}},d={type:"labelText",start:{...t[o+i+2][1].end},end:{...t[c-2][1].start}};return m=[["enter",_,e],["enter",h,e]],m=push(m,t.slice(o+1,o+i+3)),m=push(m,[["enter",d,e]]),m=push(m,resolveAll(e.parser.constructs.insideSpan.null,t.slice(o+i+4,c-3),e)),m=push(m,[["exit",d,e],t[c-2],t[c-1],["exit",h,e]]),m=push(m,t.slice(c+1)),m=push(m,[["exit",_,e]]),splice(t,o,t.length,m),t}function tokenizeLabelEnd(t,e,n){const i=this;let s=i.events.length,o,c;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){o=i.events[s][1];break}return m;function m(b){return o?o._inactive?f(b):(c=i.parser.defined.includes(normalizeIdentifier(i.sliceSerialize({start:o.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(b),t.exit("labelMarker"),t.exit("labelEnd"),_):n(b)}function _(b){return b===40?t.attempt(resourceConstruct,d,c?d:f)(b):b===91?t.attempt(referenceFullConstruct,d,c?h:f)(b):c?d(b):f(b)}function h(b){return t.attempt(referenceCollapsedConstruct,d,f)(b)}function d(b){return e(b)}function f(b){return o._balanced=!0,n(b)}}function tokenizeResource(t,e,n){return i;function i(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),s}function s(f){return markdownLineEndingOrSpace(f)?factoryWhitespace(t,o)(f):o(f)}function o(f){return f===41?d(f):factoryDestination(t,c,m,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function c(f){return markdownLineEndingOrSpace(f)?factoryWhitespace(t,_)(f):d(f)}function m(f){return n(f)}function _(f){return f===34||f===39||f===40?factoryTitle(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function h(f){return markdownLineEndingOrSpace(f)?factoryWhitespace(t,d)(f):d(f)}function d(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function tokenizeReferenceFull(t,e,n){const i=this;return s;function s(m){return factoryLabel.call(i,t,o,c,"reference","referenceMarker","referenceString")(m)}function o(m){return i.parser.defined.includes(normalizeIdentifier(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(m):n(m)}function c(m){return n(m)}}function tokenizeReferenceCollapsed(t,e,n){return i;function i(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),s}function s(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(t,e,n){const i=this;return s;function s(m){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(m),t.exit("labelImageMarker"),o}function o(m){return m===91?(t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelImage"),c):n(m)}function c(m){return m===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(m):e(m)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(t,e,n){const i=this;return s;function s(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),o}function o(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):e(c)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),factorySpace(t,e,"linePrefix")}}const thematicBreak$1={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(t,e,n){let i=0,s;return o;function o(h){return t.enter("thematicBreak"),c(h)}function c(h){return s=h,m(h)}function m(h){return h===s?(t.enter("thematicBreakSequence"),_(h)):i>=3&&(h===null||markdownLineEnding(h))?(t.exit("thematicBreak"),e(h)):n(h)}function _(h){return h===s?(t.consume(h),i++,_):(t.exit("thematicBreakSequence"),markdownSpace(h)?factorySpace(t,m,"whitespace")(h):m(h))}}const list$1={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent};function tokenizeListStart(t,e,n){const i=this,s=i.events[i.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,c=0;return m;function m(y){const p=i.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!i.containerState.marker||y===i.containerState.marker:asciiDigit(y)){if(i.containerState.type||(i.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(thematicBreak$1,n,h)(y):h(y);if(!i.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),_(y)}return n(y)}function _(y){return asciiDigit(y)&&++c<10?(t.consume(y),_):(!i.interrupt||c<2)&&(i.containerState.marker?y===i.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),h(y)):n(y)}function h(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||y,t.check(blankLine,i.interrupt?n:d,t.attempt(listItemPrefixWhitespaceConstruct,b,f))}function d(y){return i.containerState.initialBlankLine=!0,o++,b(y)}function f(y){return markdownSpace(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),b):n(y)}function b(y){return i.containerState.size=o+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function tokenizeListContinuation(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(blankLine,s,o);function s(m){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,factorySpace(t,e,"listItemIndent",i.containerState.size+1)(m)}function o(m){return i.containerState.furtherBlankLines||!markdownSpace(m)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,c(m)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(indentConstruct,e,c)(m))}function c(m){return i.containerState._closeFlow=!0,i.interrupt=void 0,factorySpace(t,t.attempt(list$1,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m)}}function tokenizeIndent(t,e,n){const i=this;return factorySpace(t,s,"listItemIndent",i.containerState.size+1);function s(o){const c=i.events[i.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===i.containerState.size?e(o):n(o)}}function tokenizeListEnd(t){t.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(t,e,n){const i=this;return factorySpace(t,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const c=i.events[i.events.length-1];return!markdownSpace(o)&&c&&c[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(t,e){let n=t.length,i,s,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const c={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",o?(t.splice(s,0,["enter",c,e]),t.splice(o+1,0,["exit",t[i][1],e]),t[i][1].end={...t[o][1].end}):t[i][1]=c,t.push(["exit",c,e]),t}function tokenizeSetextUnderline(t,e,n){const i=this;let s;return o;function o(h){let d=i.events.length,f;for(;d--;)if(i.events[d][1].type!=="lineEnding"&&i.events[d][1].type!=="linePrefix"&&i.events[d][1].type!=="content"){f=i.events[d][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||f)?(t.enter("setextHeadingLine"),s=h,c(h)):n(h)}function c(h){return t.enter("setextHeadingLineSequence"),m(h)}function m(h){return h===s?(t.consume(h),m):(t.exit("setextHeadingLineSequence"),markdownSpace(h)?factorySpace(t,_,"lineSuffix")(h):_(h))}function _(h){return h===null||markdownLineEnding(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const flow$1={tokenize:initializeFlow};function initializeFlow(t){const e=this,n=t.attempt(blankLine,i,t.attempt(this.parser.constructs.flowInitial,s,factorySpace(t,t.attempt(this.parser.constructs.flow,s,t.attempt(content,s)),"linePrefix")));return n;function i(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$2=initializeFactory("text");function initializeFactory(t){return{resolveAll:createResolver(t==="text"?resolveAllLineSuffixes:void 0),tokenize:e};function e(n){const i=this,s=this.parser.constructs[t],o=n.attempt(s,c,m);return c;function c(d){return h(d)?o(d):m(d)}function m(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),_}function _(d){return h(d)?(n.exit("data"),o(d)):(n.consume(d),_)}function h(d){if(d===null)return!0;const f=s[d];let b=-1;if(f)for(;++b<f.length;){const y=f[b];if(!y.previous||y.previous.call(i,i.previous))return!0}return!1}}}function createResolver(t){return e;function e(n,i){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return t?t(n,i):n}}function resolveAllLineSuffixes(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],s=e.sliceStream(i);let o=s.length,c=-1,m=0,_;for(;o--;){const h=s[o];if(typeof h=="string"){for(c=h.length;h.charCodeAt(c-1)===32;)m++,c--;if(c)break;c=-1}else if(h===-2)_=!0,m++;else if(h!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(m=0),m){const h={type:n===t.length||_||m<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?c:i.start._bufferIndex+c,_index:i.start._index+o,line:i.end.line,column:i.end.column-m,offset:i.end.offset-m},end:{...i.end}};i.end={...h.start},i.start.offset===i.end.offset?Object.assign(i,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const document$1={42:list$1,43:list$1,45:list$1,48:list$1,49:list$1,50:list$1,51:list$1,52:list$1,53:list$1,54:list$1,55:list$1,56:list$1,57:list$1,62:blockQuote},contentInitial={91:definition},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$1,45:[setextUnderline,thematicBreak$1],60:htmlFlow,61:setextUnderline,95:thematicBreak$1,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$1={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$1},Symbol.toStringTag,{value:"Module"}));function createTokenizer(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let c=[],m=[];const _={attempt:j(z),check:j(K),consume:P,enter:Z,exit:Q,interrupt:j(K,{interrupt:!0})},h={code:null,containerState:{},defineSkip:v,events:[],now:p,parser:t,previous:null,sliceSerialize:b,sliceStream:y,write:f};let d=e.tokenize.call(h,_);return e.resolveAll&&o.push(e),h;function f(R){return c=push(c,R),A(),c[c.length-1]!==null?[]:(T(e,0),h.events=resolveAll(o,h.events,h),h.events)}function b(R,U){return serializeChunks(y(R),U)}function y(R){return sliceChunks(c,R)}function p(){const{_bufferIndex:R,_index:U,line:G,column:ue,offset:he}=i;return{_bufferIndex:R,_index:U,line:G,column:ue,offset:he}}function v(R){s[R.line]=R.column,Y()}function A(){let R;for(;i._index<c.length;){const U=c[i._index];if(typeof U=="string")for(R=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===R&&i._bufferIndex<U.length;)w(U.charCodeAt(i._bufferIndex));else w(U)}}function w(R){d=d(R)}function P(R){markdownLineEnding(R)?(i.line++,i.column=1,i.offset+=R===-3?2:1,Y()):R!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===c[i._index].length&&(i._bufferIndex=-1,i._index++)),h.previous=R}function Z(R,U){const G=U||{};return G.type=R,G.start=p(),h.events.push(["enter",G,h]),m.push(G),G}function Q(R){const U=m.pop();return U.end=p(),h.events.push(["exit",U,h]),U}function z(R,U){T(R,U.from)}function K(R,U){U.restore()}function j(R,U){return G;function G(ue,he,se){let ee,W,$,S;return Array.isArray(ue)?ae(ue):"tokenize"in ue?ae([ue]):J(ue);function J(H){return ne;function ne(oe){const me=oe!==null&&H[oe],ve=oe!==null&&H.null,ye=[...Array.isArray(me)?me:me?[me]:[],...Array.isArray(ve)?ve:ve?[ve]:[]];return ae(ye)(oe)}}function ae(H){return ee=H,W=0,H.length===0?se:D(H[W])}function D(H){return ne;function ne(oe){return S=I(),$=H,H.partial||(h.currentConstruct=H),H.name&&h.parser.constructs.disable.null.includes(H.name)?ce():H.tokenize.call(U?Object.assign(Object.create(h),U):h,_,de,ce)(oe)}}function de(H){return R($,S),he}function ce(H){return S.restore(),++W<ee.length?D(ee[W]):se}}}function T(R,U){R.resolveAll&&!o.includes(R)&&o.push(R),R.resolve&&splice(h.events,U,h.events.length-U,R.resolve(h.events.slice(U),h)),R.resolveTo&&(h.events=R.resolveTo(h.events,h))}function I(){const R=p(),U=h.previous,G=h.currentConstruct,ue=h.events.length,he=Array.from(m);return{from:ue,restore:se};function se(){i=R,h.previous=U,h.currentConstruct=G,h.events.length=ue,m=he,Y()}}function Y(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function sliceChunks(t,e){const n=e.start._index,i=e.start._bufferIndex,s=e.end._index,o=e.end._bufferIndex;let c;if(n===s)c=[t[n].slice(i,o)];else{if(c=t.slice(n,s),i>-1){const m=c[0];typeof m=="string"?c[0]=m.slice(i):c.shift()}o>0&&c.push(t[s].slice(0,o))}return c}function serializeChunks(t,e){let n=-1;const i=[];let s;for(;++n<t.length;){const o=t[n];let c;if(typeof o=="string")c=o;else switch(o){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=e?" ":"	";break}case-1:{if(!e&&s)continue;c=" ";break}default:c=String.fromCharCode(o)}s=o===-2,i.push(c)}return i.join("")}function parse(t){const i={constructs:combineExtensions([defaultConstructs,...(t||{}).extensions||[]]),content:s(content$1),defined:[],document:s(document$2),flow:s(flow$1),lazy:{},string:s(string$1),text:s(text$2)};return i;function s(o){return c;function c(m){return createTokenizer(i,o,m)}}}function postprocess(t){for(;!subtokenize(t););return t}const search=/[\0\t\n\r]/g;function preprocess(){let t=1,e="",n=!0,i;return s;function s(o,c,m){const _=[];let h,d,f,b,y;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(c||void 0).decode(o)),f=0,e="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(search.lastIndex=f,h=search.exec(o),b=h&&h.index!==void 0?h.index:o.length,y=o.charCodeAt(b),!h){e=o.slice(f);break}if(y===10&&f===b&&i)_.push(-3),i=void 0;else switch(i&&(_.push(-5),i=void 0),f<b&&(_.push(o.slice(f,b)),t+=b-f),y){case 0:{_.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,_.push(-2);t++<d;)_.push(-1);break}case 10:{_.push(-4),t=1;break}default:i=!0,t=1}f=b+1}return m&&(i&&_.push(-5),e&&_.push(e),_.push(null)),_}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(t){return t.replace(characterEscapeOrReference,decode)}function decode(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return decodeNumericCharacterReference(n.slice(o?2:1),o?16:10)}return decodeNamedCharacterReference(n)||t}const own$2={}.hasOwnProperty;function fromMarkdown(t,e,n){return typeof e!="string"&&(n=e,e=void 0),compiler(n)(postprocess(parse(n).document().write(preprocess()(t,e,!0))))}function compiler(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(De),autolinkProtocol:I,autolinkEmail:I,atxHeading:o(Le),blockQuote:o(ve),characterEscape:I,characterReference:I,codeFenced:o(ye),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:o(ye,c),codeText:o(xe,c),codeTextData:I,data:I,codeFlowValue:I,definition:o(je),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:o(Je),hardBreakEscape:o(qe),hardBreakTrailing:o(qe),htmlFlow:o(ze,c),htmlFlowData:I,htmlText:o(ze,c),htmlTextData:I,image:o(ke),label:c,link:o(De),listItem:o(Xe),listItemValue:b,listOrdered:o(tt,f),listUnordered:o(tt),paragraph:o(rt),reference:D,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:o(Le),strong:o(pt),thematicBreak:o(Pt)},exit:{atxHeading:_(),atxHeadingSequence:z,autolink:_(),autolinkEmail:me,autolinkProtocol:oe,blockQuote:_(),characterEscapeValue:Y,characterReferenceMarkerHexadecimal:ce,characterReferenceMarkerNumeric:ce,characterReferenceValue:H,characterReference:ne,codeFenced:_(A),codeFencedFence:v,codeFencedFenceInfo:y,codeFencedFenceMeta:p,codeFlowValue:Y,codeIndented:_(w),codeText:_(he),codeTextData:Y,data:Y,definition:_(),definitionDestinationString:Q,definitionLabelString:P,definitionTitleString:Z,emphasis:_(),hardBreakEscape:_(U),hardBreakTrailing:_(U),htmlFlow:_(G),htmlFlowData:Y,htmlText:_(ue),htmlTextData:Y,image:_(ee),label:$,labelText:W,lineEnding:R,link:_(se),listItem:_(),listOrdered:_(),listUnordered:_(),paragraph:_(),referenceString:de,resourceDestinationString:S,resourceTitleString:J,resource:ae,setextHeading:_(T),setextHeadingLineSequence:j,setextHeadingText:K,strong:_(),thematicBreak:_()}};configure(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(Be){let Ve={type:"root",children:[]};const mt={stack:[Ve],tokenStack:[],config:e,enter:m,exit:h,buffer:c,resume:d,data:n},ht=[];let wt=-1;for(;++wt<Be.length;)if(Be[wt][1].type==="listOrdered"||Be[wt][1].type==="listUnordered")if(Be[wt][0]==="enter")ht.push(wt);else{const Ut=ht.pop();wt=s(Be,Ut,wt)}for(wt=-1;++wt<Be.length;){const Ut=e[Be[wt][0]];own$2.call(Ut,Be[wt][1].type)&&Ut[Be[wt][1].type].call(Object.assign({sliceSerialize:Be[wt][2].sliceSerialize},mt),Be[wt][1])}if(mt.tokenStack.length>0){const Ut=mt.tokenStack[mt.tokenStack.length-1];(Ut[1]||defaultOnError).call(mt,void 0,Ut[0])}for(Ve.position={start:point(Be.length>0?Be[0][1].start:{line:1,column:1,offset:0}),end:point(Be.length>0?Be[Be.length-2][1].end:{line:1,column:1,offset:0})},wt=-1;++wt<e.transforms.length;)Ve=e.transforms[wt](Ve)||Ve;return Ve}function s(Be,Ve,mt){let ht=Ve-1,wt=-1,Ut=!1,gn,Gt,et,Pe;for(;++ht<=mt;){const Te=Be[ht];switch(Te[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Te[0]==="enter"?wt++:wt--,Pe=void 0;break}case"lineEndingBlank":{Te[0]==="enter"&&(gn&&!Pe&&!wt&&!et&&(et=ht),Pe=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Pe=void 0}if(!wt&&Te[0]==="enter"&&Te[1].type==="listItemPrefix"||wt===-1&&Te[0]==="exit"&&(Te[1].type==="listUnordered"||Te[1].type==="listOrdered")){if(gn){let ct=ht;for(Gt=void 0;ct--;){const zt=Be[ct];if(zt[1].type==="lineEnding"||zt[1].type==="lineEndingBlank"){if(zt[0]==="exit")continue;Gt&&(Be[Gt][1].type="lineEndingBlank",Ut=!0),zt[1].type="lineEnding",Gt=ct}else if(!(zt[1].type==="linePrefix"||zt[1].type==="blockQuotePrefix"||zt[1].type==="blockQuotePrefixWhitespace"||zt[1].type==="blockQuoteMarker"||zt[1].type==="listItemIndent"))break}et&&(!Gt||et<Gt)&&(gn._spread=!0),gn.end=Object.assign({},Gt?Be[Gt][1].start:Te[1].end),Be.splice(Gt||ht,0,["exit",gn,Te[2]]),ht++,mt++}if(Te[1].type==="listItemPrefix"){const ct={type:"listItem",_spread:!1,start:Object.assign({},Te[1].start),end:void 0};gn=ct,Be.splice(ht,0,["enter",ct,Te[2]]),ht++,mt++,et=void 0,Pe=!0}}}return Be[Ve][1]._spread=Ut,mt}function o(Be,Ve){return mt;function mt(ht){m.call(this,Be(ht),ht),Ve&&Ve.call(this,ht)}}function c(){this.stack.push({type:"fragment",children:[]})}function m(Be,Ve,mt){this.stack[this.stack.length-1].children.push(Be),this.stack.push(Be),this.tokenStack.push([Ve,mt||void 0]),Be.position={start:point(Ve.start),end:void 0}}function _(Be){return Ve;function Ve(mt){Be&&Be.call(this,mt),h.call(this,mt)}}function h(Be,Ve){const mt=this.stack.pop(),ht=this.tokenStack.pop();if(ht)ht[0].type!==Be.type&&(Ve?Ve.call(this,Be,ht[0]):(ht[1]||defaultOnError).call(this,Be,ht[0]));else throw new Error("Cannot close `"+Be.type+"` ("+stringifyPosition({start:Be.start,end:Be.end})+"): its not open");mt.position.end=point(Be.end)}function d(){return toString$1(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function b(Be){if(this.data.expectingFirstListItemValue){const Ve=this.stack[this.stack.length-2];Ve.start=Number.parseInt(this.sliceSerialize(Be),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Be=this.resume(),Ve=this.stack[this.stack.length-1];Ve.lang=Be}function p(){const Be=this.resume(),Ve=this.stack[this.stack.length-1];Ve.meta=Be}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const Be=this.resume(),Ve=this.stack[this.stack.length-1];Ve.value=Be.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const Be=this.resume(),Ve=this.stack[this.stack.length-1];Ve.value=Be.replace(/(\r?\n|\r)$/g,"")}function P(Be){const Ve=this.resume(),mt=this.stack[this.stack.length-1];mt.label=Ve,mt.identifier=normalizeIdentifier(this.sliceSerialize(Be)).toLowerCase()}function Z(){const Be=this.resume(),Ve=this.stack[this.stack.length-1];Ve.title=Be}function Q(){const Be=this.resume(),Ve=this.stack[this.stack.length-1];Ve.url=Be}function z(Be){const Ve=this.stack[this.stack.length-1];if(!Ve.depth){const mt=this.sliceSerialize(Be).length;Ve.depth=mt}}function K(){this.data.setextHeadingSlurpLineEnding=!0}function j(Be){const Ve=this.stack[this.stack.length-1];Ve.depth=this.sliceSerialize(Be).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function I(Be){const mt=this.stack[this.stack.length-1].children;let ht=mt[mt.length-1];(!ht||ht.type!=="text")&&(ht=vt(),ht.position={start:point(Be.start),end:void 0},mt.push(ht)),this.stack.push(ht)}function Y(Be){const Ve=this.stack.pop();Ve.value+=this.sliceSerialize(Be),Ve.position.end=point(Be.end)}function R(Be){const Ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const mt=Ve.children[Ve.children.length-1];mt.position.end=point(Be.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ve.type)&&(I.call(this,Be),Y.call(this,Be))}function U(){this.data.atHardBreak=!0}function G(){const Be=this.resume(),Ve=this.stack[this.stack.length-1];Ve.value=Be}function ue(){const Be=this.resume(),Ve=this.stack[this.stack.length-1];Ve.value=Be}function he(){const Be=this.resume(),Ve=this.stack[this.stack.length-1];Ve.value=Be}function se(){const Be=this.stack[this.stack.length-1];if(this.data.inReference){const Ve=this.data.referenceType||"shortcut";Be.type+="Reference",Be.referenceType=Ve,delete Be.url,delete Be.title}else delete Be.identifier,delete Be.label;this.data.referenceType=void 0}function ee(){const Be=this.stack[this.stack.length-1];if(this.data.inReference){const Ve=this.data.referenceType||"shortcut";Be.type+="Reference",Be.referenceType=Ve,delete Be.url,delete Be.title}else delete Be.identifier,delete Be.label;this.data.referenceType=void 0}function W(Be){const Ve=this.sliceSerialize(Be),mt=this.stack[this.stack.length-2];mt.label=decodeString(Ve),mt.identifier=normalizeIdentifier(Ve).toLowerCase()}function $(){const Be=this.stack[this.stack.length-1],Ve=this.resume(),mt=this.stack[this.stack.length-1];if(this.data.inReference=!0,mt.type==="link"){const ht=Be.children;mt.children=ht}else mt.alt=Ve}function S(){const Be=this.resume(),Ve=this.stack[this.stack.length-1];Ve.url=Be}function J(){const Be=this.resume(),Ve=this.stack[this.stack.length-1];Ve.title=Be}function ae(){this.data.inReference=void 0}function D(){this.data.referenceType="collapsed"}function de(Be){const Ve=this.resume(),mt=this.stack[this.stack.length-1];mt.label=Ve,mt.identifier=normalizeIdentifier(this.sliceSerialize(Be)).toLowerCase(),this.data.referenceType="full"}function ce(Be){this.data.characterReferenceType=Be.type}function H(Be){const Ve=this.sliceSerialize(Be),mt=this.data.characterReferenceType;let ht;mt?(ht=decodeNumericCharacterReference(Ve,mt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ht=decodeNamedCharacterReference(Ve);const wt=this.stack[this.stack.length-1];wt.value+=ht}function ne(Be){const Ve=this.stack.pop();Ve.position.end=point(Be.end)}function oe(Be){Y.call(this,Be);const Ve=this.stack[this.stack.length-1];Ve.url=this.sliceSerialize(Be)}function me(Be){Y.call(this,Be);const Ve=this.stack[this.stack.length-1];Ve.url="mailto:"+this.sliceSerialize(Be)}function ve(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function xe(){return{type:"inlineCode",value:""}}function je(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Je(){return{type:"emphasis",children:[]}}function Le(){return{type:"heading",depth:0,children:[]}}function qe(){return{type:"break"}}function ze(){return{type:"html",value:""}}function ke(){return{type:"image",title:null,url:"",alt:null}}function De(){return{type:"link",title:null,url:"",children:[]}}function tt(Be){return{type:"list",ordered:Be.type==="listOrdered",start:null,spread:Be._spread,children:[]}}function Xe(Be){return{type:"listItem",spread:Be._spread,checked:null,children:[]}}function rt(){return{type:"paragraph",children:[]}}function pt(){return{type:"strong",children:[]}}function vt(){return{type:"text",value:""}}function Pt(){return{type:"thematicBreak"}}}function point(t){return{line:t.line,column:t.column,offset:t.offset}}function configure(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?configure(t,i):extension(t,i)}}function extension(t,e){let n;for(n in e)if(own$2.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function defaultOnError(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+stringifyPosition({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+stringifyPosition({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+stringifyPosition({start:e.start,end:e.end})+") is still open")}function remarkParse(t){const e=this;e.parser=n;function n(i){return fromMarkdown(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function blockquote(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function hardBreak(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function code(t,e){const n=e.value?e.value+`
`:"",i={};e.lang&&(i.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function strikethrough(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function emphasis(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function footnoteReference(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),s=normalizeUri(i.toLowerCase()),o=t.footnoteOrder.indexOf(i);let c,m=t.footnoteCounts.get(i);m===void 0?(m=0,t.footnoteOrder.push(i),c=t.footnoteOrder.length):c=o+1,m+=1,t.footnoteCounts.set(i,m);const _={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(m>1?"-"+m:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(e,_);const h={type:"element",tagName:"sup",properties:{},children:[_]};return t.patch(e,h),t.applyData(e,h)}function heading(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function html(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function revert(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const s=t.all(e),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const c=s[s.length-1];return c&&c.type==="text"?c.value+=i:s.push({type:"text",value:i}),s}function imageReference(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return revert(t,e);const s={src:normalizeUri(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,o),t.applyData(e,o)}function image(t,e){const n={src:normalizeUri(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function inlineCode(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function linkReference(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return revert(t,e);const s={href:normalizeUri(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function link(t,e){const n={href:normalizeUri(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function listItem(t,e,n){const i=t.all(e),s=n?listLoose(n):listItemLoose(e),o={},c=[];if(typeof e.checked=="boolean"){const d=i[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},i.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let m=-1;for(;++m<i.length;){const d=i[m];(s||m!==0||d.type!=="element"||d.tagName!=="p")&&c.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!s?c.push(...d.children):c.push(d)}const _=i[i.length-1];_&&(s||_.type!=="element"||_.tagName!=="p")&&c.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:o,children:c};return t.patch(e,h),t.applyData(e,h)}function listLoose(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=listItemLoose(n[i])}return e}function listItemLoose(t){const e=t.spread;return e??t.children.length>1}function list(t,e){const n={},i=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<i.length;){const c=i[s];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function paragraph(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function root(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function strong(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function table(t,e){const n=t.all(e),i=n.shift(),s=[];if(i){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],c),s.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},m=pointStart(e.children[1]),_=pointEnd(e.children[e.children.length-1]);m&&_&&(c.position={start:m,end:_}),s.push(c)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,o),t.applyData(e,o)}function tableRow(t,e,n){const i=n?n.children:void 0,o=(i?i.indexOf(e):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,m=c?c.length:e.children.length;let _=-1;const h=[];for(;++_<m;){const f=e.children[_],b={},y=c?c[_]:void 0;y&&(b.align=y);let p={type:"element",tagName:o,properties:b,children:[]};f&&(p.children=t.all(f),t.patch(f,p),p=t.applyData(f,p)),h.push(p)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,d),t.applyData(e,d)}function tableCell(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const tab=9,space=32;function trimLines(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),s=0;const o=[];for(;i;)o.push(trimLine(e.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(e);return o.push(trimLine(e.slice(s),s>0,!1)),o.join("")}function trimLine(t,e,n){let i=0,s=t.length;if(e){let o=t.codePointAt(i);for(;o===tab||o===space;)i++,o=t.codePointAt(i)}if(n){let o=t.codePointAt(s-1);for(;o===tab||o===space;)s--,o=t.codePointAt(s-1)}return s>i?t.slice(i,s):""}function text(t,e){const n={type:"text",value:trimLines(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function thematicBreak(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const handlers={blockquote,break:hardBreak,code,delete:strikethrough,emphasis,footnoteReference,heading,html,imageReference,image,inlineCode,linkReference,link,listItem,list,paragraph,root,strong,table,tableCell,tableRow,text,thematicBreak,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(t,e)=>{const n=(s,o)=>(t.set(o,s),s),i=s=>{if(t.has(s))return t.get(s);const[o,c]=e[s];switch(o){case PRIMITIVE:case VOID:return n(c,s);case ARRAY:{const m=n([],s);for(const _ of c)m.push(i(_));return m}case OBJECT:{const m=n({},s);for(const[_,h]of c)m[i(_)]=i(h);return m}case DATE:return n(new Date(c),s);case REGEXP:{const{source:m,flags:_}=c;return n(new RegExp(m,_),s)}case MAP:{const m=n(new Map,s);for(const[_,h]of c)m.set(i(_),i(h));return m}case SET:{const m=n(new Set,s);for(const _ of c)m.add(i(_));return m}case ERROR:{const{name:m,message:_}=c;return n(new env[m](_),s)}case BIGINT:return n(BigInt(c),s);case"BigInt":return n(Object(BigInt(c)),s);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:m}=new Uint8Array(c);return n(new DataView(m),c)}}return n(new env[o](c),s)};return i},deserialize=t=>deserializer(new Map,t)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=t=>{const e=typeof t;if(e!=="object"||!t)return[PRIMITIVE,e];const n=toString.call(t).slice(8,-1);switch(n){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,n]}return n.includes("Array")?[ARRAY,n]:n.includes("Error")?[ERROR,n]:[OBJECT,n]},shouldSkip=([t,e])=>t===PRIMITIVE&&(e==="function"||e==="symbol"),serializer=(t,e,n,i)=>{const s=(c,m)=>{const _=i.push(c)-1;return n.set(m,_),_},o=c=>{if(n.has(c))return n.get(c);let[m,_]=typeOf(c);switch(m){case PRIMITIVE:{let d=c;switch(_){case"bigint":m=BIGINT,d=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+_);d=null;break;case"undefined":return s([VOID],c)}return s([m,d],c)}case ARRAY:{if(_){let b=c;return _==="DataView"?b=new Uint8Array(c.buffer):_==="ArrayBuffer"&&(b=new Uint8Array(c)),s([_,[...b]],c)}const d=[],f=s([m,d],c);for(const b of c)d.push(o(b));return f}case OBJECT:{if(_)switch(_){case"BigInt":return s([_,c.toString()],c);case"Boolean":case"Number":case"String":return s([_,c.valueOf()],c)}if(e&&"toJSON"in c)return o(c.toJSON());const d=[],f=s([m,d],c);for(const b of keys(c))(t||!shouldSkip(typeOf(c[b])))&&d.push([o(b),o(c[b])]);return f}case DATE:return s([m,c.toISOString()],c);case REGEXP:{const{source:d,flags:f}=c;return s([m,{source:d,flags:f}],c)}case MAP:{const d=[],f=s([m,d],c);for(const[b,y]of c)(t||!(shouldSkip(typeOf(b))||shouldSkip(typeOf(y))))&&d.push([o(b),o(y)]);return f}case SET:{const d=[],f=s([m,d],c);for(const b of c)(t||!shouldSkip(typeOf(b)))&&d.push(o(b));return f}}const{message:h}=c;return s([m,{name:_,message:h}],c)};return o},serialize=(t,{json:e,lossy:n}={})=>{const i=[];return serializer(!(e||n),!!e,new Map,i)(t),i},structuredClone$1=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?deserialize(serialize(t,e)):structuredClone(t):(t,e)=>deserialize(serialize(t,e));function defaultFootnoteBackContent(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function defaultFootnoteBackLabel(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function footer(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||defaultFootnoteBackContent,i=t.options.footnoteBackLabel||defaultFootnoteBackLabel,s=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},m=[];let _=-1;for(;++_<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[_]);if(!h)continue;const d=t.all(h),f=String(h.identifier).toUpperCase(),b=normalizeUri(f.toLowerCase());let y=0;const p=[],v=t.footnoteCounts.get(f);for(;v!==void 0&&++y<=v;){p.length>0&&p.push({type:"text",value:" "});let P=typeof n=="string"?n:n(_,y);typeof P=="string"&&(P={type:"text",value:P}),p.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+b+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(_,y),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const A=d[d.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const P=A.children[A.children.length-1];P&&P.type==="text"?P.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...p)}else d.push(...p);const w={type:"element",tagName:"li",properties:{id:e+"fn-"+b},children:t.wrap(d,!0)};t.patch(h,w),m.push(w)}if(m.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...structuredClone$1(c),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(m,!0)},{type:"text",value:`
`}]}}const convert=function(t){if(t==null)return ok;if(typeof t=="function")return castFactory(t);if(typeof t=="object")return Array.isArray(t)?anyFactory(t):propsFactory(t);if(typeof t=="string")return typeFactory(t);throw new Error("Expected function, string, or object as test")};function anyFactory(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=convert(t[n]);return castFactory(i);function i(...s){let o=-1;for(;++o<e.length;)if(e[o].apply(this,s))return!0;return!1}}function propsFactory(t){const e=t;return castFactory(n);function n(i){const s=i;let o;for(o in t)if(s[o]!==e[o])return!1;return!0}}function typeFactory(t){return castFactory(e);function e(n){return n&&n.type===t}}function castFactory(t){return e;function e(n,i,s){return!!(looksLikeANode(n)&&t.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}function ok(){return!0}function looksLikeANode(t){return t!==null&&typeof t=="object"&&"type"in t}function color(t){return t}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(t,e,n,i){let s;typeof e=="function"&&typeof n!="function"?(i=n,n=e):s=e;const o=convert(s),c=i?-1:1;m(t,void 0,[])();function m(_,h,d){const f=_&&typeof _=="object"?_:{};if(typeof f.type=="string"){const y=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(_.type+(y?"<"+y+">":""))+")"})}return b;function b(){let y=empty,p,v,A;if((!e||o(_,h,d[d.length-1]||void 0))&&(y=toResult(n(_,d)),y[0]===EXIT))return y;if("children"in _&&_.children){const w=_;if(w.children&&y[0]!==SKIP)for(v=(i?w.children.length:-1)+c,A=d.concat(w);v>-1&&v<w.children.length;){const P=w.children[v];if(p=m(P,v,A)(),p[0]===EXIT)return p;v=typeof p[1]=="number"?p[1]:v+c}}return y}}}function toResult(t){return Array.isArray(t)?t:typeof t=="number"?[CONTINUE,t]:t==null?empty:[t]}function visit(t,e,n,i){let s,o,c;typeof e=="function"&&typeof n!="function"?(o=void 0,c=e,s=n):(o=e,c=n,s=i),visitParents(t,o,m,s);function m(_,h){const d=h[h.length-1],f=d?d.children.indexOf(_):void 0;return c(_,f,d)}}const own$1={}.hasOwnProperty,emptyOptions={};function createState(t,e){const n=e||emptyOptions,i=new Map,s=new Map,o=new Map,c={...handlers,...n.handlers},m={all:h,applyData,definitionById:i,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:c,one:_,options:n,patch,wrap:wrap$1};return visit(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?i:s,b=String(d.identifier).toUpperCase();f.has(b)||f.set(b,d)}}),m;function _(d,f){const b=d.type,y=m.handlers[b];if(own$1.call(m.handlers,b)&&y)return y(m,d,f);if(m.options.passThrough&&m.options.passThrough.includes(b)){if("children"in d){const{children:v,...A}=d,w=structuredClone$1(A);return w.children=m.all(d),w}return structuredClone$1(d)}return(m.options.unknownHandler||defaultUnknownHandler)(m,d,f)}function h(d){const f=[];if("children"in d){const b=d.children;let y=-1;for(;++y<b.length;){const p=m.one(b[y],d);if(p){if(y&&b[y-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=trimMarkdownSpaceStart(p.value)),!Array.isArray(p)&&p.type==="element")){const v=p.children[0];v&&v.type==="text"&&(v.value=trimMarkdownSpaceStart(v.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function patch(t,e){t.position&&(e.position=position$1(t))}function applyData(t,e){let n=e;if(t&&t.data){const i=t.data.hName,s=t.data.hChildren,o=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const c="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:c}}n.type==="element"&&o&&Object.assign(n.properties,structuredClone$1(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function defaultUnknownHandler(t,e){const n=e.data||{},i="value"in e&&!(own$1.call(n,"hProperties")||own$1.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function wrap$1(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function trimMarkdownSpaceStart(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function toHast(t,e){const n=createState(t,e),i=n.one(t,void 0),s=footer(n),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function remarkRehype(t,e){return t&&"run"in t?async function(n,i){const s=toHast(n,{file:i,...e});await t.run(s,i)}:function(n,i){return toHast(n,{file:i,...t||e})}}function bail(t){if(t)throw t}var extend$1,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend$1;hasRequiredExtend=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},o=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var d=t.call(h,"constructor"),f=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!d&&!f)return!1;var b;for(b in h);return typeof b>"u"||t.call(h,b)},c=function(h,d){n&&d.name==="__proto__"?n(h,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):h[d.name]=d.newValue},m=function(h,d){if(d==="__proto__")if(t.call(h,d)){if(i)return i(h,d).value}else return;return h[d]};return extend$1=function _(){var h,d,f,b,y,p,v=arguments[0],A=1,w=arguments.length,P=!1;for(typeof v=="boolean"&&(P=v,v=arguments[1]||{},A=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});A<w;++A)if(h=arguments[A],h!=null)for(d in h)f=m(v,d),b=m(h,d),v!==b&&(P&&b&&(o(b)||(y=s(b)))?(y?(y=!1,p=f&&s(f)?f:[]):p=f&&o(f)?f:{},c(v,{name:d,newValue:_(P,p,b)})):typeof b<"u"&&c(v,{name:d,newValue:b}));return v},extend$1}var extendExports=requireExtend();const extend=getDefaultExportFromCjs(extendExports);function isPlainObject(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function trough(){const t=[],e={run:n,use:i};return e;function n(...s){let o=-1;const c=s.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);m(null,...s);function m(_,...h){const d=t[++o];let f=-1;if(_){c(_);return}for(;++f<s.length;)(h[f]===null||h[f]===void 0)&&(h[f]=s[f]);s=h,d?wrap(d,m)(...h):c(null,...h)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function wrap(t,e){let n;return i;function i(...c){const m=t.length>c.length;let _;m&&c.push(s);try{_=t.apply(this,c)}catch(h){const d=h;if(m&&n)throw d;return s(d)}m||(_&&_.then&&typeof _.then=="function"?_.then(o,s):_ instanceof Error?s(_):o(_))}function s(c,...m){n||(n=!0,e(c,...m))}function o(c){s(null,c)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(t);let n=0,i=-1,s=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else i<0&&(o=!0,i=s+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let c=-1,m=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else c<0&&(o=!0,c=s+1),m>-1&&(t.codePointAt(s)===e.codePointAt(m--)?m<0&&(i=s):(m=-1,i=c));return n===i?i=c:i<0&&(i=t.length),t.slice(n,i)}function dirname(t){if(assertPath$1(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function extname(t){assertPath$1(t);let e=t.length,n=-1,i=0,s=-1,o=0,c;for(;e--;){const m=t.codePointAt(e);if(m===47){if(c){i=e+1;break}continue}n<0&&(c=!0,n=e+1),m===46?s<0?s=e:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===i+1?"":t.slice(s,n)}function join(...t){let e=-1,n;for(;++e<t.length;)assertPath$1(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":normalize(n)}function normalize(t){assertPath$1(t);const e=t.codePointAt(0)===47;let n=normalizeString(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function normalizeString(t,e){let n="",i=0,s=-1,o=0,c=-1,m,_;for(;++c<=t.length;){if(c<t.length)m=t.codePointAt(c);else{if(m===47)break;m=47}if(m===47){if(!(s===c-1||o===1))if(s!==c-1&&o===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(_=n.lastIndexOf("/"),_!==n.length-1){_<0?(n="",i=0):(n=n.slice(0,_),i=n.length-1-n.lastIndexOf("/")),s=c,o=0;continue}}else if(n.length>0){n="",i=0,s=c,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(s+1,c):n=t.slice(s+1,c),i=c-s-1;s=c,o=0}else m===46&&o>-1?o++:o=-1}return n}function assertPath$1(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const minproc={cwd};function cwd(){return"/"}function isUrl(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function urlToPath(t){if(typeof t=="string")t=new URL(t);else if(!isUrl(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return getPathFromURLPosix(t)}function getPathFromURLPosix(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(e){let n;e?isUrl(e)?n={path:e}:typeof e=="string"||isUint8Array$1(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<order.length;){const o=order[i];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)order.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(e){assertNonEmpty(e,"basename"),assertPart(e,"basename"),this.path=minpath.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(e){assertPath(this.basename,"dirname"),this.path=minpath.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(e){if(assertPart(e,"extname"),assertPath(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){isUrl(e)&&(e=urlToPath(e)),assertNonEmpty(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(e){assertNonEmpty(e,"stem"),assertPart(e,"stem"),this.path=minpath.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const s=this.message(e,n,i);throw s.fatal=!0,s}info(e,n,i){const s=this.message(e,n,i);return s.fatal=void 0,s}message(e,n,i){const s=new VFileMessage(e,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function assertPart(t,e){if(t&&t.includes(minpath.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function assertPath(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function isUint8Array$1(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const CallableInstance=function(t){const i=this.constructor.prototype,s=i[t],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,i),o},own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const e=new Processor;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(extend(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[e]=n,this):own.call(this.namespace,e)&&this.namespace[e]||void 0:e?(assertUnfrozen("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=n.call(e,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=vfile(e),i=this.parser||this.Parser;return assertParser("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,c){const m=vfile(e),_=i.parse(m);i.run(_,m,function(d,f,b){if(d||!f||!b)return h(d);const y=f,p=i.stringify(y,b);looksLikeAValue(p)?b.value=p:b.result=p,h(d,b)});function h(d,f){d||!f?c(d):o?o(f):n(void 0,f)}}}processSync(e){let n=!1,i;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(e,s),assertDone("processSync","process",n),i;function s(o,c){n=!0,bail(o),i=c}}run(e,n,i){assertNode(e),this.freeze();const s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?o(void 0,i):new Promise(o);function o(c,m){const _=vfile(n);s.run(e,_,h);function h(d,f,b){const y=f||e;d?m(d):c?c(y):i(void 0,y,b)}}}runSync(e,n){let i=!1,s;return this.run(e,n,o),assertDone("runSync","run",i),s;function o(c,m){bail(c),s=m,i=!0}}stringify(e,n){this.freeze();const i=vfile(n),s=this.compiler||this.Compiler;return assertCompiler("stringify",s),assertNode(e),s(e,i)}use(e,...n){const i=this.attachers,s=this.namespace;if(assertUnfrozen("use",this.frozen),e!=null)if(typeof e=="function")_(e,n);else if(typeof e=="object")Array.isArray(e)?m(e):c(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(h){if(typeof h=="function")_(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[d,...f]=h;_(d,f)}else c(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function c(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");m(h.plugins),h.settings&&(s.settings=extend(!0,s.settings,h.settings))}function m(h){let d=-1;if(h!=null)if(Array.isArray(h))for(;++d<h.length;){const f=h[d];o(f)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function _(h,d){let f=-1,b=-1;for(;++f<i.length;)if(i[f][0]===h){b=f;break}if(b===-1)i.push([h,...d]);else if(d.length>0){let[y,...p]=d;const v=i[b][1];isPlainObject(v)&&isPlainObject(y)&&(y=extend(!0,v,y)),i[b]=[h,y,...p]}}}}const unified=new Processor().freeze();function assertParser(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function assertCompiler(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function assertUnfrozen(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(t){if(!isPlainObject(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function assertDone(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function vfile(t){return looksLikeAVFile(t)?t:new VFile(t)}function looksLikeAVFile(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function looksLikeAValue(t){return typeof t=="string"||isUint8Array(t)}function isUint8Array(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(t){const e=createProcessor(t),n=createFile(t);return post(e.runSync(e.parse(n),n),t)}function createProcessor(t){const e=t.rehypePlugins||emptyPlugins,n=t.remarkPlugins||emptyPlugins,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(n).use(remarkRehype,i).use(e)}function createFile(t){const e=t.children||"",n=new VFile;return typeof e=="string"&&(n.value=e),n}function post(t,e){const n=e.allowedElements,i=e.allowElement,s=e.components,o=e.disallowedElements,c=e.skipHtml,m=e.unwrapDisallowed,_=e.urlTransform||defaultUrlTransform;for(const d of deprecations)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+changelog+d.id,void 0);return visit(t,h),toJsxRuntime(t,{Fragment:jsxRuntimeExports.Fragment,components:s,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function h(d,f,b){if(d.type==="raw"&&b&&typeof f=="number")return c?b.children.splice(f,1):b.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let y;for(y in urlAttributes)if(Object.hasOwn(urlAttributes,y)&&Object.hasOwn(d.properties,y)){const p=d.properties[y],v=urlAttributes[y];(v===null||v.includes(d.tagName))&&(d.properties[y]=_(String(p||""),y,d))}}if(d.type==="element"){let y=n?!n.includes(d.tagName):o?o.includes(d.tagName):!1;if(!y&&i&&typeof f=="number"&&(y=!i(d,f,b)),y&&b&&typeof f=="number")return m&&d.children?b.children.splice(f,1,...d.children):b.children.splice(f,1),f}}}function defaultUrlTransform(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||i!==-1&&e>i||safeProtocol.test(t.slice(0,e))?t:""}function Model2results({file:t,url:e,mode:n,isLoading:i,setIsLoading:s,onNewScan:o,viewerRef:c,fileUrl:m,response:_}){const h=libExports$1.defaultLayoutPlugin(),d=libExports.highlightPlugin(),{jumpToHighlightArea:f}=d,[b,y]=reactExports.useState(null),[p,v]=reactExports.useState(""),[A,w]=reactExports.useState(0),[P,Z]=reactExports.useState([{type:"ai",text:`Hello! I've analyzed your ${n==="pdf"?"PDF document":"YouTube video"}. What would you like to know about it?`}]);console.log(_);const Q=async()=>{if(!p.trim())return;const T={type:"user",text:p};Z(I=>[...I,T]),s(!0);try{let I;if(n==="pdf"){const U=_?.data?.id;I=await askPdfQuestion(U,p)}else if(n==="yt"){const U=_?.data?.id;I=await askYoutubeQuestion(U,p),console.log("Response from YouTube question:",I)}const Y=I?.data?.answer||"No response from server.",R=I?.data?.references||[];Z(U=>[...U,{type:"ai",text:Y},...R.length>0?[{type:"reference-list",references:R}]:[]])}catch{Z(Y=>[...Y,{type:"ai",text:" Error getting answer."}])}finally{s(!1),v("")}};function z(T){try{const I=new URL(T);return I.hostname==="youtu.be"?I.pathname.slice(1):I.hostname.includes("youtube.com")?I.searchParams.get("v"):null}catch{return null}}function K(T){return T.split(":").map(Number).reverse().reduce((Y,R,U)=>Y+R*Math.pow(60,U),0)}const j=T=>{b&&(b.seekTo(T,!0),b.playVideo())};return jsxRuntimeExports.jsxs("section",{className:"w-auto h-auto bg-white dark:bg-slate-800 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-teal-600 rounded-lg",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Analysis Results"}),jsxRuntimeExports.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:n==="pdf"?`${t?.name}`:"YouTube video analysis"})]})]}),jsxRuntimeExports.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-3 py-1.5 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 transition-colors rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"New Scan"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex h-[calc(100vh-80px)] min-h-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full w-3/5 min-w-0 border-r border-slate-200 dark:border-slate-700",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 min-h-0",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[P.map((T,I)=>T.type==="reference-list"?jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-800 dark:text-slate-100",children:jsxRuntimeExports.jsx("div",{className:"mt-3 space-y-2",children:T.references.map(Y=>jsxRuntimeExports.jsx("button",{onClick:()=>{if(n==="pdf")f({pageIndex:Y.page-2});else if(n==="yt"&&Y.timestamp?.start){const R=typeof Y.timestamp.start=="string"?K(Y.timestamp.start):Y.timestamp.start;j(R)}},className:"block text-blue-600 dark:text-blue-400 hover:underline text-left w-full break-words p-2 rounded bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:n==="pdf"?` Page ${Y.page}: ${Y.preview.slice(0,120)}...`:` Timestamp: ${Y.timestamp.start}s  ${Y.text.slice(0,120)}...`},Y.chunk_id))})},I):jsxRuntimeExports.jsx("div",{className:`flex ${T.type==="user"?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsx("div",{className:`${T.type==="user"?"bg-green-100 dark:bg-green-700":"bg-slate-100 dark:bg-slate-700"} rounded-lg p-4 max-w-[85%] min-w-0`,children:T.type==="ai"?jsxRuntimeExports.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-slate-900 dark:text-slate-100 break-words overflow-x-auto",children:jsxRuntimeExports.jsx(Markdown,{children:T.text})}):jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-900 dark:text-slate-100 break-words",children:T.text})})},I)),i&&jsxRuntimeExports.jsx("div",{className:"flex justify-start",children:jsxRuntimeExports.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-lg p-4 max-w-[85%] min-w-0",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-900 dark:text-slate-100",children:"Thinking..."})})})]})}),jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 p-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-700",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("input",{type:"text",value:p,onChange:T=>v(T.target.value),onKeyDown:T=>T.key==="Enter"&&Q(),placeholder:"Ask a question about the content...",className:"flex-1 min-w-0 p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 text-sm"}),jsxRuntimeExports.jsx("button",{onClick:Q,disabled:i,className:"flex-shrink-0 px-6 py-3 bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white rounded-lg transition-colors disabled:opacity-50",children:"Send"})]})})]}),jsxRuntimeExports.jsx("div",{className:"w-2/5 flex flex-col min-w-0",children:jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:n==="pdf"?jsxRuntimeExports.jsx("div",{className:"h-full bg-slate-100 dark:bg-slate-700 overflow-y-auto",children:t?jsxRuntimeExports.jsx(libExports$2.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx("div",{className:"h-full overflow-y-auto bg-white dark:bg-slate-800",children:jsxRuntimeExports.jsx(libExports$2.Viewer,{ref:c,fileUrl:m,plugins:[h,d],renderLoader:T=>jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mb-2"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Loading PDF... ",Math.round(T),"%"]})]})}),theme:{theme:"auto"}})})}):jsxRuntimeExports.jsx("div",{className:"text-center text-slate-500 dark:text-slate-400 h-full flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),jsxRuntimeExports.jsx("p",{children:"PDF not loaded"})]})})}):jsxRuntimeExports.jsx("div",{className:"h-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-full h-full",children:e?jsxRuntimeExports.jsx(YouTube_default,{videoId:z(e),opts:{width:"100%",height:"100%",playerVars:{autoplay:1}},onReady:T=>y(T.target),className:"w-full h-full"}):jsxRuntimeExports.jsx("div",{className:"text-center text-slate-500 dark:text-slate-400",children:"No video URL provided."})})})})})]})]})}function Scanner(){const[t,e]=reactExports.useState("pdf"),[n,i]=reactExports.useState(null),[s,o]=reactExports.useState(""),[c,m]=reactExports.useState(!1),[_,h]=reactExports.useState(null),[d,f]=reactExports.useState(""),b=reactExports.useRef(null),[y,p]=reactExports.useState("form"),[v,A]=reactExports.useState(""),[w,P]=reactExports.useState([{type:"ai",text:`Hello! I've analyzed your ${t==="pdf"?"PDF document":"YouTube video"}. What would you like to know about it?`}]);libExports$1.defaultLayoutPlugin();const Z=[{value:"pdf",label:"PDF Document",icon:FileText,description:"Analyze PDF files for content extraction",placeholder:"Choose a PDF file to analyze"},{value:"yt",label:"YouTube Video",icon:Link,description:"Extract information from YouTube videos",placeholder:"https://www.youtube.com/watch?v=..."}],Q=reactExports.useMemo(()=>n?URL.createObjectURL(n):null,[n]);reactExports.useEffect(()=>{b.current&&b.current.zoom(libExports$2.SpecialZoomLevel.ActualSize)},[Q]);const z=libExports.highlightPlugin(),{jumpToHighlightArea:K,highlightAreas:j,setHighlightAreas:T}=z,I=he=>{const se=he.target.files[0]??null;i(se),console.log("Selected file:",se),f("")},Y=he=>{o(he.target.value),f("")},R=he=>{e(he),i(null),o(""),h(null),f("")},U=async he=>{he.preventDefault(),f(""),h(null);try{if(t==="pdf"){if(!n)return f("Please choose a PDF file to analyze.");let se=await uploadPdf(n);m(!0),h(se),p("results");return}if(t==="yt"){if(!s.trim())return f("Please paste a YouTube link to analyze.");let se=await analyzeYoutube(s);m(!0),console.log("YouTube analysis response:",se),h(se),p("results");return}}catch(se){console.error(se),f(se.response?.data?.error||se.message||"Something went wrong. Please try again.")}finally{m(!1)}},G=()=>Z.find(he=>he.value===t),ue=()=>{p("form"),h(null),f(""),i(null),o("")};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[y==="form"&&jsxRuntimeExports.jsxs("section",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-r from-green-500 to-teal-600 rounded-lg",children:jsxRuntimeExports.jsx(ScanLine,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:"AI Content Scanner"}),jsxRuntimeExports.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Analyze PDFs and YouTube videos with AI-powered extraction"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Content Type"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Z.map(he=>{const se=he.icon;return jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R(he.value),className:`p-4 rounded-lg border-2 transition-all duration-200 text-left ${t===he.value?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-slate-300 dark:border-slate-600 hover:border-slate-400 dark:hover:border-slate-500"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(se,{className:`w-5 h-5 ${t===he.value?"text-green-600 dark:text-green-400":"text-slate-500 dark:text-slate-400"}`}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:`font-medium ${t===he.value?"text-green-900 dark:text-green-100":"text-slate-900 dark:text-slate-100"}`,children:he.label}),jsxRuntimeExports.jsx("p",{className:`text-sm ${t===he.value?"text-green-700 dark:text-green-300":"text-slate-600 dark:text-slate-400"}`,children:he.description})]})]})},he.value)})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:U,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:t==="pdf"?"Upload File":"Video URL"}),t==="pdf"?jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf",onChange:I,className:"w-full p-3 pl-10 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 file:mr-4 file:py-1 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"}),jsxRuntimeExports.jsx(Upload,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"})]}):jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:G()?.placeholder,value:s||"",onChange:Y,className:"w-full p-3 pl-10 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),jsxRuntimeExports.jsx(Link,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"})]})]}),t==="pdf"&&n&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 text-slate-600 dark:text-slate-400"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:[n.name," (",(n.size/1024/1024).toFixed(2)," MB)"]})]})}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:c,className:`w-full font-semibold py-3 px-6 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 ${c?"bg-slate-400 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700"} text-white`,children:c?jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Analyzing Content..."})]}):jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(ScanLine,{className:"w-4 h-4"}),"Start Analysis"]})})]}),d&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),jsxRuntimeExports.jsx("p",{className:"text-red-700 dark:text-red-400 text-sm",children:d})]}),jsxRuntimeExports.jsx(Model2history,{})]}),y==="results"&&jsxRuntimeExports.jsx(Model2results,{file:n,url:s,mode:t,isLoading:c,setIsLoading:m,onNewScan:ue,viewerRef:b,fileUrl:Q,response:_})]})}const TAB_CONFIG=[{id:"resources",label:"Resources",icon:LayoutDashboard},{id:"scanner",label:"Scanner",icon:ScanBarcode}];function Dashboard(){const[t,e]=reactExports.useState(!0),[n,i]=reactExports.useState("resources"),[s,o]=reactExports.useState(!1),c={resources:Resources,scanner:Scanner}[n];return jsxRuntimeExports.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-100 dark:bg-slate-950",children:[jsxRuntimeExports.jsxs("aside",{className:`bg-gradient-to-b from-slate-900 to-slate-800 text-slate-100 transition-all duration-300 ease-in-out border-r border-slate-700
          ${t?"translate-x-0":"-translate-x-full"}
          ${s?"w-16":"w-64"}
          fixed sm:static inset-y-0 z-40 sm:translate-x-0 shadow-xl`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[!s&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg",children:jsxRuntimeExports.jsx(Database,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-lg",children:"Resource Hub"})]}),jsxRuntimeExports.jsx("button",{className:"p-1 rounded-lg hover:bg-slate-700 transition-colors sm:hidden",onClick:()=>e(!1),children:jsxRuntimeExports.jsx(X,{size:20})}),jsxRuntimeExports.jsx("button",{className:"p-1 rounded-lg hover:bg-slate-700 transition-colors hidden sm:block",onClick:()=>o(!s),children:s?jsxRuntimeExports.jsx(ChevronRight,{size:20}):jsxRuntimeExports.jsx(ChevronLeft,{size:20})})]}),jsxRuntimeExports.jsx("nav",{className:"mt-6 space-y-2 px-3",children:TAB_CONFIG.map(({id:m,label:_,icon:h})=>jsxRuntimeExports.jsxs("button",{onClick:()=>i(m),className:`group flex items-center w-full px-3 py-3 text-left gap-3 rounded-lg transition-all duration-200
                ${n===m?"bg-gradient-to-r from-blue-500/20 to-purple-600/20 text-blue-400 shadow-lg":"hover:bg-slate-700/50 text-slate-300 hover:text-white"}`,title:s?_:void 0,children:[jsxRuntimeExports.jsx(h,{size:20,className:`shrink-0 transition-colors ${n===m?"text-blue-400":"text-slate-400 group-hover:text-blue-300"}`}),!s&&jsxRuntimeExports.jsx("span",{className:"font-medium",children:_}),n===m&&jsxRuntimeExports.jsx("div",{className:"ml-auto w-2 h-2 bg-blue-400 rounded-full"})]},m))}),!s&&jsxRuntimeExports.jsx("div",{className:"mt-auto p-4 border-t border-slate-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-800/50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(User$1,{className:"w-4 h-4 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-200 truncate",children:"User"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-slate-400 truncate",children:"Admin"})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex flex-col bg-slate-50 dark:bg-slate-900 min-w-0",children:jsxRuntimeExports.jsx("main",{className:"flex-1 bg-gradient-to-br from-slate-900 via-gray-900 to-black  overflow-y-auto p-6",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto",children:c?jsxRuntimeExports.jsx(c,{}):jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-8 text-center",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-gradient-to-r from-red-500 to-pink-600 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:jsxRuntimeExports.jsx(X,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Tab Not Found"}),jsxRuntimeExports.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"The requested tab could not be found. Please select a valid option from the sidebar."})]})})})}),t&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 sm:hidden",onClick:()=>e(!1)})]})}const Quiz=()=>{const t=useNavigate(),{questions:e,setQuestions:n,userAnswers:i,setUserAnswers:s,current:o,setCurrent:c,showResults:m,setShowResults:_}=useQuiz(),h=e[o];console.log(e),console.log("Current Question:",h);const d=P=>{s({...i,[o]:P})},f=()=>{o<e.length-1?c(o+1):_(!0)},b=()=>{o>0&&c(o-1)},y=P=>i[P]===e[P].correct_answer,p=()=>{const P=e.filter((Z,Q)=>y(Q)).length;return{correct:P,total:e.length,percentage:Math.round(P/e.length*100)}},v=P=>P>=80?"from-green-600 to-emerald-700":P>=60?"from-yellow-600 to-orange-700":"from-red-600 to-pink-700",A=P=>P>=80?Trophy:P>=60?Award:Target,w=()=>{_(!1),c(0),s({}),t(-1)};return jsxRuntimeExports.jsx("div",{className:"min-h-screen p-6 overflow-x-hidden bg-gradient-to-br from-gray-800 via-slate-800 to-gray-900",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 rounded-3xl p-8 text-white shadow-2xl border border-blue-400/20",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-white/20 backdrop-blur-lg rounded-2xl p-4 shadow-lg",children:jsxRuntimeExports.jsx(Brain,{className:"w-8 h-8 text-blue-100"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"AI Quiz Challenge"}),jsxRuntimeExports.jsx("p",{className:"text-blue-100 text-lg font-medium",children:"Test your knowledge with AI-generated questions"})]})]})}),m?jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-start",children:jsxRuntimeExports.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 text-blue-100 hover:text-white hover:bg-white/15 px-6 py-3 rounded-xl transition-all duration-200 backdrop-blur-sm bg-gradient-to-r from-gray-700 to-slate-800 hover:from-gray-600 hover:to-slate-700 border border-gray-600/50 hover:border-indigo-500/50 font-medium shadow-lg",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5"}),"Go Back to Resources"]})}),jsxRuntimeExports.jsx("div",{className:`bg-gradient-to-r ${v(p().percentage)} rounded-3xl p-8 text-white shadow-2xl border border-white/20`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white/20 backdrop-blur-lg rounded-2xl p-4 shadow-lg",children:React.createElement(A(p().percentage),{className:"w-12 h-12 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold mb-2",children:"Quiz Complete!"}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-medium opacity-90",children:["You scored ",p().correct," out of ",p().total," questions"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white/20 backdrop-blur-lg rounded-2xl p-6 text-center shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"text-4xl font-bold",children:[p().percentage,"%"]}),jsxRuntimeExports.jsx("div",{className:"text-lg font-medium opacity-90",children:"Score"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-slate-800 to-gray-900 rounded-3xl shadow-2xl overflow-hidden border border-gray-700/50",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-700 p-6 border-b border-gray-700/30",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-white/20 backdrop-blur-lg rounded-2xl p-3 shadow-lg",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-7 h-7 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white",children:"Detailed Results"}),jsxRuntimeExports.jsx("p",{className:"text-purple-100 font-medium",children:"Review your answers and learn from explanations"})]})]})}),jsxRuntimeExports.jsx("div",{className:"p-8 space-y-6",children:e.map((P,Z)=>jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-gray-700 to-slate-800 rounded-2xl p-6 border border-gray-600/50 shadow-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[jsxRuntimeExports.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center font-bold text-lg shadow-lg ${y(Z)?"bg-gradient-to-br from-green-500 to-emerald-600 text-white":"bg-gradient-to-br from-red-500 to-pink-600 text-white"}`,children:Z+1}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold text-gray-100 mb-3",children:P.question}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[y(Z)?jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-green-400"}):jsxRuntimeExports.jsx(CircleX,{className:"w-5 h-5 text-red-400"}),jsxRuntimeExports.jsxs("span",{className:`font-bold ${y(Z)?"text-green-300":"text-red-300"}`,children:["Your Answer: ",i[Z]?.toUpperCase()||"None"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-green-400"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-green-300",children:["Correct Answer: ",P.correct_answer.toUpperCase()]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 p-4 bg-gray-800/50 rounded-xl border border-gray-600/30",children:jsxRuntimeExports.jsx("p",{className:"text-gray-300 italic font-medium",children:P.explanation})}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsxs("a",{href:P.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-600 to-pink-700 hover:from-red-700 hover:to-pink-800 text-white font-bold rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border border-red-400/30",children:[jsxRuntimeExports.jsx(CirclePlay,{className:"w-5 h-5"}),jsxRuntimeExports.jsxs("span",{children:["Watch at ",P.timestamp]})]})})]})]})},Z))})]})]}):jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-gray-800 via-slate-800 to-gray-900 rounded-3xl shadow-2xl overflow-hidden border border-gray-700/50",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 border-b border-gray-700/30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-white/20 backdrop-blur-lg rounded-xl p-2 shadow-lg",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Question ",o+1," of ",e.length]}),jsxRuntimeExports.jsxs("p",{className:"text-blue-100 font-medium",children:["Progress: ",Math.round((o+1)/e.length*100),"%"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white/20 backdrop-blur-lg text-white px-4 py-2 rounded-full font-bold border border-white/30",children:[o+1,"/",e.length]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-white/20 rounded-full h-3 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-white to-blue-100 h-full rounded-full transition-all duration-500 ease-out shadow-sm",style:{width:`${(o+1)/e.length*100}%`}})})]}),jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-100 mb-6 leading-relaxed",children:h.question}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Object.entries(h.options).map(([P,Z])=>jsxRuntimeExports.jsx("button",{onClick:()=>d(P),className:`group w-full text-left p-5 rounded-2xl transition-all duration-300 transform hover:scale-102 border ${i[o]===P?"bg-gradient-to-r from-blue-600 to-indigo-700 border-blue-400 text-white shadow-lg":"bg-gradient-to-r from-gray-700 to-slate-800 hover:from-gray-600 hover:to-slate-700 border-gray-600/50 hover:border-indigo-500/50 text-gray-100 hover:text-white"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center font-bold text-lg shadow-lg ${i[o]===P?"bg-white/20 backdrop-blur-lg text-white":"bg-gradient-to-br from-blue-500 to-indigo-600 text-white"}`,children:P.toUpperCase()}),jsxRuntimeExports.jsx("span",{className:"font-medium text-lg",children:Z})]})},P))})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("button",{onClick:b,disabled:o===0,className:"group flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-gray-600 to-slate-700 hover:from-gray-500 hover:to-slate-600 text-white font-bold rounded-2xl shadow-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 border border-gray-500/50",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5"}),"Previous"]}),jsxRuntimeExports.jsxs("button",{onClick:f,className:"group flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 text-white font-bold rounded-2xl shadow-lg transition-all duration-300 transform hover:scale-105 border border-blue-400/30",children:[o<e.length-1?"Next":"Submit Quiz",jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5"})]})]})]})]})]})})};function App(){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/dashboard/*",element:jsxRuntimeExports.jsx(Dashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"/quiz",element:jsxRuntimeExports.jsx(Quiz,{})}),jsxRuntimeExports.jsx(Route,{path:"/auth",element:jsxRuntimeExports.jsx(AuthForm,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})})]})})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(QuizProvider,{children:jsxRuntimeExports.jsx(App,{})})})}));
